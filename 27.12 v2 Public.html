<script language=javascript>document.write(unescape('%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22ru%22%3E%0A%3Chead%3E%0A%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%2C%20viewport-fit%3Dcover%22%3E%0A%3Ctitle%3EDaymix%u2019s%20Planet.Io%20v2.9.0%20Update%3C/title%3E%0A%3Cstyle%3E%0A@font-face%20%7B%20font-family%3A%20%27Comic%20Sans%20MS%27%3B%20src%3A%20local%28%27Comic%20Sans%20MS%27%29%3B%20%7D%0A/*%20Joystick%20Sizing%3A%20Move%20+25%25%2C%20Aim%20/1.5%20*/%0A%3Aroot%20%7B%20--joy-size%3A%20187.5px%3B%20--joy-x%3A%2050px%3B%20--joy-y%3A%2050px%3B%20--aim-size%3A%20120px%3B%20--aim-x%3A%2060px%3B%20--aim-y%3A%2060px%3B%20--primary-glow%3A%20%2300BFFF%3B%20--bg-dark%3A%20%23050a10%3B%20%7D%0Abody%20%7B%20margin%3A%200%3B%20overflow%3A%20hidden%3B%20background%3A%20%23050510%3B%20font-family%3A%20%27Segoe%20UI%27%2C%20%27Comic%20Sans%20MS%27%2C%20sans-serif%3B%20color%3A%20white%3B%20user-select%3A%20none%3B%20touch-action%3A%20none%3B%20-webkit-tap-highlight-color%3A%20transparent%3B%20%7D%0Acanvas%20%7B%20display%3A%20block%3B%20width%3A%20100vw%3B%20height%3A%20100vh%3B%20image-rendering%3A%20pixelated%3B%20%7D%0A%23ui-layer%20%7B%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20pointer-events%3A%20none%3B%20%7D%0A.interactive%20%7B%20pointer-events%3A%20auto%3B%20%7D%0A%0A/*%20TOP%20HUD%20*/%0A.top-hud%20%7B%20position%3A%20absolute%3B%20top%3A%20max%2810px%2C%201vmin%29%3B%20left%3A%20max%2810px%2C%201vmin%29%3B%20right%3A%20max%2810px%2C%201vmin%29%3B%20display%3A%20flex%3B%20justify-content%3A%20space-between%3B%20align-items%3A%20flex-start%3B%20z-index%3A%205%3B%20%7D%0A.hud-left-group%20%7B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2015px%3B%20%7D%0A.profile-badge%20%7B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20border%3A%202px%20solid%20%23fff%3B%20border-radius%3A%2015px%3B%20padding%3A%200.5em%201em%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2015px%3B%20font-size%3A%20max%2816px%2C%202vmin%29%3B%20width%3A%20fit-content%3B%20pointer-events%3A%20auto%3B%20min-width%3A%20200px%3B%20%7D%0A.ingame-shop-btn%20%7B%20background%3A%20linear-gradient%2845deg%2C%20%23FFD700%2C%20%23FFA500%29%3B%20border%3A%202px%20solid%20%23fff%3B%20color%3A%20%23000%3B%20padding%3A%208px%3B%20border-radius%3A%2050%25%3B%20font-weight%3A%20bold%3B%20cursor%3A%20pointer%3B%20font-size%3A%2024px%3B%20pointer-events%3A%20auto%3B%20z-index%3A%2025%3B%20width%3A%2050px%3B%20height%3A%2050px%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20box-shadow%3A%200%200%2010px%20gold%3B%20%7D%0A.ingame-shop-btn%3Aactive%20%7B%20transform%3A%20scale%280.9%29%3B%20%7D%0A.exit-btn%20%7B%20position%3A%20absolute%3B%20top%3A%200%3B%20right%3A%200%3B%20transform%3A%20none%3B%20background%3A%20rgba%28255%2C%200%2C%200%2C%200.6%29%3B%20border%3A%202px%20solid%20%23ff4444%3B%20color%3A%20white%3B%20padding%3A%208px%2015px%3B%20border-radius%3A%208px%3B%20font-weight%3A%20bold%3B%20cursor%3A%20pointer%3B%20font-size%3A%2016px%3B%20pointer-events%3A%20auto%3B%20transition%3A%200.2s%3B%20z-index%3A%2020%3B%20%7D%0A.exit-btn%3Ahover%20%7B%20background%3A%20rgba%28255%2C%200%2C%200%2C%200.9%29%3B%20box-shadow%3A%200%200%2010px%20red%3B%20%7D%0Abody.mobile-layout%20.exit-btn%20%7B%20right%3A%2010px%3B%20top%3A%2010px%3B%20padding%3A%205px%2010px%3B%20font-size%3A%2014px%3B%20z-index%3A%2025%3B%20%7D%0A.fps-badge%20%7B%20position%3A%20absolute%3B%20top%3A%2070px%3B%20left%3A%2010px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.6%29%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2010px%3B%20padding%3A%200.2em%200.8em%3B%20font-weight%3A%20bold%3B%20font-family%3A%20monospace%3B%20font-size%3A%2014px%3B%20width%3A%20fit-content%3B%20text-shadow%3A%201px%201px%200%20%23000%3B%20pointer-events%3A%20none%3B%20%7D%0A.fps-badge.right-side%20%7B%20left%3A%20auto%3B%20right%3A%20120px%3B%20top%3A%2010px%3B%20%7D%0A.lb-wrapper%20%7B%20position%3A%20absolute%3B%20right%3A%200%3B%20top%3A%2050px%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20flex-end%3B%20pointer-events%3A%20auto%3B%20%7D%0A.lb-header%20%7B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20padding%3A%205px%2010px%3B%20border%3A%202px%20solid%20var%28--primary-glow%29%3B%20border-bottom%3A%20none%3B%20border-radius%3A%2010px%2010px%200%200%3B%20font-size%3A%2012px%3B%20cursor%3A%20pointer%3B%20color%3A%20var%28--primary-glow%29%3B%20font-weight%3A%20bold%3B%20width%3A%20100px%3B%20text-align%3A%20center%3B%20%7D%0A.leaderboard%20%7B%20text-align%3A%20right%3B%20background%3A%20rgba%280%2C0%2C0%2C0.5%29%3B%20padding%3A%2010px%3B%20border-radius%3A%2010px%200%2010px%2010px%3B%20border-right%3A%204px%20solid%20var%28--primary-glow%29%3B%20transition%3A%20height%200.3s%3B%20overflow%3A%20hidden%3B%20min-width%3A%20150px%3B%20%7D%0A.lb-row%20%7B%20font-size%3A%20max%2812px%2C%201.5vmin%29%3B%20margin-bottom%3A%204px%3B%20white-space%3A%20nowrap%3B%20%7D%0A.lb-collapsed%20.leaderboard%20%7B%20display%3A%20none%3B%20%7D%0A.lb-collapsed%20.lb-header%20%7B%20border-bottom%3A%202px%20solid%20var%28--primary-glow%29%3B%20border-radius%3A%2010px%3B%20%7D%0A.boss-timer-container%20%7B%20position%3A%20absolute%3B%20top%3A%2050px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20background%3A%20rgba%2850%2C%200%2C%200%2C%200.7%29%3B%20border%3A%202px%20solid%20%23ff4500%3B%20padding%3A%205px%2015px%3B%20border-radius%3A%2020px%3B%20text-align%3A%20center%3B%20box-shadow%3A%200%200%2015px%20%23ff4500%3B%20display%3A%20none%3B%20min-width%3A%20140px%3B%20%7D%0A.boss-label%20%7B%20font-size%3A%2012px%3B%20color%3A%20%23ffaeae%3B%20text-transform%3A%20uppercase%3B%20font-weight%3A%20bold%3B%20%7D%0A.boss-time-val%20%7B%20font-size%3A%2024px%3B%20font-weight%3A%20bold%3B%20color%3A%20%23fff%3B%20font-family%3A%20monospace%3B%20%7D%0A.boss-wave-timer%20%7B%20font-size%3A%2014px%3B%20color%3A%20%23ffff00%3B%20margin-top%3A%202px%3B%20font-family%3A%20monospace%3B%20%7D%0A%23pvpTimerDisplay%20%7B%20position%3A%20absolute%3B%20top%3A%20150px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20font-size%3A%2020px%3B%20font-weight%3A%20bold%3B%20color%3A%20%2300FFFF%3B%20text-shadow%3A%200%200%2010px%20%2300FFFF%3B%20display%3A%20none%3B%20z-index%3A%2010%3B%20text-align%3A%20center%3B%20background%3A%20rgba%280%2C0%2C0%2C0.5%29%3B%20padding%3A%205px%2010px%3B%20border-radius%3A%208px%3B%20%7D%0A%0A/*%20INVENTORY%20%26%20TOGGLE%20*/%0A.inv-toggle-btn%20%7B%20position%3A%20absolute%3B%20bottom%3A%2030px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20width%3A%2060px%3B%20height%3A%2060px%3B%20border-radius%3A%2012px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.6%29%3B%20border%3A%202px%20solid%20%23fff%3B%20font-size%3A%2030px%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%20box-shadow%3A%200%200%2010px%20%23000%3B%20z-index%3A%2012%3B%20%7D%0A.inventory-hud%20%7B%20display%3A%20none%3B%20position%3A%20absolute%3B%20bottom%3A%20100px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20flex-direction%3A%20column%3B%20gap%3A%205px%3B%20align-items%3A%20center%3B%20z-index%3A%2030%3B%20background%3A%20rgba%280%2C10%2C20%2C0.95%29%3B%20border%3A%202px%20solid%20%23444%3B%20border-radius%3A%2015px%3B%20padding%3A%2010px%2020px%3B%20min-width%3A%20200px%3B%20box-shadow%3A%200%200%2020px%20rgba%280%2C0%2C0%2C0.8%29%3B%20%7D%0A.inv-title%20%7B%20font-size%3A%2012px%3B%20color%3A%20gold%3B%20font-weight%3A%20bold%3B%20margin-bottom%3A%205px%3B%20%7D%0A.inv-slots-row%20%7B%20display%3A%20flex%3B%20gap%3A%2015px%3B%20justify-content%3A%20center%3B%20flex-wrap%3A%20wrap%3B%20%7D%0A.inv-slot-box%20%7B%20width%3A%2050px%3B%20height%3A%2050px%3B%20background%3A%20%23222%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2010px%3B%20position%3A%20relative%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20font-size%3A%2024px%3B%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%20overflow%3A%20hidden%3B%20%7D%0A.inv-slot-box.active%20%7B%20border-color%3A%20%2300BFFF%3B%20box-shadow%3A%200%200%2010px%20%2300BFFF%3B%20background%3A%20%23333%3B%20%7D%0A.inv-count-badge%20%7B%20position%3A%20absolute%3B%20bottom%3A%20-8px%3B%20right%3A%20-8px%3B%20background%3A%20%23333%3B%20border%3A%201px%20solid%20%23777%3B%20color%3A%20%23fff%3B%20font-size%3A%2010px%3B%20padding%3A%202px%205px%3B%20border-radius%3A%204px%3B%20z-index%3A%202%3B%20%7D%0A.inv-timer-overlay%20%7B%20position%3A%20absolute%3B%20bottom%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%200%25%3B%20background%3A%20rgba%280%2C%20255%2C%20255%2C%200.3%29%3B%20transition%3A%20height%200.1s%20linear%3B%20pointer-events%3A%20none%3B%20%7D%0A%0A/*%20ABILITIES%20*/%0A.ability-btn-group%20%7B%20position%3A%20absolute%3B%20right%3A%2020px%3B%20top%3A%2050%25%3B%20transform%3A%20translateY%28-50%25%29%3B%20display%3A%20grid%3B%20grid-template-columns%3A%201fr%201fr%3B%20gap%3A%2010px%3B%20align-items%3A%20center%3B%20z-index%3A%2015%3B%20pointer-events%3A%20none%3B%20direction%3A%20rtl%3B%20transition%3A%20transform%200.3s%3B%20%7D%0A.ability-btn-group.hidden-mobile%20%7B%20transform%3A%20translateX%28150%25%29%3B%20%7D%20%0A.ab-btn%20%7B%20width%3A%2050px%3B%20height%3A%2050px%3B%20border-radius%3A%2050%25%3B%20border%3A%203px%20solid%20%23fff%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20font-size%3A%2022px%3B%20cursor%3A%20pointer%3B%20pointer-events%3A%20auto%3B%20position%3A%20relative%3B%20background%3A%20%23333%3B%20box-shadow%3A%200%200%2010px%20%23000%3B%20transition%3A%20transform%200.1s%3B%20direction%3A%20ltr%3B%20%7D%0A.ab-btn%3Aactive%20%7B%20transform%3A%20scale%280.95%29%3B%20%7D%0A.ab-btn.cd%20%7B%20filter%3A%20grayscale%281%29%3B%20opacity%3A%200.5%3B%20cursor%3A%20default%3B%20%7D%0A.ab-btn.active-mode%20%7B%20border-color%3A%20%23ff0%3B%20box-shadow%3A%200%200%2015px%20%23ff0%3B%20animation%3A%20pulseGlow%201s%20infinite%3B%20%7D%0A.ab-btn.blue-active-mode%20%7B%20border-color%3A%20%2300BFFF%3B%20box-shadow%3A%200%200%2020px%20%2300BFFF%3B%20animation%3A%20pulseBlue%200.5s%20infinite%20alternate%3B%20background%3A%20%23002244%3B%20%7D%0A.ab-btn.green-active-mode%20%7B%20border-color%3A%20%2332CD32%3B%20box-shadow%3A%200%200%2020px%20%2332CD32%3B%20animation%3A%20pulseGreen%200.5s%20infinite%20alternate%3B%20background%3A%20%23004400%3B%20%7D%0A.ab-btn.red-active-mode%20%7B%20border-color%3A%20%23FF4500%3B%20box-shadow%3A%200%200%2020px%20%23FF4500%3B%20animation%3A%20pulseRed%200.5s%20infinite%20alternate%3B%20background%3A%20%23440000%3B%20%7D%0A%0A@keyframes%20pulseGlow%20%7B%200%25%20%7B%20box-shadow%3A%200%200%2015px%20%23ff0%3B%20%7D%2050%25%20%7B%20box-shadow%3A%200%200%2025px%20%23ff0%3B%20border-color%3A%20%23fff%3B%20%7D%20100%25%20%7B%20box-shadow%3A%200%200%2015px%20%23ff0%3B%20%7D%20%7D%0A@keyframes%20pulseBlue%20%7B%200%25%20%7B%20box-shadow%3A%200%200%2015px%20%2300BFFF%3B%20%7D%20100%25%20%7B%20box-shadow%3A%200%200%2030px%20%2300BFFF%3B%20border-color%3A%20%23fff%3B%20%7D%20%7D%0A@keyframes%20pulseGreen%20%7B%200%25%20%7B%20box-shadow%3A%200%200%2015px%20%2332CD32%3B%20%7D%20100%25%20%7B%20box-shadow%3A%200%200%2030px%20%2332CD32%3B%20border-color%3A%20%23fff%3B%20%7D%20%7D%0A@keyframes%20pulseRed%20%7B%200%25%20%7B%20box-shadow%3A%200%200%2015px%20%23FF4500%3B%20%7D%20100%25%20%7B%20box-shadow%3A%200%200%2030px%20%23FF4500%3B%20border-color%3A%20%23fff%3B%20%7D%20%7D%0A%0A.ab-cd-text%20%7B%20position%3A%20absolute%3B%20font-weight%3A%20bold%3B%20color%3A%20%23fff%3B%20font-size%3A%2014px%3B%20text-shadow%3A%201px%201px%200%20%23000%3B%20%7D%0A.ab-stock%20%7B%20position%3A%20absolute%3B%20bottom%3A%20-5px%3B%20right%3A%20-5px%3B%20background%3A%20red%3B%20color%3A%20white%3B%20border-radius%3A%2050%25%3B%20width%3A%2018px%3B%20height%3A%2018px%3B%20font-size%3A%2010px%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20border%3A%201px%20solid%20%23fff%3B%20%7D%0A.mob-wep-toggle%20%7B%20display%3A%20none%3B%20position%3A%20absolute%3B%20top%3A%20100px%3B%20right%3A%2010px%3B%20width%3A%2045px%3B%20height%3A%2045px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.6%29%3B%20border%3A%202px%20solid%20gold%3B%20border-radius%3A%2010px%3B%20color%3A%20gold%3B%20font-size%3A%2024px%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20pointer-events%3A%20auto%3B%20z-index%3A%2016%3B%20cursor%3A%20pointer%3B%20%7D%0A.ammo-display%20%7B%20position%3A%20absolute%3B%20bottom%3A%20140px%3B%20right%3A%2050%25%3B%20transform%3A%20translateX%2850%25%29%3B%20display%3A%20flex%3B%20gap%3A%205px%3B%20pointer-events%3A%20none%3B%20align-items%3A%20flex-end%3B%20%7D%0A.ammo-dot%20%7B%20width%3A%2012px%3B%20height%3A%2012px%3B%20border-radius%3A%2050%25%3B%20background%3A%20%23555%3B%20border%3A%201px%20solid%20%23fff%3B%20%7D%0A.ammo-dot.active%20%7B%20background%3A%20%230ff%3B%20box-shadow%3A%200%200%205px%20%230ff%3B%20%7D%0A.reload-timer-text%20%7B%20position%3A%20absolute%3B%20top%3A%20-25px%3B%20width%3A%20100%25%3B%20text-align%3A%20center%3B%20color%3A%20%230ff%3B%20font-weight%3A%20bold%3B%20font-family%3A%20monospace%3B%20font-size%3A%2014px%3B%20text-shadow%3A%201px%201px%200%20%23000%3B%20display%3A%20none%3B%20%7D%0A.joystick-area%20%7B%20position%3A%20absolute%3B%20width%3A%20var%28--joy-size%29%3B%20height%3A%20var%28--joy-size%29%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.1%29%3B%20border%3A%202px%20solid%20rgba%28255%2C255%2C255%2C0.3%29%3B%20border-radius%3A%2050%25%3B%20pointer-events%3A%20auto%3B%20display%3A%20none%3B%20z-index%3A%2016%3B%20%7D%0A.joystick-knob%20%7B%20position%3A%20absolute%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20width%3A%2040%25%3B%20height%3A%2040%25%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.8%29%3B%20border-radius%3A%2050%25%3B%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%20box-shadow%3A%200%200%2010px%20%23000%3B%20transition%3A%20background%200.2s%3B%20%7D%0A.joystick-knob.auto-aim%20%7B%20background%3A%20%23FF8C00%3B%20box-shadow%3A%200%200%2015px%20%23FF8C00%3B%20%7D%0A%23joystick%20%7B%20bottom%3A%20var%28--joy-y%29%3B%20left%3A%20var%28--joy-x%29%3B%20%7D%0A%23aimJoystick%20%7B%20width%3A%20var%28--aim-size%29%3B%20height%3A%20var%28--aim-size%29%3B%20bottom%3A%20var%28--aim-y%29%3B%20right%3A%20var%28--aim-x%29%3B%20border-color%3A%20rgba%28100%2C%20200%2C%20255%2C%200.4%29%3B%20display%3A%20none%3B%20%7D%0A%23aimJoystick%20.joystick-knob%20%7B%20background%3A%20rgba%28100%2C%20200%2C%20255%2C%200.8%29%3B%20%7D%0A%23mobile-controls%20%7B%20display%3A%20none%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20pointer-events%3A%20none%3B%20%7D%0A.mobile-action-btn%20%7B%20position%3A%20absolute%3B%20bottom%3A%2080px%3B%20right%3A%2040px%3B%20width%3A%2060px%3B%20height%3A%2060px%3B%20background%3A%20rgba%2874%2C%20144%2C%20226%2C%200.5%29%3B%20border%3A%204px%20solid%20%23fff%3B%20border-radius%3A%2050%25%3B%20pointer-events%3A%20auto%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20font-size%3A%2024px%3B%20transition%3A%20transform%200.5s%3B%20z-index%3A%2016%3B%20box-shadow%3A%200%200%2020px%20rgba%280%2C0%2C0%2C0.5%29%3B%20%7D%0A.mob-count%20%7B%20position%3A%20absolute%3B%20top%3A%20-5px%3B%20right%3A%20-5px%3B%20background%3A%20red%3B%20width%3A%2020px%3B%20height%3A%2020px%3B%20border-radius%3A%2050%25%3B%20font-size%3A%2012px%3B%20display%3A%20none%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20border%3A%201px%20solid%20%23fff%3B%20%7D%0A.mobile-action-btn.boost-btn%20%7B%20bottom%3A%2030px%3B%20right%3A%20130px%3B%20width%3A%2050px%3B%20height%3A%2050px%3B%20background%3A%20rgba%28255%2C%2069%2C%200%2C%200.5%29%3B%20border-color%3A%20%23ff4500%3B%20font-size%3A%2020px%3B%20%7D%0A.mobile-action-btn.boost-btn%3Aactive%20%7B%20background%3A%20rgba%28255%2C%2069%2C%200%2C%200.9%29%3B%20transform%3A%20scale%280.9%29%3B%20%7D%0A.spin-cards%20%7B%20display%3A%20flex%3B%20gap%3A%2010px%3B%20%7D%0A.spin-card%20%7B%20background%3A%20%23333%3B%20padding%3A%2010px%3B%20border-radius%3A%2010px%3B%20border%3A%202px%20solid%20%23fff%3B%20cursor%3A%20pointer%3B%20text-align%3A%20center%3B%20%7D%0A%23spin-overlay%20%7B%20display%3A%20none%3B%20position%3A%20fixed%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20z-index%3A%2050%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20%7D%0A.minimap-container%20%7B%20position%3A%20absolute%3B%20bottom%3A%2020px%3B%20right%3A%2020px%3B%20width%3A%2015vmin%3B%20height%3A%2015vmin%3B%20min-width%3A%20100px%3B%20min-height%3A%20100px%3B%20background%3A%20rgba%280%2C%2010%2C%2030%2C%200.8%29%3B%20border%3A%202px%20solid%20var%28--primary-glow%29%3B%20border-radius%3A%2015px%3B%20overflow%3A%20hidden%3B%20z-index%3A%2010%3B%20%7D%0A%23minimapCanvas%20%7B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20%7D%0A.lang-btn%20%7B%20position%3A%20relative%3B%20border%3A%202px%20solid%20%2300FFFF%3B%20border-radius%3A%2020px%3B%20background%3A%20transparent%3B%20color%3A%20%2300FFFF%3B%20padding%3A%208px%2016px%208px%2030px%3B%20font-size%3A%2014px%3B%20font-weight%3A%20bold%3B%20cursor%3A%20pointer%3B%20text-transform%3A%20uppercase%3B%20margin-top%3A%2015px%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20box-shadow%3A%200%200%2010px%20rgba%280%2C255%2C255%2C0.3%29%3B%20transition%3A%200.2s%3B%20%7D%0A.lang-btn%3Ahover%20%7B%20box-shadow%3A%200%200%2015px%20rgba%280%2C255%2C255%2C0.6%29%3B%20background%3A%20rgba%280%2C255%2C255%2C0.1%29%3B%20%7D%0A.lang-btn%3A%3Abefore%20%7B%20content%3A%20%27%27%3B%20position%3A%20absolute%3B%20left%3A%2010px%3B%20width%3A%2012px%3B%20height%3A%2012px%3B%20background%3A%20%23A020F0%3B%20border-radius%3A%2050%25%3B%20%7D%0A@media%20%28max-width%3A%20900px%29%20%7B%0A%20%20%20%20.ab-btn%20%7B%20width%3A%2045px%3B%20height%3A%2045px%3B%20font-size%3A%2020px%3B%20%7D%0A%20%20%20%20.inv-toggle-btn%20%7B%20display%3A%20none%3B%20%7D%0A%20%20%20%20.inventory-hud%20%7B%20display%3A%20none%3B%20bottom%3A%20180px%3B%20z-index%3A%2050%3B%20%7D%20%0A%20%20%20%20.fps-badge%20%7B%20font-size%3A%2012px%3B%20%7D%0A%20%20%20%20.ammo-display%20%7B%20bottom%3A%20auto%3B%20top%3A%20150px%3B%20right%3A%2020px%3B%20transform%3A%20none%3B%20flex-direction%3A%20column%3B%20%7D%0A%20%20%20%20.mobile-action-btn%20%7B%20width%3A%2050px%3B%20height%3A%2050px%3B%20font-size%3A%2020px%3B%20bottom%3A%2060px%3B%20right%3A%2030px%3B%20%7D%0A%20%20%20%20.mob-wep-toggle%20%7B%20display%3A%20flex%3B%20%7D%0A%20%20%20%20.ability-btn-group%20%7B%20top%3A%2060%25%3B%20transform%3A%20translateY%28-50%25%29%3B%20%7D%20%0A%20%20%20%20.mode-cards%20%7B%20display%3A%20grid%3B%20grid-template-columns%3A%201fr%201fr%3B%20width%3A%2095%25%3B%20justify-items%3A%20center%3B%20gap%3A%2015px%3B%20padding-bottom%3A%2040px%3B%20%7D%0A%20%20%20%20%23modeScreen%2C%20%23difficultyScreen%20%7B%20justify-content%3A%20flex-start%3B%20padding-top%3A%2050px%3B%20overflow-y%3A%20auto%3B%20%7D%0A%7D%0A%0A/*%20MENUS%20*/%0A.menu-screen%20%7B%20position%3A%20fixed%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20var%28--bg-dark%29%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20z-index%3A%2010%3B%20overflow-y%3A%20auto%3B%20box-sizing%3A%20border-box%3B%20%7D%0A.game-title%20%7B%20font-size%3A%20min%288vw%2C%2060px%29%3B%20font-weight%3A%20bold%3B%20color%3A%20%233fa9f5%3B%20text-shadow%3A%200%200%2020px%20rgba%2863%2C%20169%2C%20245%2C%200.6%29%3B%20margin-bottom%3A%202vh%3B%20text-align%3A%20center%3B%20flex-shrink%3A%200%3B%20%7D%0A.name-input-container%20%7B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2010px%3B%20margin-bottom%3A%202vh%3B%20position%3A%20relative%3B%20flex-shrink%3A%200%3B%20%7D%0A.name-input%20%7B%20background%3A%20transparent%3B%20border%3A%20none%3B%20border-bottom%3A%202px%20solid%20%23fff%3B%20color%3A%20%23fff%3B%20font-size%3A%2024px%3B%20text-align%3A%20center%3B%20width%3A%20200px%3B%20padding%3A%205px%3B%20outline%3A%20none%3B%20font-family%3A%20inherit%3B%20font-weight%3A%20bold%3B%20%7D%0A.gear-btn%20%7B%20font-size%3A%2028px%3B%20cursor%3A%20pointer%3B%20transition%3A%20transform%200.3s%3B%20%7D%0A.gear-btn%3Ahover%20%7B%20transform%3A%20rotate%2890deg%29%3B%20color%3A%20var%28--primary-glow%29%3B%20%7D%0A.color-picker-pop%20%7B%20position%3A%20absolute%3B%20top%3A%20100%25%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20background%3A%20%23222%3B%20border%3A%201px%20solid%20%23555%3B%20padding%3A%2010px%3B%20border-radius%3A%208px%3B%20display%3A%20none%3B%20gap%3A%205px%3B%20z-index%3A%2020%3B%20width%3A%20160px%3B%20flex-wrap%3A%20wrap%3B%20justify-content%3A%20center%3B%20%7D%0A.color-opt%20%7B%20width%3A%2024px%3B%20height%3A%2024px%3B%20border-radius%3A%2050%25%3B%20cursor%3A%20pointer%3B%20border%3A%202px%20solid%20%23000%3B%20%7D%0A.menu-buttons%20%7B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%202vh%3B%20width%3A%20min%28300px%2C%2080vw%29%3B%20padding-bottom%3A%2040px%3B%20%7D%0A.neon-btn%20%7B%20background%3A%20rgba%28255%2C255%2C255%2C0.05%29%3B%20border%3A%202px%20solid%20%23fff%3B%20color%3A%20%23fff%3B%20padding%3A%2015px%3B%20font-size%3A%2020px%3B%20font-weight%3A%20bold%3B%20cursor%3A%20pointer%3B%20text-transform%3A%20uppercase%3B%20position%3A%20relative%3B%20overflow%3A%20hidden%3B%20transition%3A%200.2s%3B%20border-radius%3A%208px%3B%20flex-shrink%3A%200%3B%20%7D%0A.neon-btn%3Ahover%20%7B%20border-color%3A%20var%28--primary-glow%29%3B%20color%3A%20var%28--primary-glow%29%3B%20box-shadow%3A%200%200%2015px%20var%28--primary-glow%29%3B%20%7D%0A.neon-btn%3Aactive%20%7B%20transform%3A%20scale%280.95%29%3B%20%7D%0A.free-coins-btn%20%7B%20border-color%3A%20gold%3B%20color%3A%20gold%3B%20font-size%3A%2014px%3B%20padding%3A%2010px%3B%20margin-top%3A%2010px%3B%20%7D%0A.ripple%20%7B%20position%3A%20absolute%3B%20border-radius%3A%2050%25%3B%20transform%3A%20scale%280%29%3B%20animation%3A%20rippleAnim%200.6s%20linear%3B%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.3%29%3B%20pointer-events%3A%20none%3B%20%7D%0A@keyframes%20rippleAnim%20%7B%20to%20%7B%20transform%3A%20scale%284%29%3B%20opacity%3A%200%3B%20%7D%20%7D%0A%23hudEditorScreen%20%7B%20display%3A%20none%3B%20position%3A%20fixed%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20z-index%3A%20200%3B%20%7D%0A.hud-editor-overlay%20%7B%20position%3A%20absolute%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20%7D%0A.hud-control%20%7B%20position%3A%20absolute%3B%20border%3A%202px%20dashed%20%230f0%3B%20background%3A%20rgba%280%2C%20255%2C%200%2C%200.2%29%3B%20border-radius%3A%2050%25%3B%20touch-action%3A%20none%3B%20cursor%3A%20grab%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20color%3A%20%23fff%3B%20font-weight%3A%20bold%3B%20%7D%0A.hud-options%20%7B%20position%3A%20absolute%3B%20bottom%3A%2020px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20display%3A%20flex%3B%20gap%3A%2020px%3B%20background%3A%20%23111%3B%20padding%3A%2010px%3B%20border-radius%3A%2010px%3B%20border%3A%201px%20solid%20%23555%3B%20%7D%0A%23shopScreen%20%7B%20justify-content%3A%20flex-start%3B%20padding-top%3A%2020px%3B%20box-sizing%3A%20border-box%3B%20%7D%0A.shop-header%20%7B%20width%3A%2090%25%3B%20max-width%3A%201000px%3B%20display%3A%20flex%3B%20justify-content%3A%20space-between%3B%20align-items%3A%20center%3B%20margin-bottom%3A%2020px%3B%20flex-shrink%3A%200%3B%20%7D%0A.money-display%20%7B%20font-size%3A%2024px%3B%20border%3A%202px%20solid%20%23fff%3B%20padding%3A%208px%2020px%3B%20border-radius%3A%2010px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.3%29%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2010px%3B%20%7D%0A.close-btn%20%7B%20width%3A%2040px%3B%20height%3A%2040px%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20font-size%3A%2024px%3B%20border%3A%202px%20solid%20%23fff%3B%20border-radius%3A%208px%3B%20cursor%3A%20pointer%3B%20%7D%0A.shop-tabs%20%7B%20display%3A%20flex%3B%20gap%3A%2010px%3B%20margin-bottom%3A%2020px%3B%20flex-wrap%3A%20wrap%3B%20justify-content%3A%20center%3B%20flex-shrink%3A%200%3B%20%7D%0A.tab-btn%20%7B%20background%3A%20transparent%3B%20border%3A%202px%20solid%20%23555%3B%20color%3A%20%23888%3B%20padding%3A%208px%2016px%3B%20border-radius%3A%2020px%3B%20cursor%3A%20pointer%3B%20font-weight%3A%20bold%3B%20transition%3A%200.2s%3B%20%7D%0A.tab-btn.active%20%7B%20border-color%3A%20var%28--primary-glow%29%3B%20color%3A%20%23fff%3B%20box-shadow%3A%200%200%2010px%20var%28--primary-glow%29%3B%20background%3A%20rgba%280%2C%20191%2C%20255%2C%200.1%29%3B%20%7D%0A.shop-content-area%20%7B%20width%3A%20100%25%3B%20flex%3A%201%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20position%3A%20relative%3B%20overflow-y%3A%20auto%3B%20max-height%3A%20500px%3B%20%7D%0A.shop-row-container%20%7B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20width%3A%20100%25%3B%20justify-content%3A%20center%3B%20%7D%0A.cards-scroll-area%20%7B%20display%3A%20flex%3B%20gap%3A%2030px%3B%20overflow-x%3A%20auto%3B%20padding%3A%2020px%3B%20scroll-behavior%3A%20smooth%3B%20align-items%3A%20center%3B%20scrollbar-width%3A%20none%3B%20width%3A%2080%25%3B%20%7D%0A.shop-card%20%7B%20flex%3A%200%200%20220px%3B%20height%3A%20340px%3B%20background%3A%20linear-gradient%28135deg%2C%20rgba%28255%2C255%2C255%2C0.05%29%200%25%2C%20rgba%28255%2C255%2C255%2C0.01%29%20100%25%29%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2020px%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20padding%3A%2015px%3B%20transition%3A%20all%200.3s%3B%20position%3A%20relative%3B%20box-sizing%3A%20border-box%3B%20%7D%0A.shop-card.selected%20%7B%20border-color%3A%20var%28--primary-glow%29%3B%20box-shadow%3A%200%200%2020px%20var%28--primary-glow%29%3B%20background%3A%20rgba%280%2C191%2C255%2C0.05%29%3B%20%7D%0A.card-img-box%20%7B%20width%3A%20100px%3B%20height%3A%20100px%3B%20margin%3A%2020px%200%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20%7D%0A.card-planet-preview%20%7B%20width%3A%2080px%3B%20height%3A%2080px%3B%20border-radius%3A%2050%25%3B%20border%3A%202px%20solid%20rgba%28255%2C255%2C255%2C0.2%29%3B%20%7D%0A.card-upgrade-icon%20%7B%20font-size%3A%2050px%3B%20%7D%0A.card-title%20%7B%20font-size%3A%2018px%3B%20font-weight%3A%20bold%3B%20margin-bottom%3A%205px%3B%20text-align%3A%20center%3B%20%7D%0A.card-desc%20%7B%20font-size%3A%2012px%3B%20color%3A%20%23aaa%3B%20text-align%3A%20center%3B%20margin-bottom%3A%20auto%3B%20line-height%3A%201.2%3B%20%7D%0A.card-btn%20%7B%20width%3A%20100%25%3B%20padding%3A%2010px%3B%20margin-top%3A%2010px%3B%20background%3A%20transparent%3B%20border%3A%202px%20solid%20%23fff%3B%20color%3A%20%23fff%3B%20font-weight%3A%20bold%3B%20cursor%3A%20pointer%3B%20border-radius%3A%208px%3B%20transition%3A%200.2s%3B%20%7D%0A.card-btn.buy%20%7B%20border-color%3A%20gold%3B%20color%3A%20gold%3B%20%7D%0A.shop-footer-desc%20%7B%20position%3A%20absolute%3B%20bottom%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20text-align%3A%20center%3B%20color%3A%20%23ccc%3B%20font-size%3A%2014px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20padding%3A%2015px%200%3B%20height%3A%20auto%3B%20min-height%3A%2040px%3B%20border-top%3A%201px%20solid%20%23333%3B%20z-index%3A%2010%3B%20%7D%0A%23modeScreen%2C%20%23difficultyScreen%2C%20%23modifierScreen%2C%20%23loadoutScreen%20%7B%20display%3A%20none%3B%20%7D%0A.mode-cards%20%7B%20display%3A%20flex%3B%20gap%3A%2020px%3B%20flex-wrap%3A%20wrap%3B%20justify-content%3A%20center%3B%20flex-shrink%3A%200%3B%20margin-bottom%3A%2020px%3B%20%7D%0A.mode-card%2C%20.diff-card%20%7B%20width%3A%20140px%3B%20height%3A%20140px%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.05%29%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2015px%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%20flex-shrink%3A%200%3B%20%7D%0A.mode-card%3Ahover%2C%20.diff-card%3Ahover%20%7B%20border-color%3A%20var%28--primary-glow%29%3B%20box-shadow%3A%200%200%2020px%20var%28--primary-glow%29%3B%20transform%3A%20scale%281.05%29%3B%20%7D%0A.mode-icon%20%7B%20font-size%3A%2040px%3B%20margin-bottom%3A%2010px%3B%20%7D%0A.diff-card%20%7B%20height%3A%20160px%3B%20padding%3A%2010px%3B%20font-size%3A%2014px%3B%20%7D%0A.diff-title%20%7B%20font-size%3A%2018px%3B%20font-weight%3A%20bold%3B%20margin-bottom%3A%2010px%3B%20%7D%0A.diff-desc%20%7B%20font-size%3A%2012px%3B%20color%3A%20%23aaa%3B%20text-align%3A%20center%3B%20%7D%0A.selected-diff%20%7B%20border-color%3A%20gold%20%21important%3B%20box-shadow%3A%200%200%2020px%20gold%20%21important%3B%20transform%3A%20scale%281.05%29%3B%20%7D%0A.arena-section%20%7B%20margin-top%3A%2030px%3B%20width%3A%2090%25%3B%20max-width%3A%20800px%3B%20flex-shrink%3A%200%3B%20margin-bottom%3A%2020px%3B%20%7D%0A.arena-title%20%7B%20text-align%3A%20center%3B%20font-size%3A%2024px%3B%20font-weight%3A%20bold%3B%20margin-bottom%3A%2015px%3B%20color%3A%20%23fff%3B%20letter-spacing%3A%202px%3B%20%7D%0A.arena-cards%20%7B%20display%3A%20flex%3B%20gap%3A%2015px%3B%20justify-content%3A%20center%3B%20flex-wrap%3A%20wrap%3B%20%7D%0A.arena-card%20%7B%20width%3A%20160px%3B%20height%3A%20180px%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2015px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.3%29%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20padding%3A%2010px%3B%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%20flex-shrink%3A%200%3B%20%7D%0A.arena-card%3Ahover%20%7B%20border-color%3A%20%23ff4500%3B%20box-shadow%3A%200%200%2015px%20%23ff4500%3B%20transform%3A%20translateY%28-5px%29%3B%20%7D%0A.arena-card-title%20%7B%20color%3A%20%23fff%3B%20font-weight%3A%20bold%3B%20font-size%3A%2016px%3B%20margin-bottom%3A%2010px%3B%20text-align%3A%20center%3B%20%7D%0A.arena-card-desc%20%7B%20font-size%3A%2012px%3B%20color%3A%20%23aaa%3B%20text-align%3A%20center%3B%20margin-top%3A%20auto%3B%20margin-bottom%3A%20auto%3B%20%7D%0A.arena-card.selected-arena%20%7B%20box-shadow%3A%200%200%2025px%20currentColor%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.05%29%3B%20border-color%3A%20currentColor%3B%20%7D%0A%23arenaEventDisplay%20%7B%20position%3A%20absolute%3B%20top%3A%20120px%3B%20width%3A%20100%25%3B%20text-align%3A%20center%3B%20color%3A%20%23ff4500%3B%20font-weight%3A%20bold%3B%20font-size%3A%2018px%3B%20text-shadow%3A%201px%201px%200%20%23000%3B%20z-index%3A%205%3B%20display%3A%20none%3B%20%7D%0A%23notif-area%20%7B%20position%3A%20absolute%3B%20top%3A%2020%25%3B%20width%3A%20100%25%3B%20text-align%3A%20center%3B%20pointer-events%3A%20none%3B%20z-index%3A%20100%3B%20%7D%0A.notif-msg%20%7B%20font-size%3A%2024px%3B%20color%3A%20gold%3B%20text-shadow%3A%202px%202px%200%20%23000%3B%20animation%3A%20fadeUp%201.5s%20forwards%3B%20%7D%0A@keyframes%20fadeUp%20%7B%200%25%20%7B%20opacity%3A1%3B%20transform%3AtranslateY%280%29%3B%20%7D%20100%25%20%7B%20opacity%3A0%3B%20transform%3AtranslateY%28-50px%29%3B%20%7D%20%7D%0A%23gameOverScreen%20%7B%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20transparent%3B%20z-index%3A%20200%3B%20display%3A%20none%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20opacity%3A%200%3B%20transition%3A%20opacity%202s%2C%20background-color%202s%3B%20pointer-events%3A%20none%3B%20%7D%0A%23gameOverScreen.active%20%7B%20background%3A%20rgba%280%2C%200%2C%200%2C%200.95%29%3B%20opacity%3A%201%3B%20pointer-events%3A%20auto%3B%20%7D%0A%23frozenHud%20%7B%20position%3A%20absolute%3B%20top%3A%2025%25%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20background%3A%20rgba%280%2C%20191%2C%20255%2C%200.4%29%3B%20border%3A%202px%20solid%20%2300BFFF%3B%20padding%3A%2010px%2020px%3B%20border-radius%3A%2010px%3B%20display%3A%20none%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20pointer-events%3A%20none%3B%20%7D%0A.frozen-text%20%7B%20color%3A%20%23fff%3B%20font-weight%3A%20bold%3B%20font-size%3A%2020px%3B%20text-shadow%3A%200%200%2010px%20%2300BFFF%3B%20%7D%0A.frozen-timer%20%7B%20font-size%3A%2030px%3B%20font-family%3A%20monospace%3B%20%7D%0A%23bossArrow%20%7B%20position%3A%20absolute%3B%20width%3A%2040px%3B%20height%3A%2040px%3B%20pointer-events%3A%20none%3B%20display%3A%20none%3B%20z-index%3A%2010%3B%20transform-origin%3A%20center%3B%20%7D%0A%23bossArrow%3A%3Aafter%20%7B%20content%3A%20%27%u27A4%27%3B%20font-size%3A%2040px%3B%20color%3A%20red%3B%20text-shadow%3A%200%200%2010px%20yellow%3B%20position%3A%20absolute%3B%20top%3A%20-20px%3B%20left%3A%20-10px%3B%20transform%3A%20rotate%280deg%29%3B%20%7D%0A%23pauseMenu%20%7B%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20z-index%3A%20150%3B%20display%3A%20none%3B%20flex-direction%3A%20column%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20%7D%0A.mod-container%20%7B%20width%3A%2090%25%3B%20max-width%3A%20600px%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%2015px%3B%20margin-bottom%3A%2020px%3B%20flex-shrink%3A%200%3B%20max-height%3A%2060vh%3B%20overflow-y%3A%20auto%3B%20padding-right%3A%2010px%3B%20%7D%0A.mod-row%20%7B%20display%3A%20flex%3B%20justify-content%3A%20space-between%3B%20align-items%3A%20center%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.05%29%3B%20padding%3A%2010px%3B%20border-radius%3A%208px%3B%20%7D%0A.mod-slider%20%7B%20width%3A%2050%25%3B%20%7D%0A%23modeToggles%20%7B%20position%3A%20relative%3B%20width%3A90%25%3B%20max-width%3A600px%3B%20margin-bottom%3A20px%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%2010px%3B%20align-items%3A%20flex-start%3B%20flex-shrink%3A%200%3B%20%7D%0A.mode-toggle-row%20%7B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2010px%3B%20font-size%3A%2014px%3B%20color%3A%20%23aaa%3B%20cursor%3A%20pointer%3B%20%7D%0A.mode-checkbox%20%7B%20width%3A%2020px%3B%20height%3A%2020px%3B%20border%3A%202px%20solid%20%23fff%3B%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%20%7D%0A.mode-checkbox.checked%3A%3Aafter%20%7B%20content%3A%20%27%u2713%27%3B%20color%3A%20var%28--primary-glow%29%3B%20font-weight%3A%20bold%3B%20%7D%0A%23lightStripText%2C%20%23blueStripText%20%7B%20position%3A%20absolute%3B%20top%3A%2080px%3B%20width%3A%20100%25%3B%20text-align%3A%20center%3B%20font-weight%3A%20bold%3B%20font-size%3A%2020px%3B%20text-shadow%3A%202px%202px%200%20%23000%3B%20display%3A%20none%3B%20z-index%3A%205%3B%20%7D%0A%23lightStripText%20%7B%20color%3A%20gold%3B%20%7D%20%23blueStripText%20%7B%20color%3A%20%2300BFFF%3B%20top%3A%20130px%3B%20text-shadow%3A%200%200%2010px%20%2300BFFF%3B%20%7D%0A%23lightStripTimerVal%2C%20%23blueStripTimerVal%20%7B%20display%3A%20block%3B%20font-size%3A%2024px%3B%20color%3A%20%23fff%3B%20margin-top%3A%205px%3B%20font-family%3A%20monospace%3B%20%7D%0A%23inGameShopScreen%20%7B%20display%3A%20none%3B%20position%3A%20absolute%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%20width%3A%2090%25%3B%20max-width%3A%20600px%3B%20background%3A%20rgba%280%2C0%2C0%2C0.95%29%3B%20border%3A%202px%20solid%20%23FFD700%3B%20border-radius%3A%2015px%3B%20padding%3A%2020px%3B%20z-index%3A%20100%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20box-shadow%3A%200%200%2020px%20gold%3B%20max-height%3A%2085vh%3B%20overflow-y%3A%20auto%3B%20%7D%0A.ig-shop-title%20%7B%20color%3A%20%23FFD700%3B%20font-size%3A%2024px%3B%20font-weight%3A%20bold%3B%20margin-bottom%3A%2020px%3B%20text-align%3A%20center%3B%20%7D%0A.ig-shop-row%20%7B%20display%3A%20flex%3B%20justify-content%3A%20space-between%3B%20align-items%3A%20center%3B%20width%3A%20100%25%3B%20margin-bottom%3A%2010px%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.1%29%3B%20padding%3A%2010px%3B%20border-radius%3A%208px%3B%20%7D%0A.ig-shop-btn%20%7B%20background%3A%20%23FFD700%3B%20color%3A%20%23000%3B%20font-weight%3A%20bold%3B%20border%3A%20none%3B%20padding%3A%205px%2015px%3B%20border-radius%3A%205px%3B%20cursor%3A%20pointer%3B%20%7D%0A.ig-shop-btn%3Adisabled%20%7B%20background%3A%20%23555%3B%20color%3A%20%23888%3B%20cursor%3A%20not-allowed%3B%20%7D%0A.clicker-btn%20%7B%20width%3A150px%3B%20height%3A150px%3B%20border-radius%3A50%25%3B%20border%3A4px%20solid%20%23fff%3B%20background%3Aradial-gradient%28circle%20at%2030%25%2030%25%2C%20%234facfe%2C%20%2300f2fe%29%3B%20box-shadow%3A0%200%2020px%20%2300f2fe%3B%20margin-top%3A20px%3B%20cursor%3Apointer%3B%20font-size%3A24px%3B%20font-weight%3Abold%3B%20color%3Awhite%3B%20text-shadow%3A0%200%205px%20%23000%3B%20transition%3A%20transform%200.1s%3B%20display%3Aflex%3B%20justify-content%3Acenter%3B%20align-items%3Acenter%3B%20%7D%0A.clicker-btn%3Aactive%2C%20.clicker-btn.anim%20%7B%20transform%3A%20scale%280.9%29%3B%20%7D%0A%0A/*%20Loadout%20Screen%20*/%0A.loadout-section%20%7B%20width%3A%2090%25%3B%20max-width%3A%20800px%3B%20margin-bottom%3A%2020px%3B%20%7D%0A.loadout-title%20%7B%20font-size%3A%2020px%3B%20font-weight%3A%20bold%3B%20color%3A%20%23fff%3B%20margin-bottom%3A%2010px%3B%20text-align%3A%20center%3B%20%7D%0A.bullet-cards%20%7B%20display%3A%20flex%3B%20gap%3A%2015px%3B%20justify-content%3A%20center%3B%20flex-wrap%3A%20wrap%3B%20%7D%0A.bullet-card%20%7B%20width%3A%20140px%3B%20height%3A%20180px%3B%20border%3A%202px%20solid%20%23555%3B%20border-radius%3A%2012px%3B%20background%3A%20rgba%28255%2C255%2C255%2C0.05%29%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20padding%3A%2010px%3B%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%20position%3A%20relative%3B%20overflow%3A%20hidden%3B%20%7D%0A.bullet-card%3Ahover%20%7B%20transform%3A%20scale%281.05%29%3B%20%7D%0A.bullet-card.selected%20%7B%20border-color%3A%20%23fff%3B%20box-shadow%3A%200%200%2015px%20%23fff%3B%20%7D%0A.bullet-icon%20%7B%20width%3A%2050px%3B%20height%3A%2050px%3B%20border-radius%3A%2050%25%3B%20margin%3A%2010px%200%3B%20%7D%0A.weapon-grid%20%7B%20display%3A%20grid%3B%20grid-template-columns%3A%20repeat%28auto-fit%2C%20minmax%2880px%2C%201fr%29%29%3B%20gap%3A%2010px%3B%20width%3A%20100%25%3B%20%7D%0A.weapon-item%20%7B%20background%3A%20%23222%3B%20border%3A%202px%20solid%20%23444%3B%20border-radius%3A%208px%3B%20padding%3A%2010px%3B%20text-align%3A%20center%3B%20cursor%3A%20pointer%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%2080px%3B%20font-size%3A%2012px%3B%20transition%3A%200.2s%3B%20%7D%0A.weapon-item.selected%20%7B%20border-color%3A%20gold%3B%20box-shadow%3A%200%200%2010px%20gold%3B%20background%3A%20%23333%3B%20%7D%0A.weapon-item%20span%20%7B%20font-size%3A%2024px%3B%20display%3A%20block%3B%20margin-bottom%3A%205px%3B%20%7D%0A%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%3Ccanvas%20id%3D%22gameCanvas%22%3E%3C/canvas%3E%0A%3Cdiv%20id%3D%22ui-layer%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22top-hud%20interactive%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22hud-left-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ingame-shop-btn%22%20onclick%3D%22ui.openInGameShop%28%29%22%3E%u26A1%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-badge%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22font-size%3A20px%3B%22%3E%uD83D%uDCB0%3C/span%3E%3Cspan%20id%3D%22coinsVal%22%20style%3D%22color%3Agold%3B%20font-weight%3Abold%3B%20font-size%3A20px%3B%20margin-right%3A15px%3B%22%3E0%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22border-left%3A%202px%20solid%20%23555%3B%20padding-left%3A%2015px%3B%20font-size%3A%2014px%3B%20color%3A%20%23aaa%3B%22%3EScore%3A%20%3Cspan%20id%3D%22scoreVal%22%20style%3D%22color%3Awhite%22%3E0%3C/span%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22exit-btn%22%20onclick%3D%22ui.pauseGame%28%29%22%20data-lang-key%3D%22pause%22%3E%u041F%u0410%u0423%u0417%u0410%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22fps-badge%22%20id%3D%22fpsCounter%22%3E60%20FPS%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22boss-timer-container%22%20id%3D%22bossHud%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22boss-label%22%20id%3D%22bossLabel%22%3EBOSS%20IN%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22boss-time-val%22%20id%3D%22bossTimerDisplay%22%3E00%3A00%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22boss-wave-timer%22%20id%3D%22bossWaveDisplay%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22lb-wrapper%22%20id%3D%22lbWrapper%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22lb-header%22%20onclick%3D%22ui.toggleLb%28%29%22%3ETOP%2010%20%u25BC%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22leaderboard%22%20id%3D%22lb-body%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22lb-content%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22lightStripText%22%20data-lang-key%3D%22rayAttack%22%3E%u0420%u0415%u0416%u0418%u041C%20%u041B%u0423%u0427%u0415%u0412%u041E%u0419%20%u0410%u0422%u0410%u041A%u0418%3Cdiv%20id%3D%22lightStripTimerVal%22%3E0.0%3C/div%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22blueStripText%22%3E%u0420%u0415%u0416%u0418%u041C%20%u0421%u041F%u0415%u0426-%u0410%u0422%u0410%u041A%u0418%3Cdiv%20id%3D%22blueStripTimerVal%22%3E0.0%3C/div%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22arenaEventDisplay%22%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22pvpTimerDisplay%22%3EPVP%20%u0427%u0415%u0420%u0415%u0417%2010%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22survivalTimer%22%20style%3D%22display%3Anone%3B%20position%3Aabsolute%3B%20top%3A80px%3B%20left%3A50%25%3B%20transform%3AtranslateX%28-50%25%29%3B%20font-weight%3Abold%3B%20color%3Ayellow%3B%20font-size%3A20px%3B%20text-shadow%3A1px%201px%200%20%23000%3B%22%3E%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22inv-toggle-btn%20interactive%22%20id%3D%22invToggle%22%20onclick%3D%22ui.toggleInventory%28%29%22%3E%uD83C%uDF92%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22inventory-hud%20interactive%22%20id%3D%22pc-inventory%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-title%22%20data-lang-key%3D%22items%22%3E%u041F%u0420%u0415%u0414%u041C%u0415%u0422%u042B%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-slots-row%22%20id%3D%22pcInvSlots%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-slot-box%22%20id%3D%22slot_speed%22%20onclick%3D%22ui.manualUse%28%27speed%27%29%22%3E%u26A1%3Cdiv%20class%3D%22inv-count-badge%22%20id%3D%22cnt_speed%22%3E0%3C/div%3E%3Cdiv%20class%3D%22inv-timer-overlay%22%20id%3D%22time_speed%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-slot-box%22%20id%3D%22slot_magnet%22%20onclick%3D%22ui.manualUse%28%27magnet%27%29%22%3E%uD83E%uDDF2%3Cdiv%20class%3D%22inv-count-badge%22%20id%3D%22cnt_magnet%22%3E0%3C/div%3E%3Cdiv%20class%3D%22inv-timer-overlay%22%20id%3D%22time_magnet%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-slot-box%22%20id%3D%22slot_grow%22%20onclick%3D%22ui.manualUse%28%27grow%27%29%22%3E%uD83D%uDCAA%3Cdiv%20class%3D%22inv-count-badge%22%20id%3D%22cnt_grow%22%3E0%3C/div%3E%3Cdiv%20class%3D%22inv-timer-overlay%22%20id%3D%22time_grow%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22inv-slot-box%22%20id%3D%22slot_bonus%22%20onclick%3D%22ui.manualUse%28%27bonus%27%29%22%3E%u2B50%3Cdiv%20class%3D%22inv-count-badge%22%20id%3D%22cnt_bonus%22%3E0%3C/div%3E%3Cdiv%20class%3D%22inv-timer-overlay%22%20id%3D%22time_bonus%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22mob-wep-toggle%20interactive%22%20onclick%3D%22ui.toggleMobileAbilities%28%29%22%3E%u2694%uFE0F%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22ability-btn-group%22%20id%3D%22abilityGroup%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnShield%22%20style%3D%22background%3A%2305a%3B%20border-color%3A%2359f%3B%22%20onclick%3D%22game.useShield%28%29%22%3E%uD83D%uDEE1%uFE0F%3Cdiv%20id%3D%22cdShield%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnWave%22%20style%3D%22background%3A%23d32%3B%22%20onclick%3D%22game.useWave%28%29%22%3E%uD83D%uDCA5%3Cdiv%20id%3D%22cdWave%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnGreat%22%20style%3D%22background%3A%238A2BE2%3B%22%20onclick%3D%22game.useGreatImpact%28%29%22%3E%uD83C%uDF87%3Cdiv%20id%3D%22cdGreat%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnRay%22%20style%3D%22background%3A%23FFA500%3B%22%20onclick%3D%22game.useRay%28%29%22%3E%u26A1%3Cdiv%20id%3D%22cdRay%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnGrav%22%20style%3D%22background%3A%2340E0D0%3B%20border-color%3A%238A2BE2%3B%22%20onclick%3D%22game.useGravityManeuver%28%29%22%3E%uD83C%uDF0C%3Cdiv%20id%3D%22cdGrav%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnMoon%22%20style%3D%22background%3A%23888%3B%22%20onclick%3D%22game.useMoon%28%29%22%3E%uD83C%uDF19%3Cdiv%20id%3D%22cdMoon%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnIceSword%22%20style%3D%22background%3A%230ff%3B%20border-color%3A%23fff%3B%22%20onclick%3D%22game.useIceSword%28%29%22%3E%uD83D%uDDE1%uFE0F%3Cdiv%20id%3D%22cdIceSword%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnBlueBullet%22%20style%3D%22background%3A%2300BFFF%3B%22%20onclick%3D%22game.useBlueBullet%28%29%22%3E%u2744%uFE0F%3Cdiv%20id%3D%22cdBlueBullet%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnVampire%22%20style%3D%22background%3A%23800000%3B%20border-color%3A%23f00%3B%22%20onclick%3D%22game.useVampire%28%29%22%3E%uD83E%uDE78%3Cdiv%20class%3D%22ab-stock%22%20id%3D%22stockVampire%22%3E5%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnCleanse%22%20style%3D%22background%3A%23006400%3B%20border-color%3A%2332CD32%3B%22%20onclick%3D%22game.useCleanse%28%29%22%3E%uD83C%uDF3F%3Cdiv%20id%3D%22cdCleanse%22%20class%3D%22ab-cd-text%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnStrip%22%20style%3D%22background%3A%23333%3B%20border-color%3A%23ff0%3B%22%20onclick%3D%22game.toggleLightStrip%28%29%22%3E%uD83D%uDD2B%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ab-btn%20interactive%22%20id%3D%22btnBlueStrip%22%20style%3D%22background%3A%23001133%3B%20border-color%3A%2300BFFF%3B%22%20onclick%3D%22game.toggleBlueStrip%28%29%22%3E%uD83D%uDC8E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22ammo-display%22%20id%3D%22ammoHud%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22reloadTimerDisplay%22%20class%3D%22reload-timer-text%22%3E0.0%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo1%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo2%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo3%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo4%22%20style%3D%22display%3Anone%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo5%22%20style%3D%22display%3Anone%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo6%22%20style%3D%22display%3Anone%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ammo-dot%22%20id%3D%22ammo7%22%20style%3D%22display%3Anone%22%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22joystick-area%22%20id%3D%22aimJoystick%22%3E%3Cdiv%20class%3D%22joystick-knob%22%20id%3D%22aimKnob%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22mobile-controls%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22joystick-area%22%20id%3D%22joystick%22%3E%3Cdiv%20class%3D%22joystick-knob%22%20id%3D%22knob%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mobile-action-btn%20boost-btn%22%20id%3D%22mobBoostBtn%22%20ontouchstart%3D%22game.setSprinting%28true%29%22%20ontouchend%3D%22game.setSprinting%28false%29%22%3E%uD83D%uDCA8%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mobile-action-btn%22%20id%3D%22mobItemBtn%22%20onclick%3D%22game.handleMobileBtn%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22mobileItemIcon%22%3E%uD83C%uDF92%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22mobSlotCount%22%20class%3D%22mob-count%22%3E0%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22minimap-container%20interactive%22%3E%3Ccanvas%20id%3D%22minimapCanvas%22%3E%3C/canvas%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22spin-overlay%22%3E%3Cdiv%20class%3D%22spin-cards%22%20id%3D%22spinCards%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22frozenHud%22%3E%3Cdiv%20class%3D%22frozen-text%22%20data-lang-key%3D%22frozen%22%3E%u2744%uFE0F%20%u0417%u0410%u041C%u041E%u0420%u041E%u0417%u041A%u0410%20%u2744%uFE0F%3C/div%3E%3Cdiv%20class%3D%22frozen-timer%22%20id%3D%22frozenTimerVal%22%3E5.0%3C/div%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22bossArrow%22%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22pauseMenu%22%20class%3D%22interactive%22%3E%0A%20%20%20%20%20%20%20%20%3Ch1%20style%3D%22color%3Awhite%3B%20margin-bottom%3A30px%3B%22%20data-lang-key%3D%22pause%22%3E%u041F%u0410%u0423%u0417%u0410%3C/h1%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22width%3A200px%3B%20margin-bottom%3A20px%3B%22%20onclick%3D%22ui.resumeGame%28%29%22%20data-lang-key%3D%22continue%22%3E%u041F%u0420%u041E%u0414%u041E%u041B%u0416%u0418%u0422%u042C%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22width%3A200px%3B%20border-color%3Ared%3B%20color%3Ared%3B%22%20onclick%3D%22ui.exitGame%28%29%22%20data-lang-key%3D%22menu%22%3E%u041C%u0415%u041D%u042E%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id%3D%22inGameShopScreen%22%20class%3D%22interactive%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22ig-shop-title%22%3E%u041F%u0420%u041E%u041A%u0410%u0427%u041A%u0410%20%u041F%u0410%u0420%u0422%u0418%u0418%20%3Cspan%20style%3D%22font-size%3A16px%22%3E%28%u0411%u0430%u043B%u0430%u043D%u0441%3A%20%3Cspan%20id%3D%22sessionCoinsDisp%22%3E0%3C/span%3E%29%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22igShopContent%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22width%3A100%25%3B%20margin-top%3A20px%3B%22%20onclick%3D%22ui.closeInGameShop%28%29%22%3E%u0417%u0410%u041A%u0420%u042B%u0422%u042C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22gameOverScreen%22%20class%3D%22interactive%22%3E%0A%20%20%20%20%3Ch1%20style%3D%22color%3Ared%3B%20font-size%3A60px%3B%20text-shadow%3A0%200%2020px%20%23fff%3B%20margin-bottom%3A20px%3B%22%20data-lang-key%3D%22gameOver%22%3E%u0418%u0413%u0420%u0410%20%u041E%u041A%u041E%u041D%u0427%u0415%u041D%u0410%3C/h1%3E%0A%20%20%20%20%3Ch3%20style%3D%22color%3A%23fff%3B%20margin-bottom%3A10px%3B%22%3E%3Cspan%20data-lang-key%3D%22score%22%3E%u0421%u0447%u0435%u0442%3C/span%3E%3A%20%3Cspan%20id%3D%22finalScore%22%3E0%3C/span%3E%3C/h3%3E%0A%20%20%20%20%3Ch3%20style%3D%22color%3Agold%3B%20margin-bottom%3A40px%3B%22%3E%3Cspan%20data-lang-key%3D%22coins%22%3E%u041C%u043E%u043D%u0435%u0442%3C/span%3E%3A%20%3Cspan%20id%3D%22finalCoins%22%3E0%3C/span%3E%3C/h3%3E%0A%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20onclick%3D%22ui.showMainMenu%28%29%3B%20document.getElementById%28%27gameOverScreen%27%29.className%3D%27%27%3B%20document.getElementById%28%27gameOverScreen%27%29.style.display%3D%27none%27%3B%22%20data-lang-key%3D%22mainMenu%22%3E%u0413%u041B%u0410%u0412%u041D%u041E%u0415%20%u041C%u0415%u041D%u042E%3C/button%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22notif-area%22%3E%3C/div%3E%0A%3Cdiv%20id%3D%22hudEditorScreen%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22hud-editor-overlay%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22editMoveJoy%22%20class%3D%22hud-control%22%20data-lang-key%3D%22move%22%3E%u0414%u0412%u0418%u0416%u0415%u041D%u0418%u0415%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22editAimJoy%22%20class%3D%22hud-control%22%20data-lang-key%3D%22aim%22%3E%u041F%u0420%u0418%u0426%u0415%u041B%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22hud-options%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22color%3Awhite%22%3E%3Cspan%20data-lang-key%3D%22size%22%3E%u0420%u0430%u0437%u043C%u0435%u0440%3C/span%3E%3A%20%3Cinput%20type%3D%22range%22%20min%3D%2280%22%20max%3D%22300%22%20id%3D%22editorSizeSlider%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22padding%3A5px%2015px%3B%20font-size%3A14px%3B%22%20onclick%3D%22ui.saveHudLayout%28%29%22%20data-lang-key%3D%22save%22%3E%u0421%u043E%u0445%u0440%u0430%u043D%u0438%u0442%u044C%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22padding%3A5px%2015px%3B%20font-size%3A14px%3B%20border-color%3Ared%3B%22%20onclick%3D%22ui.toggleHudEditor%28false%29%22%20data-lang-key%3D%22cancel%22%3E%u041E%u0442%u043C%u0435%u043D%u0430%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22mainMenu%22%20class%3D%22menu-screen%20interactive%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22game-title%22%20id%3D%22titleText%22%3EDaymix%u2019s%20Planet.Io%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22name-input-container%22%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22playerNameInput%22%20class%3D%22name-input%22%20placeholder%3D%22Name%22%20maxlength%3D%2212%22%20value%3D%22Player%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22gear-btn%22%20onclick%3D%22ui.toggleColorPicker%28%29%22%3E%u2699%uFE0F%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22colorPicker%22%20class%3D%22color-picker-pop%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%231E90FF%22%20onclick%3D%22ui.setPlayerColor%28%27%231E90FF%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%23DC143C%22%20onclick%3D%22ui.setPlayerColor%28%27%23DC143C%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%2332CD32%22%20onclick%3D%22ui.setPlayerColor%28%27%2332CD32%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%23FFD700%22%20onclick%3D%22ui.setPlayerColor%28%27%23FFD700%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%238A2BE2%22%20onclick%3D%22ui.setPlayerColor%28%27%238A2BE2%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-opt%22%20style%3D%22background%3A%23FF4500%22%20onclick%3D%22ui.setPlayerColor%28%27%23FF4500%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22menu-buttons%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.showModeSelect%28%29%29%22%20id%3D%22btnPlay%22%20data-lang-key%3D%22play%22%3E%u0418%u0413%u0420%u0410%u0422%u042C%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.openShop%28%29%29%22%20id%3D%22btnShop%22%20data-lang-key%3D%22shop%22%3E%u041C%u0410%u0413%u0410%u0417%u0418%u041D%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.showModifier%28%29%29%22%20id%3D%22btnMod%22%20data-lang-key%3D%22modifier%22%3E%u041C%u041E%u0414%u0418%u0424%u0418%u041A%u0410%u0422%u041E%u0420%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.toggleSettings%28%29%29%22%20id%3D%22btnSettings%22%20data-lang-key%3D%22settings%22%3E%u041D%u0410%u0421%u0422%u0420%u041E%u0419%u041A%u0418%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%20free-coins-btn%22%20id%3D%22btnFreeCoins%22%20onclick%3D%22ui.claimFreeCoins%28%29%22%20data-lang-key%3D%22freeCoins%22%3E%u0411%u0415%u0421%u041F%u041B%u0410%u0422%u041D%u042B%u0415%20%u041C%u041E%u041D%u0415%u0422%u042B%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Ca%20href%3D%22%23%22%20style%3D%22color%3A%23aaa%3B%20text-decoration%3Anone%3B%20font-size%3A12px%3B%20margin-top%3A5px%3B%20text-align%3Acenter%3B%22%20onclick%3D%22alert%28%27v2.9.0%3A%5Cn-%20%u0423%u0440%u043E%u043D%20%u043F%u043E%20%u0430%u043D%u043E%u043C%u0430%u043B%u0438%u044F%u043C%20%u0443%u0432%u0435%u043B%u0438%u0447%u0435%u043D%20x10%5Cn-%20%u0418%u0441%u043F%u0440%u0430%u0432%u043B%u0435%u043D%20%u0434%u0440%u0438%u0444%u0442%20%u043F%u043B%u0430%u043D%u0435%u0442%u044B%20%u043F%u0440%u0438%20%u0440%u044B%u0432%u043A%u0430%u0445%5Cn-%20%u0423%u0440%u043E%u043D%20%u041B%u0443%u043D%20%u0443%u0432%u0435%u043B%u0438%u0447%u0435%u043D%20x20%20%u0438%20%u043E%u0442%u043E%u0431%u0440%u0430%u0436%u0430%u0435%u0442%u0441%u044F%5Cn-%20%u041D%u043E%u0432%u0430%u044F%20%u0442%u0435%u043A%u0441%u0442%u0443%u0440%u0430%20%u041B%u0443%u043D%u044B%20%u0417%u0435%u043C%u043B%u0438%20%28%u0441%u0435%u0440%u0430%u044F%2C%20%u043E%u0441%u0442%u0440%u043E%u0432%u043D%u0430%u044F%2C%203%20%u0446%u0432%u0435%u0442%u0430%29%5Cn-%20%u041F%u0435%u0440%u0435%u0440%u0430%u0431%u043E%u0442%u0430%u043D%20%u043C%u0430%u0433%u0430%u0437%u0438%u043D%20%u043F%u0440%u043E%u043A%u0430%u0447%u043A%u0438%20%u043F%u0430%u0440%u0442%u0438%u0438%5Cn-%20%u0418%u0441%u043F%u0440%u0430%u0432%u043B%u0435%u043D%20HUD%20%u043C%u043E%u043D%u0435%u0442%20%u0438%20%u043E%u0447%u043A%u043E%u0432%27%29%22%3E%u0421%u043F%u0438%u0441%u043E%u043A%20%u0438%u0437%u043C%u0435%u043D%u0435%u043D%u0438%u0439%3C/a%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cbutton%20class%3D%22lang-btn%22%20onclick%3D%22ui.toggleLanguage%28%29%22%3E%u0420%u0423%u0421%u0421%u041A%u0418%u0419%3C/button%3E%0A%20%20%20%20%3Cdiv%20id%3D%22quoteDisplay%22%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22version-label%22%20style%3D%22position%3A%20absolute%3B%20bottom%3A%2010px%3B%20right%3A%2010px%3B%20text-align%3A%20right%3B%20color%3A%20%23444%3B%20font-size%3A%2012px%3B%20font-weight%3A%20bold%3B%22%3ERelease%20v2.9.0%3Cbr%3E%3Cspan%3EFix%20Update%3C/span%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22settings-panel%22%20style%3D%22display%3Anone%3B%20position%3Aabsolute%3B%20background%3A%23111%3B%20padding%3A20px%3B%20border%3A2px%20solid%20%23555%3B%20border-radius%3A10px%3B%20z-index%3A20%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Ch3%20style%3D%22margin-top%3A0%3B%20color%3A%23fff%3B%22%20data-lang-key%3D%22settings%22%3E%u041D%u0430%u0441%u0442%u0440%u043E%u0439%u043A%u0438%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22font-size%3A14px%3B%20padding%3A10px%3B%20width%3A100%25%3B%20margin-bottom%3A15px%3B%22%20onclick%3D%22ui.toggleHudEditor%28true%29%22%20data-lang-key%3D%22setupControls%22%3E%u041D%u0430%u0441%u0442%u0440%u043E%u0438%u0442%u044C%20%u0443%u043F%u0440%u0430%u0432%u043B%u0435%u043D%u0438%u0435%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-top%3A15px%3B%20border-top%3A1px%20solid%20%23333%3B%20paddingTop%3A10px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22font-size%3A14px%3B%20padding%3A8px%3B%22%20onclick%3D%22ui.toggleFpsSide%28%29%22%3E%3Cspan%20data-lang-key%3D%22fpsCounter%22%3E%u0421%u0447%u0435%u0442%u0447%u0438%u043A%20FPS%3C/span%3E%3A%20%3Cspan%20id%3D%22fpsSideBtn%22%3ELeft%3C/span%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22margin-top%3A15px%3B%20padding%3A5px%3B%20font-size%3A14px%3B%22%20onclick%3D%22ui.toggleSettings%28%29%22%20data-lang-key%3D%22close%22%3E%u0417%u0430%u043A%u0440%u044B%u0442%u044C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22modeScreen%22%20class%3D%22menu-screen%20interactive%22%3E%0A%20%20%20%20%3Ch2%20style%3D%22color%3A%23fff%3B%20margin-bottom%3A40px%3B%20flex-shrink%3A%200%3B%22%20id%3D%22modeTitle%22%20data-lang-key%3D%22chooseDevice%22%3E%u0412%u042B%u0411%u0415%u0420%u0418%u0422%u0415%20%u0423%u0421%u0422%u0420%u041E%u0419%u0421%u0422%u0412%u041E%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22mode-cards%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-card%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.showDifficulty%28false%29%29%22%3E%3Cdiv%20class%3D%22mode-icon%22%3E%uD83D%uDCBB%3C/div%3E%3Cdiv%20id%3D%22modePC%22%20data-lang-key%3D%22pc%22%3E%u041A%u043E%u043C%u043F%u044C%u044E%u0442%u0435%u0440%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-card%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.showDifficulty%28true%29%29%22%3E%3Cdiv%20class%3D%22mode-icon%22%3E%uD83D%uDCF1%3C/div%3E%3Cdiv%20id%3D%22modeMob%22%20data-lang-key%3D%22mobile%22%3E%u0422%u0435%u043B%u0435%u0444%u043E%u043D%3C/div%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22margin-top%3A40px%3B%20width%3A150px%3B%20padding%3A10px%3B%20flex-shrink%3A%200%3B%22%20onclick%3D%22ui.showMainMenu%28%29%22%20data-lang-key%3D%22back%22%3E%u041D%u0410%u0417%u0410%u0414%3C/button%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22modifierScreen%22%20class%3D%22menu-screen%20interactive%22%3E%0A%20%20%20%20%3Ch2%20style%3D%22color%3A%23fff%3B%20margin-bottom%3A30px%3B%20flex-shrink%3A%200%3B%22%20data-lang-key%3D%22modifier%22%3E%u041C%u041E%u0414%u0418%u0424%u0418%u041A%u0410%u0422%u041E%u0420%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22mod-container%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%3E%u041A%u043E%u043B%u0438%u0447%u0435%u0441%u0442%u0432%u043E%20%u0437%u0432%u0451%u0437%u0434%3C/span%3E%3A%20%3Cspan%20id%3D%22valStarRate%22%3E100%3C/span%3E%25%3Cinput%20type%3D%22range%22%20min%3D%2210%22%20max%3D%22500%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27starRate%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22botScoreBonus%22%3E%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0431%u043E%u0442%u044B%29%3C/span%3E%3A%20x%3Cspan%20id%3D%22valBotScore%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%2250%22%20max%3D%22500%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27botScore%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22bossScoreBonus%22%3E%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0431%u043E%u0441%u0441%u044B%29%3C/span%3E%3A%20x%3Cspan%20id%3D%22valBossScore%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%2250%22%20max%3D%2210000%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27bossScore%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22playerScoreBonus%22%3E%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0438%u0433%u0440%u043E%u043A%29%3C/span%3E%3A%20x%3Cspan%20id%3D%22valPlayerScore%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%2250%22%20max%3D%22500%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27playerScore%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22playerDmg%22%3E%u0423%u0440%u043E%u043D%20%28%u0438%u0433%u0440%u043E%u043A%29%3C/span%3E%3A%20x%3Cspan%20id%3D%22valPlayerDmg%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%2250%22%20max%3D%22500%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27playerDmg%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22weaponDmg%22%3E%u0423%u0440%u043E%u043D%20%u043E%u0440%u0443%u0436%u0438%u044F%3C/span%3E%3A%20x%3Cspan%20id%3D%22valWeaponDmg%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%2220%22%20max%3D%222500%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27weaponDmg%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22passiveScorePlayer%22%3E%u041E%u0447%u043A%u0438/%u0441%u0435%u043A%20%28%u0418%u0433%u0440%u043E%u043A%29%3C/span%3E%3A%20-%3Cspan%20id%3D%22valPassiveScorePlayer%22%3E0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%220%22%20max%3D%2250%22%20value%3D%220%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27passiveScorePlayer%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22passiveScoreBot%22%3E%u041E%u0447%u043A%u0438/%u0441%u0435%u043A%20%28%u0411%u043E%u0442%u044B%29%3C/span%3E%3A%20%3Cspan%20id%3D%22valPassiveScoreBot%22%3E0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%220%22%20max%3D%22100%22%20value%3D%220%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27passiveScoreBot%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22vacuumRadius%22%3E%u0420%u0430%u0434%u0438%u0443%u0441%20%u043F%u044B%u043B%u0435%u0441%u043E%u0441%u0438%u043D%u0433%u0430%3C/span%3E%3A%20x%3Cspan%20id%3D%22valVacuum%22%3E1.0%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%22100%22%20max%3D%22300%22%20value%3D%22100%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27vacuumMult%27%2C%20this.value/100%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22ruleImmunity%22%3E%u0418%u043C%u043C%u0443%u043D%u0438%u0442%u0435%u0442%20%u043A%20%u043F%u0440%u0430%u0432%u0438%u043B%u0430%u043C%3C/span%3E%3A%20%3Cspan%20id%3D%22valRuleImmunity%22%3EOff%3C/span%3E%3Cdiv%20class%3D%22mode-checkbox%22%20id%3D%22chkRuleImmunity%22%20onclick%3D%22ui.toggleModRuleImmunity%28%29%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22botCount%22%3E%u041A%u043E%u043B%u0438%u0447%u0435%u0441%u0442%u0432%u043E%20%u0431%u043E%u0442%u043E%u0432%3C/span%3E%3A%20%3Cspan%20id%3D%22valBotCount%22%3E40%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%223%22%20max%3D%22100%22%20value%3D%2240%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27botCount%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22mapSize%22%3E%u0420%u0430%u0437%u043C%u0435%u0440%20%u043A%u0430%u0440%u0442%u044B%3C/span%3E%3A%20%3Cspan%20id%3D%22valMapSize%22%3E%u041D%u043E%u0440%u043C%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%22500%22%20max%3D%2210000%22%20step%3D%22500%22%20value%3D%225700%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27customMapSize%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mod-row%22%3E%3Cspan%20data-lang-key%3D%22immunity%22%3E%u0418%u043C%u043C%u0443%u043D%u0438%u0442%u0435%u0442%20%u0438%u0433%u0440%u043E%u043A%u0430%3C/span%3E%3A%20%3Cspan%20id%3D%22valImmunity%22%3E0%25%3C/span%3E%3Cinput%20type%3D%22range%22%20min%3D%220%22%20max%3D%22100%22%20value%3D%220%22%20class%3D%22mod-slider%22%20oninput%3D%22ui.modUpdate%28%27immunity%27%2C%20this.value%29%22%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20style%3D%22display%3Aflex%3B%20gap%3A20px%3B%20margin-top%3A20px%3B%20align-items%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22padding%3A10px%3B%20border-color%3A%23FFD700%3B%20color%3A%23FFD700%3B%22%20onclick%3D%22ui.saveModifiers%28%29%22%3E%u0421%u041E%u0425%u0420%u0410%u041D%u0418%u0422%u042C%20%28%3Cspan%20id%3D%22modCostDisplay%22%3E0%3C/span%3E%29%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22padding%3A10px%3B%20flex-shrink%3A%200%3B%22%20onclick%3D%22ui.showMainMenu%28%29%22%20data-lang-key%3D%22back%22%3E%u041D%u0410%u0417%u0410%u0414%20%28%u0411%u0415%u0417%20%u0421%u041E%u0425%u0420.%29%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%3C/div%3E%0A%3Cdiv%20id%3D%22difficultyScreen%22%20class%3D%22menu-screen%20interactive%22%3E%0A%20%20%20%20%3Ch2%20style%3D%22color%3A%23fff%3B%20margin-bottom%3A30px%3B%20flex-shrink%3A%200%3B%22%20data-lang-key%3D%22difficulty%22%3E%u0421%u041B%u041E%u0416%u041D%u041E%u0421%u0422%u042C%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22mode-cards%22%20style%3D%22gap%3A10px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-card%22%20id%3D%22diff0%22%20onclick%3D%22ui.showLoadout%280%29%22%20style%3D%22border-color%3A%230ff%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-title%22%20style%3D%22color%3A%230ff%3B%20font-size%3A14px%22%20data-lang-key%3D%22diffAll%22%3E%u042F%20%u0445%u043E%u0447%u0443%20%u0432%u0441%u0451%20%u0441%u0440%u0430%u0437%u0443%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-desc%22%20data-lang-key%3D%22descAll%22%3E%u0411%u043E%u0441%u0441%20x0.33%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x1.75%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-card%22%20id%3D%22diff1%22%20onclick%3D%22ui.showLoadout%281%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-title%22%20style%3D%22color%3A%230f0%3B%20font-size%3A16px%22%20data-lang-key%3D%22diffEasy%22%3E%u041B%u0435%u0433%u0447%u0430%u0439%u0448%u0430%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-desc%22%20data-lang-key%3D%22descEasy%22%3E%u0411%u043E%u0441%u0441%20x0.5%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x1.5%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-card%22%20id%3D%22diff2%22%20onclick%3D%22ui.showLoadout%282%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-title%22%20style%3D%22color%3A%23ff0%3B%20font-size%3A16px%22%20data-lang-key%3D%22diffNormal%22%3E%u041D%u043E%u0440%u043C%u0430%u043B%u044C%u043D%u0430%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-desc%22%20data-lang-key%3D%22descNormal%22%3E%u0411%u0430%u043B%u0430%u043D%u0441%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-card%22%20id%3D%22diff3%22%20onclick%3D%22ui.showLoadout%283%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-title%22%20style%3D%22color%3A%23f00%3B%20font-size%3A16px%22%20data-lang-key%3D%22diffHard%22%3E%u0421%u043B%u043E%u0436%u043D%u0430%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-desc%22%20data-lang-key%3D%22descHard%22%3E%u0411%u043E%u0441%u0441%20x2.0%20HP%3Cbr%3E%u0423%u0440%u043E%u043D%20x2%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-card%22%20id%3D%22diff4%22%20onclick%3D%22ui.showLoadout%284%29%22%20style%3D%22border-color%3A%23f0f%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-title%22%20style%3D%22color%3A%23f0f%3B%20font-size%3A14px%22%20data-lang-key%3D%22diffSigma%22%3E%u0421%u0438%u0433%u043C%u0430%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22diff-desc%22%20data-lang-key%3D%22descSigma%22%3E%u0411%u043E%u0441%u0441%20x3.0%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x0.85%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22arena-section%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-title%22%20data-lang-key%3D%22arenaGames%22%3E%u0418%u0433%u0440%u044B%20%u0410%u0440%u0435%u043D%u044B%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-cards%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FFA500%3B%20border-color%3A%23FFA500%22%20onclick%3D%22ui.setArenaMode%28%27mini%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeMini%22%3E%u041C%u0438%u043D%u0438-%u0440%u0430%u0448%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descMini%22%3E1%20%u043D%u0430%201%20%u0441%20%u0411%u043E%u0441%u0441%u043E%u043C.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%2300FFFF%3B%20border-color%3A%2300FFFF%22%20onclick%3D%22ui.setArenaMode%28%27duel%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeDuel%22%3E%u0414%u0443%u044D%u043B%u0438%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descDuel%22%3E1%20vs%201.%20%u0427%u0435%u0441%u0442%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%2332CD32%3B%20border-color%3A%2332CD32%22%20onclick%3D%22ui.setArenaMode%28%27arena%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeArena%22%3E%u0410%u0440%u0435%u043D%u0430%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descArena%22%3E10%20%u0438%u0433%u0440%u043E%u043A%u043E%u0432.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FF00FF%3B%20border-color%3A%23FF00FF%22%20onclick%3D%22ui.setArenaMode%28%27royal%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeRoyal%22%3E%u041A%u043E%u0440%u043E%u043B%u0435%u0432%u0441%u043A%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descRoyal%22%3E100%20%u0438%u0433%u0440%u043E%u043A%u043E%u0432.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%231E90FF%3B%20border-color%3A%231E90FF%22%20onclick%3D%22ui.setArenaMode%28%27team%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeTeam%22%3E%u041A%u043E%u043C%u0430%u043D%u0434%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descTeam%22%3E%u041A%u0440%u0430%u0441%u043D%u044B%u0435%20vs%20%u0421%u0438%u043D%u0438%u0435.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FFFF00%3B%20border-color%3A%23FFFF00%22%20onclick%3D%22ui.setArenaMode%28%27survival_random%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeSurvivalRandom%22%3E%u0412%u044B%u0436%u0438%u0432%u0430%u043D%u0438%u0435%20%u043D%u0430%20%u0440%u0430%u043D%u0434%u043E%u043C%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descSurvivalRandom%22%3E%u0421%u043C%u0435%u043D%u0430%20%u043A%u0430%u0440%u0442%u044B%20%u0438%20%u043F%u043B%u0430%u043D%u0435%u0442.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FF69B4%3B%20border-color%3A%23FF69B4%22%20onclick%3D%22ui.setArenaMode%28%27random_start%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeRandom%22%3E%u0420%u0430%u043D%u0434%u043E%u043C%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descRandom%22%3E%u0421%u043B%u0443%u0447%u0430%u0439%u043D%u044B%u0435%20%u043F%u0430%u0440%u0430%u043C%u0435%u0442%u0440%u044B.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FFFFFF%3B%20border-color%3A%23FFFFFF%22%20onclick%3D%22ui.setArenaMode%28%27agility%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeAgility%22%3E%u041B%u043E%u0432%u043A%u043E%u0441%u0442%u044C%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descAgility%22%3E%u0412%u044B%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u043E%u0434%u043D%u043E%u0439%20%u043F%u043B%u0430%u043D%u0435%u0442%u044B.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%238A2BE2%3B%20border-color%3A%238A2BE2%22%20onclick%3D%22ui.setArenaMode%28%275vs1%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22mode5v1%22%3E5%20%u043D%u0430%201%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22desc5v1%22%3E%u0410%u0441%u0438%u043C%u043C%u0435%u0442%u0440%u0438%u0447%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%2300FF00%3B%20border-color%3A%2300FF00%22%20onclick%3D%22ui.setArenaMode%28%27zombie%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeZombie%22%3E%u0417%u043E%u043C%u0431%u0438-%u0430%u043F%u043E%u043A%u0430%u043B%u0438%u043F%u0441%u0438%u0441%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descZombie%22%3E%u0412%u044B%u0436%u0438%u0432%u0430%u043D%u0438%u0435%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u0438%u043D%u0444%u0435%u043A%u0446%u0438%u0438.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23FF4500%3B%20border-color%3A%23FF4500%22%20onclick%3D%22ui.setArenaMode%28%27all_vs_one%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeAllVsOne%22%3E%u0412%u0441%u0435%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u043E%u0434%u043D%u043E%u0433%u043E%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descAllVsOne%22%3E%u0412%u0435%u0441%u044C%20%u043C%u0438%u0440%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u0432%u0430%u0441.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%23F0F8FF%3B%20border-color%3A%23F0F8FF%22%20onclick%3D%22ui.setArenaMode%28%27countryballs%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeCountry%22%3E%u041A%u0430%u043D%u0442%u0440%u0438%20%u0431%u043E%u043B%u043B%u0441%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descCountry%22%3E%u041F%u043B%u0430%u043D%u0435%u0442%u044B-%u0441%u0442%u0440%u0430%u043D%u044B.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22arena-card%22%20style%3D%22color%3A%2300BFFF%3B%20border-color%3A%2300BFFF%22%20onclick%3D%22ui.setArenaMode%28%27save_life%27%29%22%3E%3Cdiv%20class%3D%22arena-card-title%22%20data-lang-key%3D%22modeSaveLife%22%3E%u0421%u043E%u0445%u0440%u0430%u043D%u0438%20%u0436%u0438%u0437%u043D%u044C%3C/div%3E%3Cdiv%20class%3D%22arena-card-desc%22%20data-lang-key%3D%22descSaveLife%22%3E%u0417%u0430%u0449%u0438%u0442%u0430%20%u0417%u0435%u043C%u043B%u0438%20%u043E%u0442%20%u0432%u043E%u043B%u043D.%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22modeToggles%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-toggle-row%22%20onclick%3D%22ui.toggleGameMode%28%27secondChance%27%29%22%3E%3Cdiv%20class%3D%22mode-checkbox%22%20id%3D%22chkSecondChance%22%3E%3C/div%3E%20%3Cspan%20data-lang-key%3D%22secondChance%22%3E%u0412%u0442%u043E%u0440%u0430%u044F%20%u043F%u043E%u043F%u044B%u0442%u043A%u0430%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-toggle-row%22%20onclick%3D%22ui.toggleGameMode%28%27bossRush%27%29%22%3E%3Cdiv%20class%3D%22mode-checkbox%22%20id%3D%22chkBossRush%22%3E%3C/div%3E%20%3Cspan%20data-lang-key%3D%22bossRush%22%3E%u0411%u043E%u0441%u0441-%u0440%u0430%u0448%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-toggle-row%22%20onclick%3D%22ui.toggleGameMode%28%27pseudoMulti%27%29%22%3E%3Cdiv%20class%3D%22mode-checkbox%22%20id%3D%22chkPseudoMulti%22%3E%3C/div%3E%20%3Cspan%20data-lang-key%3D%22pseudoMulti%22%3E%u041F%u0441%u0435%u0432%u0434%u043E%20%u043C%u0443%u043B%u044C%u0442%u0438%u043F%u043B%u0435%u0435%u0440%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mode-toggle-row%22%20onclick%3D%22ui.toggleGameMode%28%27disableEvents%27%29%22%3E%3Cdiv%20class%3D%22mode-checkbox%22%20id%3D%22chkDisableEvents%22%3E%3C/div%3E%20%3Cspan%20data-lang-key%3D%22disableEvents%22%3E%u041E%u0442%u043A%u043B.%20%u0441%u043E%u0431%u044B%u0442%u0438%u044F%20%u0410%u0440%u0435%u043D%u044B%3C/span%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22margin-top%3A40px%3B%20width%3A150px%3B%20padding%3A10px%3B%20flex-shrink%3A%200%3B%22%20onclick%3D%22ui.showModeSelect%28%29%22%20data-lang-key%3D%22back%22%3E%u041D%u0410%u0417%u0410%u0414%3C/button%3E%0A%3C/div%3E%0A%0A%3C%21--%20NEW%20LOADOUT%20SCREEN%20--%3E%0A%3Cdiv%20id%3D%22loadoutScreen%22%20class%3D%22menu-screen%20interactive%22%3E%0A%20%20%20%20%3Ch2%20style%3D%22color%3A%23fff%3B%20margin-bottom%3A20px%3B%20text-align%3Acenter%3B%22%3E%u0412%u042B%u0411%u041E%u0420%20%u0412%u041E%u041E%u0420%u0423%u0416%u0415%u041D%u0418%u042F%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22loadout-section%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22loadout-title%22%3E%u0422%u0418%u041F%20%u041E%u0414%u0418%u041D%u041E%u0427%u041D%u041E%u0419%20%u041F%u0423%u041B%u0418%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-cards%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-card%22%20id%3D%22bulletFrozen%22%20onclick%3D%22ui.selectBullet%28%27frozen%27%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-weight%3Abold%3B%20color%3A%230ff%22%3E%u041A%u041B%u0410%u0421%u0421%u0418%u041A%u0410%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-icon%22%20style%3D%22background%3A%20radial-gradient%28%230ff%2C%20%23000%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A10px%3B%20color%3A%23ccc%3B%20text-align%3Acenter%22%3E%u041E%u0431%u044B%u0447%u043D%u0430%u044F%20%u043B%u0435%u0434%u044F%u043D%u0430%u044F%20%u043F%u0443%u043B%u044F.%20%u0417%u0430%u043C%u0435%u0434%u043B%u044F%u0435%u0442.%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-card%22%20id%3D%22bulletBlue%22%20onclick%3D%22ui.selectBullet%28%27blue%27%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-weight%3Abold%3B%20color%3A%2300BFFF%22%3E%u0422%u041E%u041B%u041A%u0410%u042E%u0429%u0410%u042F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-icon%22%20style%3D%22background%3A%20radial-gradient%28%2300BFFF%2C%20%23000%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A10px%3B%20color%3A%23ccc%3B%20text-align%3Acenter%22%3E%u041E%u0442%u0442%u0430%u043B%u043A%u0438%u0432%u0430%u0435%u0442%20%u043D%u0430%202x%20%u0440%u0430%u0437%u043C%u0435%u0440%20%u0441%u0442%u0440%u0435%u043B%u043A%u0430.%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-card%22%20id%3D%22bulletGreen%22%20onclick%3D%22ui.selectBullet%28%27green%27%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-weight%3Abold%3B%20color%3A%2332CD32%22%3E%u041E%u0422%u0420%u0410%u0412%u041B%u042F%u042E%u0429%u0410%u042F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-icon%22%20style%3D%22background%3A%20radial-gradient%28%2332CD32%2C%20%23000%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A10px%3B%20color%3A%23ccc%3B%20text-align%3Acenter%22%3E%u0417%u0430%u043C%u0435%u0434%u043B%u0435%u043D%u0438%u0435%2040%25-%3E10%25%2C%201%20%u0443%u0440%u043E%u043D/%u0441%u0435%u043A%20%28%u043C%u0430%u043A%u0441%20300%29.%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-card%22%20id%3D%22bulletRed%22%20onclick%3D%22ui.selectBullet%28%27red%27%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-weight%3Abold%3B%20color%3A%23FF4500%22%3E%u0412%u0417%u0420%u042B%u0412%u041D%u0410%u042F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bullet-icon%22%20style%3D%22background%3A%20radial-gradient%28%23FF4500%2C%20%23000%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A10px%3B%20color%3A%23ccc%3B%20text-align%3Acenter%22%3E%u041C%u0435%u0434%u043B%u0435%u043D%u043D%u0430%u044F%2C%20%u0436%u0438%u0432%u0435%u0442%203%u0441%2C%20%u0443%u0440%u043E%u043D%201/11%20%u043E%u0447%u043A%u043E%u0432%20%u0432%u0440%u0430%u0433%u0430.%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22loadout-section%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22loadout-title%22%3E%u0423%u0421%u0418%u041B%u0415%u041D%u0418%u0415%20%u041E%u0420%u0423%u0416%u0418%u042F%20%28%u0412%u042B%u0411%u0415%u0420%u0418%203%29%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-grid%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_snowball%22%20onclick%3D%22ui.toggleWeaponBuff%28%27snowball%27%29%22%3E%3Cspan%3E%u2744%uFE0F%3C/span%3E%u0421%u043D%u0435%u0436%u043E%u043A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_wave%22%20onclick%3D%22ui.toggleWeaponBuff%28%27wave%27%29%22%3E%3Cspan%3E%uD83D%uDCA5%3C/span%3E%u0412%u043E%u043B%u043D%u0430%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_moon%22%20onclick%3D%22ui.toggleWeaponBuff%28%27moon%27%29%22%3E%3Cspan%3E%uD83C%uDF19%3C/span%3E%u0421%u043F%u0443%u0442%u043D%u0438%u043A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_great%22%20onclick%3D%22ui.toggleWeaponBuff%28%27great%27%29%22%3E%3Cspan%3E%uD83C%uDF87%3C/span%3E%u0412%u0435%u043B%u0438%u0447%u0438%u0435%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_ray%22%20onclick%3D%22ui.toggleWeaponBuff%28%27ray%27%29%22%3E%3Cspan%3E%u26A1%3C/span%3E%u041B%u0443%u0447%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_grav%22%20onclick%3D%22ui.toggleWeaponBuff%28%27grav%27%29%22%3E%3Cspan%3E%uD83C%uDF0C%3C/span%3E%u0413%u0440%u0430%u0432%u0438%u0442%u0430%u0446%u0438%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22weapon-item%22%20id%3D%22wep_shield%22%20onclick%3D%22ui.toggleWeaponBuff%28%27shield%27%29%22%3E%3Cspan%3E%uD83D%uDEE1%uFE0F%3C/span%3E%u0429%u0438%u0442%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22text-align%3Acenter%3B%20margin-top%3A5px%3B%20font-size%3A12px%3B%20color%3A%23aaa%3B%22%3E%u0412%u044B%u0431%u0440%u0430%u043D%u043D%u044B%u0435%20%u043E%u0440%u0443%u0436%u0438%u044F%20%u043F%u043E%u043B%u0443%u0447%u0430%u0442%20+10%25%20%u043A%20%u044D%u0444%u0444%u0435%u043A%u0442%u0438%u0432%u043D%u043E%u0441%u0442%u0438%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22width%3A200px%3B%20padding%3A10px%3B%22%20onclick%3D%22ui.startGameFromLoadout%28%29%22%3E%u0412%20%u0411%u041E%u0419%21%3C/button%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22shopScreen%22%20class%3D%22menu-screen%20interactive%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22shop-header%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22money-display%22%3E%uD83D%uDCB0%20%3Cspan%20id%3D%22shopCoins%22%3E0%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A%20min%2824px%2C%204vw%29%3B%20font-weight%3A%20bold%3B%20color%3A%23aaa%3B%20letter-spacing%3A%203px%3B%22%20id%3D%22shopTitle%22%20data-lang-key%3D%22shop%22%3E%u041C%u0410%u0413%u0410%u0417%u0418%u041D%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22close-btn%22%20onmousedown%3D%22ui.ripple%28event%2C%20%28%29%20%3D%3E%20ui.closeShop%28%29%29%22%3E%u2715%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22shop-tabs%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%20active%22%20onclick%3D%22ui.switchTab%28%27planets%27%29%22%20id%3D%22tabPlanets%22%20data-lang-key%3D%22tabPlanets%22%3E%u041F%u041B%u0410%u041D%u0415%u0422%u042B%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%22%20onclick%3D%22ui.switchTab%28%27upgrades%27%29%22%20id%3D%22tabUpgrades%22%20data-lang-key%3D%22tabItems%22%3E%u041F%u0420%u0415%u0414%u041C%u0415%u0422%u042B%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%22%20onclick%3D%22ui.switchTab%28%27abilities%27%29%22%20id%3D%22tabAbilities%22%20data-lang-key%3D%22tabAbilities%22%3E%u0421%u041F%u041E%u0421%u041E%u0411%u041D%u041E%u0421%u0422%u0418%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%22%20onclick%3D%22ui.switchTab%28%27misc%27%29%22%20id%3D%22tabMisc%22%20data-lang-key%3D%22tabMisc%22%3E%u0420%u0410%u0417%u041D%u041E%u0415%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22tab-btn%22%20onclick%3D%22ui.switchTab%28%27clicker%27%29%22%20id%3D%22tabClicker%22%3E%u041A%u041B%u0418%u041A%u0415%u0420%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22shop-content-area%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22neon-btn%22%20style%3D%22width%3A200px%3B%20padding%3A10px%3B%20margin%3A%2010px%200%3B%20border-color%3Aviolet%3B%20font-size%3A14px%3B%22%20onclick%3D%22ui.selectRandomPlanet%28%29%22%20data-lang-key%3D%22randomPlanet%22%3E%uD83C%uDFB2%20%u0421%u041B%u0423%u0427%u0410%u0419%u041D%u0410%u042F%20%u041F%u041B%u0410%u041D%u0415%u0422%u0410%3C/button%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22shop-row-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22nav-arrow%22%20onclick%3D%22ui.scrollShop%28-1%29%22%3E%u25C4%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22cards-container%22%20class%3D%22cards-scroll-area%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22nav-arrow%22%20onclick%3D%22ui.scrollShop%281%29%22%3E%u25BA%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22shop-footer-desc%22%20id%3D%22fullDescArea%22%20data-lang-key%3D%22hoverDesc%22%3E%u041D%u0430%u0432%u0435%u0434%u0438%u0442%u0435%20%u043D%u0430%20%u043F%u0440%u0435%u0434%u043C%u0435%u0442%20%u0434%u043B%u044F%20%u043E%u043F%u0438%u0441%u0430%u043D%u0438%u044F%3C/div%3E%0A%3C/div%3E%0A%3Cscript%3E%0Aconst%20CONFIG%20%3D%20%7B%20mapSize%3A%205700%2C%20baseSize%3A%2020%2C%20maxStars%3A%203500%2C%20itemCount%3A%2040%2C%20botCount%3A%2040%20%7D%3B%20%0Aconst%20QUOTES%20%3D%20%5B%22%u0410%u0434%u0434%u0438%u0441-%u0410%u0431%u0435%u0431%u0430%20%u0442%u043E%u043F%21%22%2C%20%22%u0414%u0435%u0439%u043C%u0438%u043A%u0441%20%u0442%u043E%u043F%22%2C%20%22%u041D%u0435%20%u043A%u0440%u0438%u043D%u0433%u0435%22%2C%20%22%u0417%u0438%u043C%u0430%202025%22%2C%20%22%u0421%u043D%u0435%u0436%u043A%u0438%20%u043B%u0435%u0442%u044F%u0442%21%22%2C%20%22%u0411%u0435%u0440%u0435%u0433%u0438%u0441%u044C%20%u0431%u043E%u0441%u0441%u043E%u0432%21%22%2C%20%22%u0422%u041E%u041D%20618%20%u0436%u0434%u0451%u0442...%22%2C%20%22%u0424%u0435%u043D%u0438%u043A%u0441%20%u0410%20%u043D%u0430%u0431%u043B%u044E%u0434%u0430%u0435%u0442...%22%5D%3B%0Aconst%20LANG_DATA%20%3D%20%7B%0A%20%20%20%20ru%3A%20%7B%0A%20%20%20%20%20%20%20%20play%3A%20%22%u0418%u0413%u0420%u0410%u0422%u042C%22%2C%20shop%3A%20%22%u041C%u0410%u0413%u0410%u0417%u0418%u041D%22%2C%20modifier%3A%20%22%u041C%u041E%u0414%u0418%u0424%u0418%u041A%u0410%u0422%u041E%u0420%22%2C%20settings%3A%20%22%u041D%u0410%u0421%u0422%u0420%u041E%u0419%u041A%u0418%22%2C%20freeCoins%3A%20%22%u0411%u0415%u0421%u041F%u041B%u0410%u0422%u041D%u042B%u0415%20%u041C%u041E%u041D%u0415%u0422%u042B%22%2C%0A%20%20%20%20%20%20%20%20pc%3A%20%22%u041A%u043E%u043C%u043F%u044C%u044E%u0442%u0435%u0440%22%2C%20mobile%3A%20%22%u0422%u0435%u043B%u0435%u0444%u043E%u043D%22%2C%20back%3A%20%22%u041D%u0410%u0417%u0410%u0414%22%2C%20chooseDevice%3A%20%22%u0412%u042B%u0411%u0415%u0420%u0418%u0422%u0415%20%u0423%u0421%u0422%u0420%u041E%u0419%u0421%u0422%u0412%u041E%22%2C%0A%20%20%20%20%20%20%20%20difficulty%3A%20%22%u0421%u041B%u041E%u0416%u041D%u041E%u0421%u0422%u042C%22%2C%20diffAll%3A%20%22%u042F%20%u0445%u043E%u0447%u0443%20%u0432%u0441%u0451%20%u0441%u0440%u0430%u0437%u0443%22%2C%20descAll%3A%20%22%u0411%u043E%u0441%u0441%20x0.33%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x1.75%22%2C%0A%20%20%20%20%20%20%20%20diffEasy%3A%20%22%u041B%u0435%u0433%u0447%u0430%u0439%u0448%u0430%u044F%22%2C%20descEasy%3A%20%22%u0411%u043E%u0441%u0441%20x0.5%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x1.5%22%2C%20diffNormal%3A%20%22%u041D%u043E%u0440%u043C%u0430%u043B%u044C%u043D%u0430%u044F%22%2C%20descNormal%3A%20%22%u0411%u0430%u043B%u0430%u043D%u0441%22%2C%0A%20%20%20%20%20%20%20%20diffHard%3A%20%22%u0421%u043B%u043E%u0436%u043D%u0430%u044F%22%2C%20descHard%3A%20%22%u0411%u043E%u0441%u0441%20x2.0%20HP%3Cbr%3E%u0423%u0440%u043E%u043D%20x2%22%2C%20diffSigma%3A%20%22%u0421%u0438%u0433%u043C%u0430%22%2C%20descSigma%3A%20%22%u0411%u043E%u0441%u0441%20x3.0%20HP%3Cbr%3E%u0417%u0432%u0451%u0437%u0434%u044B%20x0.85%22%2C%0A%20%20%20%20%20%20%20%20arenaGames%3A%20%22%u0418%u0433%u0440%u044B%20%u0410%u0440%u0435%u043D%u044B%22%2C%20modeMini%3A%20%22%u041C%u0438%u043D%u0438-%u0440%u0430%u0448%22%2C%20descMini%3A%20%221%20%u043D%u0430%201%20%u0441%20%u0411%u043E%u0441%u0441%u043E%u043C.%22%2C%0A%20%20%20%20%20%20%20%20modeDuel%3A%20%22%u0414%u0443%u044D%u043B%u0438%22%2C%20descDuel%3A%20%221%20vs%201.%20%u0427%u0435%u0441%u0442%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430.%22%2C%20modeArena%3A%20%22%u0410%u0440%u0435%u043D%u0430%22%2C%20descArena%3A%20%2210%20%u0438%u0433%u0440%u043E%u043A%u043E%u0432.%22%2C%0A%20%20%20%20%20%20%20%20modeRoyal%3A%20%22%u041A%u043E%u0440%u043E%u043B%u0435%u0432%u0441%u043A%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430%22%2C%20descRoyal%3A%20%22100%20%u0438%u0433%u0440%u043E%u043A%u043E%u0432.%22%2C%20modeTeam%3A%20%22%u041A%u043E%u043C%u0430%u043D%u0434%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430%22%2C%20descTeam%3A%20%22%u041A%u0440%u0430%u0441%u043D%u044B%u0435%20vs%20%u0421%u0438%u043D%u0438%u0435.%22%2C%0A%20%20%20%20%20%20%20%20modeSurvivalRandom%3A%20%22%u0412%u044B%u0436%u0438%u0432%u0430%u043D%u0438%u0435%20%u043D%u0430%20%u0440%u0430%u043D%u0434%u043E%u043C%22%2C%20descSurvivalRandom%3A%20%22%u0421%u043C%u0435%u043D%u0430%20%u043A%u0430%u0440%u0442%u044B%20%u0438%20%u043F%u043B%u0430%u043D%u0435%u0442.%22%2C%0A%20%20%20%20%20%20%20%20modeRandom%3A%20%22%u0420%u0430%u043D%u0434%u043E%u043C%22%2C%20descRandom%3A%20%22%u0421%u043B%u0443%u0447%u0430%u0439%u043D%u044B%u0435%20%u043F%u0430%u0440%u0430%u043C%u0435%u0442%u0440%u044B.%22%2C%20modeAgility%3A%20%22%u041B%u043E%u0432%u043A%u043E%u0441%u0442%u044C%22%2C%20descAgility%3A%20%22%u0412%u044B%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u043E%u0434%u043D%u043E%u0439%20%u043F%u043B%u0430%u043D%u0435%u0442%u044B.%22%2C%0A%20%20%20%20%20%20%20%20mode5v1%3A%20%225%20%u043D%u0430%201%22%2C%20desc5v1%3A%20%22%u0410%u0441%u0438%u043C%u043C%u0435%u0442%u0440%u0438%u0447%u043D%u0430%u044F%20%u0431%u0438%u0442%u0432%u0430.%22%2C%20modeZombie%3A%20%22%u0417%u043E%u043C%u0431%u0438-%u0430%u043F%u043E%u043A%u0430%u043B%u0438%u043F%u0441%u0438%u0441%22%2C%20descZombie%3A%20%22%u0412%u044B%u0436%u0438%u0432%u0430%u043D%u0438%u0435%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u0438%u043D%u0444%u0435%u043A%u0446%u0438%u0438.%22%2C%0A%20%20%20%20%20%20%20%20modeAllVsOne%3A%20%22%u0412%u0441%u0435%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u043E%u0434%u043D%u043E%u0433%u043E%22%2C%20descAllVsOne%3A%20%22%u0412%u0435%u0441%u044C%20%u043C%u0438%u0440%20%u043F%u0440%u043E%u0442%u0438%u0432%20%u0432%u0430%u0441.%22%2C%20modeCountry%3A%20%22%u041A%u0430%u043D%u0442%u0440%u0438%20%u0431%u043E%u043B%u043B%u0441%22%2C%20descCountry%3A%20%22%u041F%u043B%u0430%u043D%u0435%u0442%u044B-%u0441%u0442%u0440%u0430%u043D%u044B.%22%2C%0A%20%20%20%20%20%20%20%20modeSaveLife%3A%20%22%u0421%u043E%u0445%u0440%u0430%u043D%u0438%20%u0436%u0438%u0437%u043D%u044C%22%2C%20descSaveLife%3A%20%22%u0417%u0430%u0449%u0438%u0442%u0430%20%u0417%u0435%u043C%u043B%u0438%20%u043E%u0442%20%u0432%u043E%u043B%u043D.%22%2C%0A%20%20%20%20%20%20%20%20secondChance%3A%20%22%u0412%u0442%u043E%u0440%u0430%u044F%20%u043F%u043E%u043F%u044B%u0442%u043A%u0430%22%2C%20bossRush%3A%20%22%u0411%u043E%u0441%u0441-%u0440%u0430%u0448%22%2C%20pseudoMulti%3A%20%22%u041F%u0441%u0435%u0432%u0434%u043E%20%u043C%u0443%u043B%u044C%u0442%u0438%u043F%u043B%u0435%u0435%u0440%22%2C%20disableEvents%3A%20%22%u041E%u0442%u043A%u043B.%20%u0441%u043E%u0431%u044B%u0442%u0438%u044F%20%u0410%u0440%u0435%u043D%u044B%22%2C%0A%20%20%20%20%20%20%20%20tabPlanets%3A%20%22%u041F%u041B%u0410%u041D%u0415%u0422%u042B%22%2C%20tabItems%3A%20%22%u041F%u0420%u0415%u0414%u041C%u0415%u0422%u042B%22%2C%20tabAbilities%3A%20%22%u0421%u041F%u041E%u0421%u041E%u0411%u041D%u041E%u0421%u0422%u0418%22%2C%20tabMisc%3A%20%22%u0420%u0410%u0417%u041D%u041E%u0415%22%2C%0A%20%20%20%20%20%20%20%20randomPlanet%3A%20%22%uD83C%uDFB2%20%u0421%u041B%u0423%u0427%u0410%u0419%u041D%u0410%u042F%20%u041F%u041B%u0410%u041D%u0415%u0422%u0410%22%2C%20hoverDesc%3A%20%22%u041D%u0430%u0432%u0435%u0434%u0438%u0442%u0435%20%u043D%u0430%20%u043F%u0440%u0435%u0434%u043C%u0435%u0442%20%u0434%u043B%u044F%20%u043E%u043F%u0438%u0441%u0430%u043D%u0438%u044F%22%2C%0A%20%20%20%20%20%20%20%20pause%3A%20%22%u041F%u0410%u0423%u0417%u0410%22%2C%20continue%3A%20%22%u041F%u0420%u041E%u0414%u041E%u041B%u0416%u0418%u0422%u042C%22%2C%20menu%3A%20%22%u041C%u0415%u041D%u042E%22%2C%20gameOver%3A%20%22%u0418%u0413%u0420%u0410%20%u041E%u041A%u041E%u041D%u0427%u0415%u041D%u0410%22%2C%20score%3A%20%22%u0421%u0447%u0435%u0442%22%2C%20coins%3A%20%22%u041C%u043E%u043D%u0435%u0442%22%2C%20mainMenu%3A%20%22%u0413%u041B%u0410%u0412%u041D%u041E%u0415%20%u041C%u0415%u041D%u042E%22%2C%0A%20%20%20%20%20%20%20%20items%3A%20%22%u041F%u0420%u0415%u0414%u041C%u0415%u0422%u042B%22%2C%20rayAttack%3A%20%22%u0420%u0415%u0416%u0418%u041C%20%u041B%u0423%u0427%u0415%u0412%u041E%u0419%20%u0410%u0422%u0410%u041A%u0418%22%2C%20blueAttack%3A%20%22%u0420%u0415%u0416%u0418%u041C%20%u0413%u041E%u041B%u0423%u0411%u041E%u0419%20%u0410%u0422%u0410%u041A%u0418%22%2C%0A%20%20%20%20%20%20%20%20frozen%3A%20%22%u2744%uFE0F%20%u0417%u0410%u041C%u041E%u0420%u041E%u0417%u041A%u0410%20%u2744%uFE0F%22%2C%20move%3A%20%22%u0414%u0412%u0418%u0416%u0415%u041D%u0418%u0415%22%2C%20aim%3A%20%22%u041F%u0420%u0418%u0426%u0415%u041B%22%2C%20size%3A%20%22%u0420%u0430%u0437%u043C%u0435%u0440%22%2C%20save%3A%20%22%u0421%u043E%u0445%u0440%u0430%u043D%u0438%u0442%u044C%22%2C%20cancel%3A%20%22%u041E%u0442%u043C%u0435%u043D%u0430%22%2C%0A%20%20%20%20%20%20%20%20setupControls%3A%20%22%u041D%u0430%u0441%u0442%u0440%u043E%u0438%u0442%u044C%20%u0443%u043F%u0440%u0430%u0432%u043B%u0435%u043D%u0438%u0435%22%2C%20fpsCounter%3A%20%22%u0421%u0447%u0435%u0442%u0447%u0438%u043A%20FPS%22%2C%20close%3A%20%22%u0417%u0430%u043A%u0440%u044B%u0442%u044C%22%2C%0A%20%20%20%20%20%20%20%20botScoreBonus%3A%20%22%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0431%u043E%u0442%u044B%29%22%2C%20bossScoreBonus%3A%20%22%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0431%u043E%u0441%u0441%u044B%29%22%2C%20playerScoreBonus%3A%20%22%u0411%u043E%u043D%u0443%u0441%20%u043E%u0447%u043A%u043E%u0432%20%28%u0438%u0433%u0440%u043E%u043A%29%22%2C%0A%20%20%20%20%20%20%20%20playerDmg%3A%20%22%u0423%u0440%u043E%u043D%20%28%u0438%u0433%u0440%u043E%u043A%29%22%2C%20weaponDmg%3A%20%22%u0423%u0440%u043E%u043D%20%u043E%u0440%u0443%u0436%u0438%u044F%22%2C%20passiveScorePlayer%3A%20%22%u041E%u0447%u043A%u0438/%u0441%u0435%u043A%20%28%u0418%u0433%u0440%u043E%u043A%29%22%2C%20passiveScoreBot%3A%20%22%u041E%u0447%u043A%u0438/%u0441%u0435%u043A%20%28%u0411%u043E%u0442%u044B%29%22%2C%0A%20%20%20%20%20%20%20%20vacuumRadius%3A%20%22%u0420%u0430%u0434%u0438%u0443%u0441%20%u043F%u044B%u043B%u0435%u0441%u043E%u0441%u0438%u043D%u0433%u0430%22%2C%20ruleImmunity%3A%20%22%u0418%u043C%u043C%u0443%u043D%u0438%u0442%u0435%u0442%20%u043A%20%u043F%u0440%u0430%u0432%u0438%u043B%u0430%u043C%22%2C%0A%20%20%20%20%20%20%20%20botCount%3A%20%22%u041A%u043E%u043B%u0438%u0447%u0435%u0441%u0442%u0432%u043E%20%u0431%u043E%u0442%u043E%u0432%22%2C%20mapSize%3A%20%22%u0420%u0430%u0437%u043C%u0435%u0440%20%u043A%u0430%u0440%u0442%u044B%22%2C%20immunity%3A%20%22%u0418%u043C%u043C%u0443%u043D%u0438%u0442%u0435%u0442%20%u0438%u0433%u0440%u043E%u043A%u0430%22%0A%20%20%20%20%7D%2C%0A%20%20%20%20en%3A%20%7B%0A%20%20%20%20%20%20%20%20play%3A%20%22PLAY%22%2C%20shop%3A%20%22SHOP%22%2C%20modifier%3A%20%22MODIFIER%22%2C%20settings%3A%20%22SETTINGS%22%2C%20freeCoins%3A%20%22FREE%20COINS%22%2C%0A%20%20%20%20%20%20%20%20pc%3A%20%22Computer%22%2C%20mobile%3A%20%22Phone%22%2C%20back%3A%20%22BACK%22%2C%20chooseDevice%3A%20%22CHOOSE%20DEVICE%22%2C%0A%20%20%20%20%20%20%20%20difficulty%3A%20%22DIFFICULTY%22%2C%20diffAll%3A%20%22I%20want%20it%20all%22%2C%20descAll%3A%20%22Boss%20x0.33%20HP%3Cbr%3EStars%20x1.75%22%2C%0A%20%20%20%20%20%20%20%20diffEasy%3A%20%22Easiest%22%2C%20descEasy%3A%20%22Boss%20x0.5%20HP%3Cbr%3EStars%20x1.5%22%2C%20diffNormal%3A%20%22Normal%22%2C%20descNormal%3A%20%22Balanced%22%2C%0A%20%20%20%20%20%20%20%20diffHard%3A%20%22Hard%22%2C%20descHard%3A%20%22Boss%20x2.0%20HP%3Cbr%3EDmg%20x2%22%2C%20diffSigma%3A%20%22Sigma%22%2C%20descSigma%3A%20%22Boss%20x3.0%20HP%3Cbr%3EStars%20x0.85%22%2C%0A%20%20%20%20%20%20%20%20arenaGames%3A%20%22Arena%20Games%22%2C%20modeMini%3A%20%22Mini-Rush%22%2C%20descMini%3A%20%221%20vs%201%20with%20Boss.%22%2C%0A%20%20%20%20%20%20%20%20modeDuel%3A%20%22Duels%22%2C%20descDuel%3A%20%221%20vs%201.%20Fair%20fight.%22%2C%20modeArena%3A%20%22Arena%22%2C%20descArena%3A%20%2210%20players.%22%2C%0A%20%20%20%20%20%20%20%20modeRoyal%3A%20%22Battle%20Royale%22%2C%20descRoyal%3A%20%22100%20players.%22%2C%20modeTeam%3A%20%22Team%20Battle%22%2C%20descTeam%3A%20%22Red%20vs%20Blue.%22%2C%0A%20%20%20%20%20%20%20%20modeSurvivalRandom%3A%20%22Survival%20Random%22%2C%20descSurvivalRandom%3A%20%22Map%20%26%20planet%20swap.%22%2C%0A%20%20%20%20%20%20%20%20modeRandom%3A%20%22Random%22%2C%20descRandom%3A%20%22Random%20params.%22%2C%20modeAgility%3A%20%22Agility%22%2C%20descAgility%3A%20%22You%20vs%20One%20Planet.%22%2C%0A%20%20%20%20%20%20%20%20mode5v1%3A%20%225%20vs%201%22%2C%20desc5v1%3A%20%22Asymmetric%20battle.%22%2C%20modeZombie%3A%20%22Zombie%20Apocalypse%22%2C%20descZombie%3A%20%22Survive%20infection.%22%2C%0A%20%20%20%20%20%20%20%20modeAllVsOne%3A%20%22All%20vs%20One%22%2C%20descAllVsOne%3A%20%22World%20vs%20You.%22%2C%20modeCountry%3A%20%22Countryballs%22%2C%20descCountry%3A%20%22Country%20planets.%22%2C%0A%20%20%20%20%20%20%20%20modeSaveLife%3A%20%22Save%20Life%22%2C%20descSaveLife%3A%20%22Defend%20Earth.%22%2C%0A%20%20%20%20%20%20%20%20secondChance%3A%20%22Second%20Chance%22%2C%20bossRush%3A%20%22Boss%20Rush%22%2C%20pseudoMulti%3A%20%22Pseudo%20Multiplayer%22%2C%20disableEvents%3A%20%22Disable%20Arena%20Events%22%2C%0A%20%20%20%20%20%20%20%20tabPlanets%3A%20%22PLANETS%22%2C%20tabItems%3A%20%22ITEMS%22%2C%20tabAbilities%3A%20%22ABILITIES%22%2C%20tabMisc%3A%20%22MISC%22%2C%0A%20%20%20%20%20%20%20%20randomPlanet%3A%20%22%uD83C%uDFB2%20RANDOM%20PLANET%22%2C%20hoverDesc%3A%20%22Hover%20for%20description%22%2C%0A%20%20%20%20%20%20%20%20pause%3A%20%22PAUSE%22%2C%20continue%3A%20%22CONTINUE%22%2C%20menu%3A%20%22MENU%22%2C%20gameOver%3A%20%22GAME%20OVER%22%2C%20score%3A%20%22Score%22%2C%20coins%3A%20%22Coins%22%2C%20mainMenu%3A%20%22MAIN%20MENU%22%2C%0A%20%20%20%20%20%20%20%20items%3A%20%22ITEMS%22%2C%20rayAttack%3A%20%22RAY%20ATTACK%20MODE%22%2C%20blueAttack%3A%20%22BLUE%20ATTACK%20MODE%22%2C%0A%20%20%20%20%20%20%20%20frozen%3A%20%22%u2744%uFE0F%20FROZEN%20%u2744%uFE0F%22%2C%20move%3A%20%22MOVE%22%2C%20aim%3A%20%22AIM%22%2C%20size%3A%20%22Size%22%2C%20save%3A%20%22Save%22%2C%20cancel%3A%20%22Cancel%22%2C%0A%20%20%20%20%20%20%20%20setupControls%3A%20%22Setup%20Controls%22%2C%20fpsCounter%3A%20%22FPS%20Counter%22%2C%20close%3A%20%22Close%22%2C%0A%20%20%20%20%20%20%20%20botScoreBonus%3A%20%22Score%20Bonus%20%28Bots%29%22%2C%20bossScoreBonus%3A%20%22Score%20Bonus%20%28Bosses%29%22%2C%20playerScoreBonus%3A%20%22Score%20Bonus%20%28Player%29%22%2C%0A%20%20%20%20%20%20%20%20playerDmg%3A%20%22Damage%20%28Player%29%22%2C%20weaponDmg%3A%20%22Weapon%20Damage%22%2C%20passiveScorePlayer%3A%20%22Score/sec%20%28Player%29%22%2C%20passiveScoreBot%3A%20%22Score/sec%20%28Bots%29%22%2C%0A%20%20%20%20%20%20%20%20vacuumRadius%3A%20%22Vacuum%20Radius%22%2C%20ruleImmunity%3A%20%22Rule%20Immunity%22%2C%0A%20%20%20%20%20%20%20%20botCount%3A%20%22Bot%20Count%22%2C%20mapSize%3A%20%22Map%20Size%22%2C%20immunity%3A%20%22Player%20Immunity%22%0A%20%20%20%20%7D%0A%7D%3B%0A%0Aconst%20ITEMS_TYPES%20%3D%20%7B%0A%20%20%20%20speed%3A%20%7B%20icon%3A%20%27%u26A1%27%2C%20name%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%22%2C%20color%3A%20%27%23FFD700%27%2C%20duration%3A%2010%2C%20cooldown%3A%2010%20%7D%2C%0A%20%20%20%20magnet%3A%20%7B%20icon%3A%20%27%uD83E%uDDF2%27%2C%20name%3A%20%22%u041C%u0430%u0433%u043D%u0438%u0442%22%2C%20color%3A%20%27%23FF4500%27%2C%20duration%3A%2010%2C%20cooldown%3A%2010%20%7D%2C%0A%20%20%20%20grow%3A%20%7B%20icon%3A%20%27%uD83D%uDCAA%27%2C%20name%3A%20%22%u0421%u0438%u043B%u0430%22%2C%20color%3A%20%27%2300BFFF%27%2C%20duration%3A%2010%2C%20cooldown%3A%2010%20%7D%2C%0A%20%20%20%20bonus%3A%20%7B%20icon%3A%20%27%u2B50%27%2C%20name%3A%20%22%u0411%u043E%u043D%u0443%u0441%22%2C%20color%3A%20%27%23FF00FF%27%2C%20duration%3A%2010%2C%20cooldown%3A%2010%20%7D%0A%7D%3B%0A%0Aconst%20PLANETS%20%3D%20%5B%0A%20%20%20%20%7B%20id%3A%20%27mercury%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27%u041C%u0435%u0440%u043A%u0443%u0440%u0438%u0439%27%2C%20price%3A%20250%2C%20color%3A%20%27%23A9A9A9%27%2C%20detail%3A%20%27%23696969%27%2C%20type%3A%204%2C%20desc%3A%20%22%u0421%u0430%u043C%u0430%u044F%20%u0431%u044B%u0441%u0442%u0440%u0430%u044F%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20x1.2.%20%u041D%u0435%u0442%20%u0441%u043F%u0443%u0442%u043D%u0438%u043A%u0430%20%28+30%20%u043E%u0447%u043A%u043E%u0432%29.%20%u0423%u0440%u043E%u043D%20%u043B%u0443%u0447%u0430%20x1.2.%20%u0422%u0440%u043E%u0439%u043D%u043E%u0439%20%u0432%u044B%u0441%u0442%u0440%u0435%u043B%20%u043F%u043E%u043B%u043E%u0441%u043A%u0430%u043C%u0438.%20%u0421%u0435%u0440%u044B%u0439%20%u0441%u043D%u0435%u0436%u043E%u043A.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27venus%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27%u0412%u0435%u043D%u0435%u0440%u0430%27%2C%20price%3A%20350%2C%20color%3A%20%27%23F4A460%27%2C%20detail%3A%20%27%23D2691E%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0413%u043E%u0440%u044F%u0447%u0430%u044F%20%u0430%u0442%u043C%u043E%u0441%u0444%u0435%u0440%u0430%22%2C%20fullDesc%3A%20%22%u0416%u0435%u043B%u0442%u0430%u044F%20%u0430%u0442%u043C%u043E%u0441%u0444%u0435%u0440%u0430/%u0449%u0438%u0442/%u0441%u043D%u0435%u0436%u043E%u043A.%20%u041F%u043E%u043B%u043E%u0441%u043A%u0438%3A%20%u043D%u0435%u0442%u043E%u0447%u043D%u044B%u0435%2C%20%u0443%u0440%u043E%u043D%20x0.35%2C%20%u0434%u0435%u0448%u0435%u0432%u044B%u0435%2C%20%u0431%u044B%u0441%u0442%u0440%u0430%u044F%20%u0441%u0442%u0440%u0435%u043B%u044C%u0431%u0430.%20%u041B%u0443%u0447%20x1.5%20%u0443%u0440%u043E%u043D.%20%u0421%u043F%u0443%u0442%u043D%u0438%u043A%20%u0441%u0442%u0440%u0435%u043B%u044F%u0435%u0442.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27earth%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27%u0417%u0435%u043C%u043B%u044F%27%2C%20price%3A%200%2C%20color%3A%20%27%231E90FF%27%2C%20detail%3A%20%27%232E8B57%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0420%u043E%u0434%u043D%u043E%u0439%20%u0434%u043E%u043C%22%2C%20fullDesc%3A%20%22%u0428%u0430%u043D%u0441%2015%25%20%u043F%u043E%u043B%u0443%u0447%u0438%u0442%u044C%20x1.5%20%u043E%u0447%u043A%u043E%u0432%20%u0441%u043E%20%u0437%u0432%u0435%u0437%u0434.%20%u0421%u043D%u0435%u0436%u043E%u043A%20%u0431%u0435%u043B%u044B%u0439%20%u0438%20%u043D%u0430%u0432%u043E%u0434%u0438%u0442%u0441%u044F.%20%u041B%u0443%u0447%20x1.15%20%u0434%u043B%u0438%u0442%u0435%u043B%u044C%u043D%u043E%u0441%u0442%u044C.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27mars%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27%u041C%u0430%u0440%u0441%27%2C%20price%3A%20450%2C%20color%3A%20%27%23CD5C5C%27%2C%20detail%3A%20%27%238B0000%27%2C%20type%3A%202%2C%20desc%3A%20%22%u041A%u0440%u0430%u0441%u043D%u0430%u044F%20%u043F%u043B%u0430%u043D%u0435%u0442%u0430%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20+3%25.%20%u041B%u0443%u0447%20%u0431%u044B%u0441%u0442%u0440%u0435%u0435%20%28-30%25%20%u0437%u0430%u0434%u0435%u0440%u0436%u043A%u0430%29.%202%20%u0441%u043F%u0443%u0442%u043D%u0438%u043A%u0430.%20%u0412%u0430%u043C%u043F%u0438%u0440-%u0448%u0430%u0440%20%u043D%u0430%u0432%u043E%u0434%u0438%u0442%u0441%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27jupiter%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27%u042E%u043F%u0438%u0442%u0435%u0440%27%2C%20price%3A%20550%2C%20color%3A%20%27%23DEB887%27%2C%20detail%3A%20%27%238B4513%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0413%u0430%u0437%u043E%u0432%u044B%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20-15%25.%20%u041B%u0443%u0447%3A%20%u0434%u043E%u043B%u0433%u0438%u0439%2C%20%u043C%u043E%u0449%u043D%u044B%u0439%20%28x1.45%29%2C%20%u043D%u0430%u0432%u043E%u0434%u0438%u0442%u0441%u044F.%20%u0429%u0438%u0442%20%u043F%u0440%u043E%u0447%u043D%u0435%u0435.%20%u041B%u0435%u0434.%20%u043F%u0443%u043B%u044F%3A%20%u043C%u0435%u0434%u043B%u0435%u043D%u043D%u0435%u0435%2C%20%u0437%u0430%u043C%u043E%u0440%u043E%u0437%u043A%u0430%2090%25.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27saturn%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27%u0421%u0430%u0442%u0443%u0440%u043D%27%2C%20price%3A%20650%2C%20color%3A%20%27%23F4A460%27%2C%20detail%3A%20%27%23A0522D%27%2C%20hasRing%3A%20true%2C%20type%3A%201%2C%20desc%3A%20%22%u041A%u043E%u043B%u044C%u0446%u0430%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20-10%25.%20%u041A%u043E%u043B%u044C%u0446%u0430%20%u043D%u0430%u043D%u043E%u0441%u044F%u0442%20%u0443%u0440%u043E%u043D%201%25.%20%u0421%u043F%u0443%u0442%u043D%u0438%u043A%20%u043F%u043E%u043B%u043E%u0441%u0430%u0442%u044B%u0439%20%28%u0443%u0440%u043E%u043D%20+30%25%29.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27uranus%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27%u0423%u0440%u0430%u043D%27%2C%20price%3A%20700%2C%20color%3A%20%27%23AFEEEE%27%2C%20detail%3A%20%27%2340E0D0%27%2C%20hasRing%3A%20true%2C%20type%3A%203%2C%20desc%3A%20%22%u041B%u0435%u0434%u044F%u043D%u043E%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20-5%25.%20%u0425%u043E%u043B%u043E%u0434%u043D%u044B%u0439.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27neptune%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27%u041D%u0435%u043F%u0442%u0443%u043D%27%2C%20price%3A%20750%2C%20color%3A%20%27%234169E1%27%2C%20detail%3A%20%27%23000080%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0411%u043E%u0433%20%u043C%u043E%u0440%u0435%u0439%22%2C%20fullDesc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20-3%25.%20%u0413%u043B%u0443%u0431%u043E%u043A%u0438%u0439%20%u0441%u0438%u043D%u0438%u0439.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27sun%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0421%u043E%u043B%u043D%u0446%u0435%27%2C%20price%3A%201000%2C%20color%3A%20%27%23FFD700%27%2C%20detail%3A%20%27%23FF8C00%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0417%u0432%u0435%u0437%u0434%u0430%22%2C%20fullDesc%3A%20%22%u0426%u0435%u043D%u0442%u0440%20%u0441%u0438%u0441%u0442%u0435%u043C%u044B.%208%20%u041B%u0443%u043D.%20%u041E%u0441%u043E%u0431%u044B%u0439%20%u043B%u0443%u0447.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27proximab%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Proxima%20b%27%2C%20price%3A%20400%2C%20color%3A%20%27%23d96%27%2C%20detail%3A%20%27%23953%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0421%u043E%u0441%u0435%u0434%22%2C%20fullDesc%3A%20%22%u0411%u043B%u0438%u0436%u0430%u0439%u0448%u0430%u044F%20%u044D%u043A%u0437%u043E%u043F%u043B%u0430%u043D%u0435%u0442%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27kepler186f%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Kepler-186f%27%2C%20price%3A%20450%2C%20color%3A%20%27%23d2691e%27%2C%20detail%3A%20%27%238b4513%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0417%u0435%u043C%u043B%u044F%202.0%3F%22%2C%20fullDesc%3A%20%22%u0410%u0442%u043C%u043E%u0441%u0444%u0435%u0440%u043D%u0430%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27trappist1e%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Trappist-1e%27%2C%20price%3A%20500%2C%20color%3A%20%27%2320b2aa%27%2C%20detail%3A%20%27%23008b8b%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0412%u043E%u0434%u043D%u044B%u0439%20%u043C%u0438%u0440%22%2C%20fullDesc%3A%20%22%u0412%20%u0437%u043E%u043D%u0435%20%u043E%u0431%u0438%u0442%u0430%u0435%u043C%u043E%u0441%u0442%u0438.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27gliese581g%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Gliese%20581g%27%2C%20price%3A%20550%2C%20color%3A%20%27%23778899%27%2C%20detail%3A%20%27%232f4f4f%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0421%u0435%u0440%u044B%u0439%20%u043C%u0438%u0440%22%2C%20fullDesc%3A%20%22%u041F%u043E%u0442%u0435%u043D%u0446%u0438%u0430%u043B%u044C%u043D%u043E%20%u043E%u0431%u0438%u0442%u0430%u0435%u043C%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27teegardenb%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Teegarden%20b%27%2C%20price%3A%20575%2C%20color%3A%20%27%23cd853f%27%2C%20detail%3A%20%27%23a0522d%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0422%u0435%u043F%u043B%u0430%u044F%22%2C%20fullDesc%3A%20%22%u0423%20%u043A%u0440%u0430%u0441%u043D%u043E%u0433%u043E%20%u043A%u0430%u0440%u043B%u0438%u043A%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27toi700d%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27TOI-700%20d%27%2C%20price%3A%20600%2C%20color%3A%20%27%23deb887%27%2C%20detail%3A%20%27%23cd5c5c%27%2C%20type%3A%201%2C%20desc%3A%20%22%u042D%u043A%u0437%u043E%u043F%u043B%u0430%u043D%u0435%u0442%u0430%22%2C%20fullDesc%3A%20%22%u041A%u0430%u043C%u0435%u043D%u0438%u0441%u0442%u0430%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27sirius%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0421%u0438%u0440%u0438%u0443%u0441%27%2C%20price%3A%201200%2C%20color%3A%20%27%23A0D2FF%27%2C%20detail%3A%20%27%23fff%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u042F%u0440%u0447%u0430%u0439%u0448%u0430%u044F%22%2C%20fullDesc%3A%20%22%u0421%u0438%u044F%u0435%u0442%20%u0431%u0435%u043B%u043E-%u0433%u043E%u043B%u0443%u0431%u044B%u043C.%20%u041B%u0443%u0447%20%u0438%20%u043F%u043E%u043B%u043E%u0441%u043A%u0438%20-%20%u0433%u043E%u043B%u0443%u0431%u044B%u0435.%20%u041B%u0443%u043D%u0430%20%u0443%u0441%u0438%u043B%u0435%u043D%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27rigel%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0420%u0438%u0433%u0435%u043B%u044C%27%2C%20price%3A%201350%2C%20color%3A%20%27%234455ff%27%2C%20detail%3A%20%27%23ccddee%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0413%u043E%u043B%u0443%u0431%u043E%u0439%20%u0441%u0432%u0435%u0440%u0445%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u0425%u043E%u043B%u043E%u0434%u043D%u0430%u044F%20%u044F%u0440%u043E%u0441%u0442%u044C.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27aldebaran%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0410%u043B%u044C%u0434%u0435%u0431%u0430%u0440%u0430%u043D%27%2C%20price%3A%201450%2C%20color%3A%20%27%23ff8800%27%2C%20detail%3A%20%27%23ffaa44%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0413%u043B%u0430%u0437%20%u0422%u0435%u043B%u044C%u0446%u0430%22%2C%20fullDesc%3A%20%22%u041E%u0440%u0430%u043D%u0436%u0435%u0432%u044B%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27proximac%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27Proxima%20Centauri%27%2C%20price%3A%201600%2C%20color%3A%20%27%23FF4500%27%2C%20detail%3A%20%27%23FF6347%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u041A%u0435%u043D%u0442%u0430%u0432%u0440%20%3A/%22%2C%20fullDesc%3A%20%22%u041F%u043E%u0447%u0442%u0438%20%u0426%u0435%u043D%u0442%u0430%u0432%u0440%u0430%2C%20%u043D%u043E%20%u041A%u0435%u043D%u0442%u0430%u0432%u0440%20%3A/%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27betelgeuse%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0411%u0435%u0442%u0435%u043B%u044C%u0433%u0435%u0439%u0437%u0435%27%2C%20price%3A%201750%2C%20color%3A%20%27%23ff4500%27%2C%20detail%3A%20%27%238b0000%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u041A%u0440%u0430%u0441%u043D%u044B%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u041E%u0433%u0440%u043E%u043C%u043D%u0430%u044F%20%u0438%20%u043C%u043E%u0449%u043D%u0430%u044F.%20%u041A%u0440%u0430%u0441%u043D%u044B%u0439%20%u043B%u0443%u0447%20%u0438%20%u043F%u043E%u043B%u043E%u0441%u043A%u0438.%20%u041B%u0443%u043D%u0430%20%u0443%u0441%u0438%u043B%u0435%u043D%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27ceres%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27%u0426%u0435%u0440%u0435%u0440%u0430%27%2C%20price%3A%20750%2C%20color%3A%20%27%23888888%27%2C%20detail%3A%20%27%23aaaaaa%27%2C%20type%3A%204%2C%20desc%3A%20%22%u041A%u0430%u0440%u043B%u0438%u043A%22%2C%20fullDesc%3A%20%22%u041C%u0430%u043B%u0435%u043D%u044C%u043A%u0430%u044F%20%u0438%20%u0443%u0434%u0430%u043B%u0435%u043D%u044C%u043A%u0430%u044F.%20%u0421%u0435%u0440%u044B%u0439%20%u0446%u0432%u0435%u0442.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27kepler22b%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Kepler-22b%27%2C%20price%3A%20800%2C%20color%3A%20%27%232a9%27%2C%20detail%3A%20%27%23165%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0412%u043E%u0434%u043D%u044B%u0439%20%u043C%u0438%u0440%22%2C%20fullDesc%3A%20%22%u041E%u043A%u0435%u0430%u043D%20%u0431%u0435%u0437%20%u043A%u043E%u043D%u0446%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27tts16a%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27TTS-16a%20Proxima%27%2C%20price%3A%202500%2C%20color%3A%20%27%23FF0000%27%2C%20detail%3A%20%27%2300FF00%27%2C%20type%3A%205%2C%20desc%3A%20%22%u041E%u0441%u043E%u0431%u0430%u044F%22%2C%20fullDesc%3A%20%22%u041A%u0440%u0430%u0441%u043D%u043E-%u0437%u0435%u043B%u0435%u043D%u0430%u044F%20%u043F%u043B%u0430%u043D%u0435%u0442%u0430.%20%u041B%u0443%u0447%20%u0432%20%u0446%u0432%u0435%u0442%u0430%u0445%20%u0422%u0430%u0442%u0430%u0440%u0441%u0442%u0430%u043D%u0430.%20%u041E%u0441%u043E%u0431%u0430%u044F%20%u0432%u043E%u043B%u043D%u0430%20%u0438%20%u0441%u043D%u0435%u0436%u043E%u043A.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27kepler452b%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Kepler-452b%27%2C%20price%3A%20650%2C%20color%3A%20%27%23228B22%27%2C%20detail%3A%20%27%23006400%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0421%u0442%u0430%u0440%u0448%u0438%u0439%20%u0431%u0440%u0430%u0442%20%u0417%u0435%u043C%u043B%u0438%22%2C%20fullDesc%3A%20%22%u041C%u0430%u0441%u0441%u0438%u0432%u043D%u0430%u044F%2C%20%u043D%u043E%20%u0436%u0438%u0437%u043D%u0435%u043F%u0440%u0438%u0433%u043E%u0434%u043D%u0430%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27hd189733b%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27HD%20189733%20b%27%2C%20price%3A%20900%2C%20color%3A%20%27%2300008B%27%2C%20detail%3A%20%27%23191970%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0421%u0442%u0435%u043A%u043B%u044F%u043D%u043D%u044B%u0439%20%u0434%u043E%u0436%u0434%u044C%22%2C%20fullDesc%3A%20%22%u0413%u043B%u0443%u0431%u043E%u043A%u0438%u0439%20%u0441%u0438%u043D%u0438%u0439%20%u0446%u0432%u0435%u0442%2C%20%u0441%u0438%u043B%u044C%u043D%u044B%u0435%20%u0432%u0435%u0442%u0440%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%2755cancrie%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%2755%20Cancri%20e%27%2C%20price%3A%201200%2C%20color%3A%20%27%23FFC0CB%27%2C%20detail%3A%20%27%23FF69B4%27%2C%20type%3A%204%2C%20desc%3A%20%22%u0410%u043B%u043C%u0430%u0437%u043D%u0430%u044F%20%u043F%u043B%u0430%u043D%u0435%u0442%u0430%22%2C%20fullDesc%3A%20%22%u041E%u0447%u0435%u043D%u044C%20%u043F%u043B%u043E%u0442%u043D%u0430%u044F%20%u0438%20%u0434%u043E%u0440%u043E%u0433%u0430%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27wasp12b%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27WASP-12b%27%2C%20price%3A%201100%2C%20color%3A%20%27%234B0082%27%2C%20detail%3A%20%27%23000%27%2C%20type%3A%201%2C%20desc%3A%20%22%u041F%u043E%u0433%u043B%u043E%u0449%u0430%u0435%u043C%u0430%u044F%22%2C%20fullDesc%3A%20%22%u0414%u0435%u0444%u043E%u0440%u043C%u0438%u0440%u043E%u0432%u0430%u043D%u043D%u0430%u044F%20%u0433%u0440%u0430%u0432%u0438%u0442%u0430%u0446%u0438%u0435%u0439.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27gj504b%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27GJ%20504%20b%27%2C%20price%3A%20950%2C%20color%3A%20%27%23FF69B4%27%2C%20detail%3A%20%27%23C71585%27%2C%20type%3A%203%2C%20desc%3A%20%22%u0420%u043E%u0437%u043E%u0432%u0430%u044F%20%u043F%u043B%u0430%u043D%u0435%u0442%u0430%22%2C%20fullDesc%3A%20%22%u041C%u043E%u043B%u043E%u0434%u043E%u0439%20%u0433%u0430%u0437%u043E%u0432%u044B%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27uyscuti%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27UY%20Scuti%27%2C%20price%3A%202800%2C%20color%3A%20%27%238B0000%27%2C%20detail%3A%20%27%23000%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0413%u0438%u043F%u0435%u0440%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u041A%u043E%u043B%u043E%u0441%u0441%u0430%u043B%u044C%u043D%u044B%u0439%20%u0440%u0430%u0437%u043C%u0435%u0440.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27stephenson218%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27Stephenson%202-18%27%2C%20price%3A%203000%2C%20color%3A%20%27%23FF4500%27%2C%20detail%3A%20%27%23A52A2A%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u041A%u043E%u0440%u043E%u043B%u044C%20%u0440%u0430%u0437%u043C%u0435%u0440%u043E%u0432%22%2C%20fullDesc%3A%20%22%u0421%u0430%u043C%u0430%u044F%20%u0431%u043E%u043B%u044C%u0448%u0430%u044F%20%u0438%u0437%u0432%u0435%u0441%u0442%u043D%u0430%u044F%20%u0437%u0432%u0435%u0437%u0434%u0430.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27vycanis%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27VY%20Canis%20Majoris%27%2C%20price%3A%202600%2C%20color%3A%20%27%23DC143C%27%2C%20detail%3A%20%27%23800000%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u041A%u0440%u0430%u0441%u043D%u044B%u0439%20%u0433%u0438%u043F%u0435%u0440%u0433%u0438%u0433%u0430%u043D%u0442%22%2C%20fullDesc%3A%20%22%u041D%u0435%u0441%u0442%u0430%u0431%u0438%u043B%u044C%u043D%u0430%u044F%20%u0438%20%u043E%u0433%u0440%u043E%u043C%u043D%u0430%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27kepler1649c%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Kepler-1649c%27%2C%20price%3A%20580%2C%20color%3A%20%27%238B4513%27%2C%20detail%3A%20%27%23D2691E%27%2C%20type%3A%202%2C%20desc%3A%20%22%u042D%u043A%u0437%u043E-%u0417%u0435%u043C%u043B%u044F%22%2C%20fullDesc%3A%20%22%u041F%u043E%u0445%u043E%u0436%u0430%20%u043D%u0430%20%u0417%u0435%u043C%u043B%u044E%20%u043F%u043E%20%u0440%u0430%u0437%u043C%u0435%u0440%u0443%20%u0438%20%u0442%u0435%u043C%u043F%u0435%u0440%u0430%u0442%u0443%u0440%u0435.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27lhs1140b%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27LHS%201140%20b%27%2C%20price%3A%20620%2C%20color%3A%20%27%23A52A2A%27%2C%20detail%3A%20%27%23800000%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0421%u0443%u043F%u0435%u0440%u0437%u0435%u043C%u043B%u044F%22%2C%20fullDesc%3A%20%22%u041A%u0430%u043C%u0435%u043D%u0438%u0441%u0442%u0430%u044F%20%u043F%u043B%u0430%u043D%u0435%u0442%u0430%20%u0432%20%u043E%u0431%u0438%u0442%u0430%u0435%u043C%u043E%u0439%20%u0437%u043E%u043D%u0435.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27ross128b%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Ross%20128%20b%27%2C%20price%3A%20540%2C%20color%3A%20%27%23BC8F8F%27%2C%20detail%3A%20%27%23CD5C5C%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0422%u0438%u0445%u0430%u044F%20%u0433%u0430%u0432%u0430%u043D%u044C%22%2C%20fullDesc%3A%20%22%u0412%u0440%u0430%u0449%u0430%u0435%u0442%u0441%u044F%20%u0432%u043E%u043A%u0440%u0443%u0433%20%u0441%u043F%u043E%u043A%u043E%u0439%u043D%u043E%u0439%20%u0437%u0432%u0435%u0437%u0434%u044B.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27gliese667cc%27%2C%20category%3A%20%27rocky%27%2C%20name%3A%20%27Gliese%20667%20Cc%27%2C%20price%3A%20680%2C%20color%3A%20%27%23708090%27%2C%20detail%3A%20%27%232F4F4F%27%2C%20type%3A%202%2C%20desc%3A%20%22%u0422%u0440%u0438%20%u0441%u043E%u043B%u043D%u0446%u0430%22%2C%20fullDesc%3A%20%22%u041F%u043B%u0430%u043D%u0435%u0442%u0430%20%u0432%20%u0442%u0440%u043E%u0439%u043D%u043E%u0439%20%u0437%u0432%u0435%u0437%u0434%u043D%u043E%u0439%20%u0441%u0438%u0441%u0442%u0435%u043C%u0435.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27k218b%27%2C%20category%3A%20%27gas%27%2C%20name%3A%20%27K2-18b%27%2C%20price%3A%20720%2C%20color%3A%20%27%234682B4%27%2C%20detail%3A%20%27%23B0C4DE%27%2C%20type%3A%201%2C%20desc%3A%20%22%u0412%u043E%u0434%u043D%u044B%u0439%20%u043C%u0438%u0440%22%2C%20fullDesc%3A%20%22%u0412%u043E%u0437%u043C%u043E%u0436%u043D%u043E%2C%20%u043F%u043E%u043A%u0440%u044B%u0442%u0430%20%u0433%u043B%u043E%u0431%u0430%u043B%u044C%u043D%u044B%u043C%20%u043E%u043A%u0435%u0430%u043D%u043E%u043C.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27pollux%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u041F%u043E%u043B%u043B%u0443%u043A%u0441%27%2C%20price%3A%201300%2C%20color%3A%20%27%23FFA07A%27%2C%20detail%3A%20%27%23FF6347%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0411%u043B%u0438%u0437%u043D%u0435%u0446%22%2C%20fullDesc%3A%20%22%u041E%u0440%u0430%u043D%u0436%u0435%u0432%u044B%u0439%20%u0433%u0438%u0433%u0430%u043D%u0442%20%u0438%u0437%20%u0441%u043E%u0437%u0432%u0435%u0437%u0434%u0438%u044F%20%u0411%u043B%u0438%u0437%u043D%u0435%u0446%u043E%u0432.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27arcturus%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27%u0410%u0440%u043A%u0442%u0443%u0440%27%2C%20price%3A%201400%2C%20color%3A%20%27%23FF4500%27%2C%20detail%3A%20%27%23FFD700%27%2C%20type%3A%203%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0421%u0442%u0440%u0430%u0436%22%2C%20fullDesc%3A%20%22%u042F%u0440%u0447%u0430%u0439%u0448%u0430%u044F%20%u0437%u0432%u0435%u0437%u0434%u0430%20%u0441%u0435%u0432%u0435%u0440%u043D%u043E%u0433%u043E%20%u043F%u043E%u043B%u0443%u0448%u0430%u0440%u0438%u044F.%22%20%7D%2C%0A%20%20%20%20%7B%20id%3A%20%27sgra%27%2C%20category%3A%20%27star%27%2C%20name%3A%20%27Sagittarius%20A*%27%2C%20price%3A%205000%2C%20color%3A%20%27%23000000%27%2C%20detail%3A%20%27%234B0082%27%2C%20type%3A%20%27ton618%27%2C%20glow%3A%20true%2C%20desc%3A%20%22%u0427%u0435%u0440%u043D%u0430%u044F%20%u0434%u044B%u0440%u0430%22%2C%20fullDesc%3A%20%22%u0426%u0435%u043D%u0442%u0440%20%u0433%u0430%u043B%u0430%u043A%u0442%u0438%u043A%u0438.%20%u041F%u044B%u043B%u0435%u0441%u043E%u0441%20+68%25%20%u0440%u0430%u0434%u0438%u0443%u0441%2C%20+5%u0441%20%u0432%u0440%u0435%u043C%u044F.%20%u041C%u0435%u0434%u043B%u0435%u043D%u043D%u0430%u044F%20%28-30%25%29%2C%20%u043D%u043E%20%u0440%u044B%u0432%u043E%u043A%20+28%25%20%u0438%20%u0437%u0430%u0441%u0430%u0441%u044B%u0432%u0430%u0435%u0442%20%u043F%u0440%u0438%20%u0440%u044B%u0432%u043A%u0435.%22%20%7D%0A%5D%3B%0A%0Aconst%20BOSS_DATA%20%3D%20%5B%0A%20%20%20%20%7B%20stage%3A%201%2C%20color%3A%20%27%23FFD700%27%2C%20name%3A%20%22%u0416%u0451%u043B%u0442%u044B%u0439%20%u043A%u0430%u0440%u043B%u0438%u043A%22%2C%20atkColor%3A%20%27%23FFD700%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%202%2C%20color%3A%20%27%23FFFFFF%27%2C%20name%3A%20%22%u0413%u043B%u0430%u0432%u043D%u0430%u044F%20%u043F%u043E%u0441%u043B%u0435%u0434%u043E%u0432%u0430%u0442%u0435%u043B%u044C%u043D%u043E%u0441%u0442%u044C%22%2C%20atkColor%3A%20%27%23FFFFFF%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%203%2C%20color%3A%20%27%2300FFFF%27%2C%20name%3A%20%22%u041B%u0443%u0447%u0435%u0432%u0430%u044F%20%27%u0433%u0430%u0440%u043C%u043E%u043D%u0438%u044F%27%22%2C%20atkColor%3A%20%27%2300FFFF%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%204%2C%20color%3A%20%27%231a1a1a%27%2C%20name%3A%20%22%u0427%u0435%u0440%u0432%u043E%u0442%u043E%u0447%u0438%u043D%u0430%22%2C%20atkColor%3A%20%27%238A2BE2%27%20%7D%2C%20%0A%20%20%20%20%7B%20stage%3A%205%2C%20color%3A%20%27%23FF0000%27%2C%20name%3A%20%22%u041A%u0440%u0430%u0441%u043D%u044B%u0439%20%u0413%u0438%u0433%u0430%u043D%u0442%22%2C%20atkColor%3A%20%27%23FF0000%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%206%2C%20color%3A%20%27%23FFFFFF%27%2C%20name%3A%20%22%u0421%u043F%u0435%u043A%u0442%u0440%u0430%u043B%u044C%u043D%u0430%u044F%20%u041A%u0443%u043B%u044C%u043C%u0438%u043D%u0430%u0446%u0438%u044F%22%2C%20atkColor%3A%20%27%23000000%27%2C%20type%3A%20%27spectral%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%207%2C%20color%3A%20%27%23000000%27%2C%20name%3A%20%22%u0413%u0440%u0430%u0432%u0438%u0442%u0430%u0446%u0438%u043E%u043D%u043D%u0430%u044F%20%u0410%u043D%u043E%u043C%u0430%u043B%u0438%u044F%22%2C%20atkColor%3A%20%27%23111111%27%2C%20type%3A%20%27anomaly%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%208%2C%20color%3A%20%27%23F4A460%27%2C%20name%3A%20%22%u0422%u041E%u041D%20618%22%2C%20atkColor%3A%20%27%23F5DEB3%27%2C%20type%3A%20%27ton618%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%209%2C%20color%3A%20%27%2300BFFF%27%2C%20name%3A%20%22%u0424%u0435%u043D%u0438%u043A%u0441%20%u0410%22%2C%20atkColor%3A%20%27%2387CEEB%27%2C%20type%3A%20%27phoenix%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%2010%2C%20color%3A%20%27%23D2B48C%27%2C%20name%3A%20%22%u0421%u0442%u0440%u0430%u043D%u043D%u044B%u0439%20%u0437%u043E%u043D%u0434%22%2C%20atkColor%3A%20%27%23FF0000%27%2C%20type%3A%20%27probe%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%2011%2C%20color%3A%20%27%23FFD700%27%2C%20name%3A%20%22%u041A%u043E%u0440%u043E%u043B%u044C%20%u0417%u0432%u0451%u0437%u0434%22%2C%20atkColor%3A%20%27%23FFFFFF%27%2C%20type%3A%20%27starKing%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%2012%2C%20color%3A%20%27%2332CD32%27%2C%20name%3A%20%22%u0424%u043B%u043E%u0440%u0430%u043D%u0442%20%u0413%u0438%u0433%u0430%u043D%u0442%u0440%u0438%u0443%u0441%22%2C%20atkColor%3A%20%27%2300FF00%27%2C%20type%3A%20%27florant%27%20%7D%2C%0A%20%20%20%20%7B%20stage%3A%2013%2C%20color%3A%20%27%23888888%27%2C%20name%3A%20%22%u041E%u0445%u043E%u0442%u043D%u0438%u043A%20%u041C%u0438%u0440%u043E%u0432%22%2C%20atkColor%3A%20%27%23800080%27%2C%20type%3A%20%27hunter%27%20%7D%0A%5D%3B%0A%0Aconst%20COUNTRIES%20%3D%20%5B%0A%20%20%20%20%7B%20name%3A%20%22Russia%22%2C%20score%3A%2017125%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%2300f%27%2C%20%27%23f00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Canada%22%2C%20score%3A%209984%2C%20type%3A%20%27canada%27%2C%20colors%3A%20%5B%27%23f00%27%2C%20%27%23fff%27%2C%20%27%23f00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22China%22%2C%20score%3A%209598%2C%20type%3A%20%27china%27%2C%20colors%3A%20%5B%27%23f00%27%2C%20%27%23ff0%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22USA%22%2C%20score%3A%209525%2C%20type%3A%20%27usa%27%2C%20colors%3A%20%5B%27%23b22234%27%2C%20%27%23fff%27%2C%20%27%233c3b6e%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Brazil%22%2C%20score%3A%208515%2C%20type%3A%20%27brazil%27%2C%20colors%3A%20%5B%27%23009c3b%27%2C%20%27%23ffdf00%27%2C%20%27%23002776%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Australia%22%2C%20score%3A%207692%2C%20type%3A%20%27usa%27%2C%20colors%3A%20%5B%27%2300008b%27%2C%20%27%23fff%27%2C%20%27%23f00%27%5D%20%7D%2C%20%0A%20%20%20%20%7B%20name%3A%20%22India%22%2C%20score%3A%203287%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23ff9933%27%2C%20%27%23fff%27%2C%20%27%23138808%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Argentina%22%2C%20score%3A%202780%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%2375aadb%27%2C%20%27%23fff%27%2C%20%27%2375aadb%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Kazakhstan%22%2C%20score%3A%202724%2C%20type%3A%20%27kazakh%27%2C%20colors%3A%20%5B%27%2300aec7%27%2C%20%27%23ffdf00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Algeria%22%2C%20score%3A%202381%2C%20type%3A%20%27bicolor_v%27%2C%20colors%3A%20%5B%27%23006633%27%2C%20%27%23fff%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22DR%20Congo%22%2C%20score%3A%202344%2C%20type%3A%20%27diag%27%2C%20colors%3A%20%5B%27%23007fff%27%2C%20%27%23fce300%27%2C%20%27%23ce1126%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Saudi%20Arabia%22%2C%20score%3A%202149%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%23006C35%27%2C%20%27%23006C35%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Mexico%22%2C%20score%3A%201964%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23006847%27%2C%20%27%23fff%27%2C%20%27%23ce1126%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Indonesia%22%2C%20score%3A%201904%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%23f00%27%2C%20%27%23fff%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Sudan%22%2C%20score%3A%201886%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23ce1126%27%2C%20%27%23fff%27%2C%20%27%23000%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Libya%22%2C%20score%3A%201759%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23ce1126%27%2C%20%27%23000%27%2C%20%27%23007a3d%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Iran%22%2C%20score%3A%201648%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23239f40%27%2C%20%27%23fff%27%2C%20%27%23da0000%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Mongolia%22%2C%20score%3A%201564%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23da2032%27%2C%20%27%230066ff%27%2C%20%27%23da2032%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Peru%22%2C%20score%3A%201285%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23d91023%27%2C%20%27%23fff%27%2C%20%27%23d91023%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Chad%22%2C%20score%3A%201284%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23002664%27%2C%20%27%23fecb00%27%2C%20%27%23c60c30%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Niger%22%2C%20score%3A%201267%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23e05206%27%2C%20%27%23fff%27%2C%20%27%230db02b%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Angola%22%2C%20score%3A%201246%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%23ce1126%27%2C%20%27%23000%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Mali%22%2C%20score%3A%201240%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%2314b53a%27%2C%20%27%23fcd116%27%2C%20%27%23ce1126%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22South%20Africa%22%2C%20score%3A%201221%2C%20type%3A%20%27rsa%27%2C%20colors%3A%20%5B%27%23007749%27%2C%20%27%23000%27%2C%20%27%23fff%27%2C%20%27%23e03c31%27%2C%20%27%23001489%27%2C%20%27%23ffb81c%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Colombia%22%2C%20score%3A%201141%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23fcd116%27%2C%20%27%23003893%27%2C%20%27%23ce1126%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Ethiopia%22%2C%20score%3A%201104%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23009a44%27%2C%20%27%23fcd116%27%2C%20%27%23ef2b2d%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Bolivia%22%2C%20score%3A%201098%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23ce1126%27%2C%20%27%23fcd116%27%2C%20%27%23007934%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Mauritania%22%2C%20score%3A%201030%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%23006233%27%2C%20%27%23ce1126%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Egypt%22%2C%20score%3A%201002%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23ce1126%27%2C%20%27%23fff%27%2C%20%27%23000%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Tanzania%22%2C%20score%3A%20947%2C%20type%3A%20%27diag%27%2C%20colors%3A%20%5B%27%231eb53a%27%2C%20%27%23fcd116%27%2C%20%27%23000%27%2C%20%27%2300a3dd%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Nigeria%22%2C%20score%3A%20923%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23008751%27%2C%20%27%23fff%27%2C%20%27%23008751%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Venezuela%22%2C%20score%3A%20916%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23fce300%27%2C%20%27%23003da5%27%2C%20%27%23cf142b%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Pakistan%22%2C%20score%3A%20881%2C%20type%3A%20%27pakistan%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%2300401a%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Turkey%22%2C%20score%3A%20783%2C%20type%3A%20%27turkey%27%2C%20colors%3A%20%5B%27%23e30a17%27%2C%20%27%23fff%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Chile%22%2C%20score%3A%20756%2C%20type%3A%20%27chile%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%23d52b1e%27%2C%20%27%230039a6%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Zambia%22%2C%20score%3A%20752%2C%20type%3A%20%27zambia%27%2C%20colors%3A%20%5B%27%23198a00%27%2C%20%27%23de2010%27%2C%20%27%23000%27%2C%20%27%23ef7d00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22France%22%2C%20score%3A%20640%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%230055a4%27%2C%20%27%23fff%27%2C%20%27%23ef4135%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Ukraine%22%2C%20score%3A%20603%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%230057b7%27%2C%20%27%23ffd700%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Spain%22%2C%20score%3A%20505%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23aa151b%27%2C%20%27%23f1bf00%27%2C%20%27%23aa151b%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Sweden%22%2C%20score%3A%20450%2C%20type%3A%20%27nordic%27%2C%20colors%3A%20%5B%27%23006aa7%27%2C%20%27%23fecc00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Germany%22%2C%20score%3A%20357%2C%20type%3A%20%27stripes_h%27%2C%20colors%3A%20%5B%27%23000%27%2C%20%27%23d00%27%2C%20%27%23ffce00%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Finland%22%2C%20score%3A%20338%2C%20type%3A%20%27nordic%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%23003580%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Vietnam%22%2C%20score%3A%20331%2C%20type%3A%20%27vietnam%27%2C%20colors%3A%20%5B%27%23da251d%27%2C%20%27%23ff0%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Poland%22%2C%20score%3A%20312%2C%20type%3A%20%27bicolor_h%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%23dc143c%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Italy%22%2C%20score%3A%20301%2C%20type%3A%20%27stripes_v%27%2C%20colors%3A%20%5B%27%23009246%27%2C%20%27%23fff%27%2C%20%27%23ce2b37%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22UK%22%2C%20score%3A%20242%2C%20type%3A%20%27uk%27%2C%20colors%3A%20%5B%27%23012169%27%2C%20%27%23fff%27%2C%20%27%23c8102e%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Belarus%22%2C%20score%3A%20207%2C%20type%3A%20%27belarus%27%2C%20colors%3A%20%5B%27%23d22730%27%2C%20%27%23009739%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Greece%22%2C%20score%3A%20131%2C%20type%3A%20%27greece%27%2C%20colors%3A%20%5B%27%230d5eaf%27%2C%20%27%23fff%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22Iceland%22%2C%20score%3A%20103%2C%20type%3A%20%27nordic%27%2C%20colors%3A%20%5B%27%2302529c%27%2C%20%27%23dc1e35%27%5D%20%7D%2C%0A%20%20%20%20%7B%20name%3A%20%22South%20Korea%22%2C%20score%3A%20100%2C%20type%3A%20%27skorea%27%2C%20colors%3A%20%5B%27%23fff%27%2C%20%27%23cd2e3a%27%2C%20%27%230047a0%27%2C%20%27%23000%27%5D%20%7D%0A%5D%3B%0A%0Aconst%20ABILITY_UPGRADES%20%3D%20%7B%0A%20%20%20%20snowball%3A%20%7B%20name%3A%20%27%u0421%u043D%u0435%u0436%u043E%u043A%27%2C%20desc%3A%20%27%u0423%u0440%u043E%u043D%20+1%25%2C%20%u0420%u0430%u0437%u043C%u0435%u0440%20+7.5%25%27%20%7D%2C%0A%20%20%20%20wave%3A%20%7B%20name%3A%20%27%u0412%u043E%u043B%u043D%u0430%27%2C%20desc%3A%20%27%u0420%u0430%u0437%u043C%u0435%u0440%20+7.5%25%2C%20%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20+5%25%27%20%7D%2C%0A%20%20%20%20moon%3A%20%7B%20name%3A%20%27%u0421%u043F%u0443%u0442%u043D%u0438%u043A%27%2C%20desc%3A%20%27%u0423%u0440%u043E%u043D%20+1%25%27%20%7D%0A%7D%3B%0A%0Aconst%20UPGRADES_DATA%20%3D%20%7B%20speed%3A%20%7B%20icon%3A%20%27%u26A1%27%20%7D%2C%20magnet%3A%20%7B%20icon%3A%20%27%uD83E%uDDF2%27%20%7D%2C%20grow%3A%20%7B%20icon%3A%20%27%uD83D%uDCAA%27%20%7D%2C%20bonus%3A%20%7B%20icon%3A%20%27%u2B50%27%20%7D%20%7D%3B%0Aconst%20BOT_NAMES%20%3D%20%5B%22Star%22%2C%20%22Pro_Gamer%22%2C%20%22NoobSlayer%22%2C%20%22CosmoCat%22%2C%20%22Void%22%2C%20%22Nebula%22%2C%20%22Quasar%22%2C%20%22BlackHole%22%2C%20%22Comet%22%2C%20%22Orbit%22%2C%20%22NASA%22%2C%20%22SpaceX%22%2C%20%22Alien%22%2C%20%22Galaxy%22%2C%20%22Solaris%22%2C%20%22Astro%22%2C%20%22Nova%22%2C%20%22Phoenix%22%2C%20%22Vortex%22%2C%20%22Quantum%22%2C%20%22Horizon%22%2C%20%22Titan%22%2C%20%22Daymix%22%2C%20%22Sherlock%20Holmes%22%2C%20%22Sherlock%22%2C%20%22Holmes%22%2C%20%22Pseudo%20Boss%22%2C%20%22Ai%22%2C%20%22Gemini%22%2C%20%22Pulsar%22%2C%20%22Magnetar%22%2C%20%22EventHorizon%22%2C%20%22Singularity%22%2C%20%22Photon%22%2C%20%22Graviton%22%2C%20%22DarkMatter%22%2C%20%22Antimatter%22%2C%20%22Neutron%22%2C%20%22Electron%22%2C%20%22Proton%22%2C%20%22Ion%22%2C%20%22Plasma%22%5D%3B%0Aconst%20STARS_TYPES%20%3D%20%5B%0A%20%20%20%20%7B%20color%3A%20%27%23FF0000%27%2C%20score%3A%201%2C%20chance%3A%200.34%2C%20scale%3A%200.5%20%7D%2C%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%7B%20color%3A%20%27%23FFA500%27%2C%20score%3A%202%2C%20chance%3A%200.25%2C%20scale%3A%200.6%20%7D%2C%20%20%20%20%20%0A%20%20%20%20%7B%20color%3A%20%27%23FFFF00%27%2C%20score%3A%203%2C%20chance%3A%200.15%2C%20scale%3A%200.75%20%7D%2C%20%20%20%20%20%0A%20%20%20%20%7B%20color%3A%20%27%23FFFFE0%27%2C%20score%3A%204%2C%20chance%3A%200.10%2C%20scale%3A%201.0%2C%20glow%3A%20true%20%7D%2C%20%0A%20%20%20%20%7B%20color%3A%20%27%23FFFFFF%27%2C%20score%3A%205%2C%20chance%3A%200.07%2C%20scale%3A%201.2%2C%20glow%3A%20true%20%7D%2C%20%0A%20%20%20%20%7B%20color%3A%20%27%23E0FFFF%27%2C%20score%3A%207%2C%20chance%3A%200.05%2C%20scale%3A%201.5%2C%20glow%3A%20true%20%7D%2C%20%0A%20%20%20%20%7B%20color%3A%20%27%2300BFFF%27%2C%20score%3A%2010%2C%20chance%3A%200.025%2C%20scale%3A%201.9%2C%20glow%3A%20true%20%7D%2C%20%0A%20%20%20%20%7B%20color%3A%20%27%230000FF%27%2C%20score%3A%2015%2C%20chance%3A%200.004%2C%20scale%3A%202.3%2C%20glow%3A%20true%20%7D%2C%20%0A%20%20%20%20%7B%20color%3A%20%27%238A2BE2%27%2C%20score%3A%2020%2C%20chance%3A%200.01%2C%20scale%3A%203.0%2C%20glow%3A%20true%20%7D%20//%20Purple%201%25%0A%5D%3B%0A%0Aconst%20Top5Colors%20%3D%20%5B%27%23FFFF00%27%2C%20%27%23C0C0C0%27%2C%20%27%23B87333%27%2C%20%27%2350C878%27%2C%20%27%2340E0D0%27%5D%3B%0Aconst%20PastelColors%20%3D%20%5B%27%23FFB3BA%27%2C%20%27%23FFDFBA%27%2C%20%27%23FFFFBA%27%2C%20%27%23BAFFC9%27%2C%20%27%23BAE1FF%27%2C%20%27%23E6E6FA%27%2C%20%27%23F0E68C%27%5D%3B%0A%0Afunction%20hexToRgb%28hex%29%20%7B%20let%20result%20%3D%20/%5E%23%3F%28%5Ba-f%5Cd%5D%7B2%7D%29%28%5Ba-f%5Cd%5D%7B2%7D%29%28%5Ba-f%5Cd%5D%7B2%7D%29%24/i.exec%28hex%29%3B%20return%20result%20%3F%20%7B%20r%3A%20parseInt%28result%5B1%5D%2C%2016%29%2C%20g%3A%20parseInt%28result%5B2%5D%2C%2016%29%2C%20b%3A%20parseInt%28result%5B3%5D%2C%2016%29%20%7D%20%3A%20%7Br%3A0%2Cg%3A0%2Cb%3A0%7D%3B%20%7D%0Afunction%20rgbToHex%28r%2C%20g%2C%20b%29%20%7B%20r%20%3D%20Math.max%280%2C%20Math.min%28255%2C%20Math.round%28r%29%29%29%3B%20g%20%3D%20Math.max%280%2C%20Math.min%28255%2C%20Math.round%28g%29%29%29%3B%20b%20%3D%20Math.max%280%2C%20Math.min%28255%2C%20Math.round%28b%29%29%29%3B%20return%20%22%23%22%20+%20%28%281%20%3C%3C%2024%29%20+%20%28r%20%3C%3C%2016%29%20+%20%28g%20%3C%3C%208%29%20+%20b%29.toString%2816%29.slice%281%29%3B%20%7D%0Afunction%20hexToRgbaStr%28hex%2C%20alpha%29%20%7B%20let%20c%20%3D%20hexToRgb%28hex%29%3B%20return%20%60rgba%28%24%7Bc.r%7D%2C%24%7Bc.g%7D%2C%24%7Bc.b%7D%2C%24%7Balpha%7D%29%60%3B%20%7D%0Afunction%20lerpColor%28c1%2C%20c2%2C%20t%29%20%7B%20return%20rgbToHex%28c1.r%20+%20%28c2.r%20-%20c1.r%29%20*%20t%2C%20c1.g%20+%20%28c2.g%20-%20c1.g%29%20*%20t%2C%20c1.b%20+%20%28c2.b%20-%20c1.b%29%20*%20t%29%3B%20%7D%0Afunction%20adjustColor%28hex%2C%20amount%29%20%7B%20let%20usePound%20%3D%20false%3B%20if%20%28hex%5B0%5D%20%3D%3D%3D%20%22%23%22%29%20%7B%20hex%20%3D%20hex.slice%281%29%3B%20usePound%20%3D%20true%3B%20%7D%20let%20num%20%3D%20parseInt%28hex%2C%2016%29%3B%20let%20r%20%3D%20%28num%20%3E%3E%2016%29%20+%20amount%3B%20if%20%28r%20%3E%20255%29%20r%20%3D%20255%3B%20else%20if%20%28r%20%3C%200%29%20r%20%3D%200%3B%20let%20b%20%3D%20%28%28num%20%3E%3E%208%29%20%26%200x00FF%29%20+%20amount%3B%20if%20%28b%20%3E%20255%29%20b%20%3D%20255%3B%20else%20if%20%28b%20%3C%200%29%20b%20%3D%200%3B%20let%20g%20%3D%20%28num%20%26%200x0000FF%29%20+%20amount%3B%20if%20%28g%20%3E%20255%29%20g%20%3D%20255%3B%20else%20if%20%28g%20%3C%200%29%20g%20%3D%200%3B%20return%20%28usePound%20%3F%20%22%23%22%20%3A%20%22%22%29%20+%20%28g%20%7C%20%28b%20%3C%3C%208%29%20%7C%20%28r%20%3C%3C%2016%29%29.toString%2816%29.padStart%286%2C%20%270%27%29%3B%20%7D%0Afunction%20interpolateColor%28color1%2C%20color2%2C%20factor%29%20%7B%20let%20c1%20%3D%20hexToRgb%28color1%29%3B%20let%20c2%20%3D%20hexToRgb%28color2%29%3B%20return%20rgbToHex%28c1.r%20+%20factor%20*%20%28c2.r%20-%20c1.r%29%2C%20c1.g%20+%20factor%20*%20%28c2.g%20-%20c1.g%29%2C%20c1.b%20+%20factor%20*%20%28c2.b%20-%20c1.b%29%29%3B%20%7D%0Afunction%20randomColor%28%29%20%7B%20return%20%27%23%27%20+%20Math.floor%28Math.random%28%29*16777215%29.toString%2816%29.padStart%286%2C%20%270%27%29%3B%20%7D%0Afunction%20noise%28x%2C%20y%2C%20seed%29%20%7B%20let%20s%20%3D%20Math.sin%28x%20*%2012.9898%20+%20y%20*%2078.233%20+%20seed%29%20*%2043758.5453%3B%20return%20s%20-%20Math.floor%28s%29%3B%20%7D%0Afunction%20smoothNoise%28x%2C%20y%2C%20seed%29%20%7B%20let%20xi%20%3D%20Math.floor%28x%29%2C%20yi%20%3D%20Math.floor%28y%29%2C%20xf%20%3D%20x%20-%20xi%2C%20yf%20%3D%20y%20-%20yi%2C%20u%20%3D%20xf%20*%20xf%20*%20%283%20-%202%20*%20xf%29%2C%20v%20%3D%20yf%20*%20yf%20*%20%283%20-%202%20*%20yf%29%2C%20n00%20%3D%20noise%28xi%2C%20yi%2C%20seed%29%2C%20n10%20%3D%20noise%28xi+1%2C%20yi%2C%20seed%29%2C%20n01%20%3D%20noise%28xi%2C%20yi+1%2C%20seed%29%2C%20n11%20%3D%20noise%28xi+1%2C%20yi+1%2C%20seed%29%2C%20x1%20%3D%20n00%20+%20%28n10%20-%20n00%29%20*%20u%2C%20x2%20%3D%20n01%20+%20%28n11%20-%20n01%29%20*%20u%3B%20return%20x1%20+%20%28x2%20-%20x1%29%20*%20v%3B%20%7D%0A%0Aconst%20AssetManager%20%3D%20%7B%0A%20%20%20%20starCanvases%3A%20%7B%7D%2C%0A%20%20%20%20noiseCanvases%3A%20%5B%5D%2C%0A%20%20%20%20rainbowPattern%3A%20null%2C%0A%20%20%20%20moonTexture%3A%20null%2C%0A%20%20%20%20init%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20STARS_TYPES.forEach%28%28t%2C%20i%29%20%3D%3E%20%7B%20this.starCanvases%5Bi%5D%20%3D%20this.createStarTexture%28t%29%3B%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C3%3B%20i++%29%20this.noiseCanvases.push%28this.createNoiseTexture%28100%2C%20i%29%29%3B%0A%20%20%20%20%20%20%20%20this.createRainbowTexture%28%29%3B%0A%20%20%20%20%20%20%20%20this.createMoonTexture%28%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20createRainbowTexture%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20256%3B%20c.height%20%3D%20256%3B%0A%20%20%20%20%20%20%20%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C5000%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%60hsl%28%24%7BMath.random%28%29*360%7D%2C%20100%25%2C%2050%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28Math.random%28%29*256%2C%20Math.random%28%29*256%2C%204%2C%204%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.rainbowPattern%20%3D%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20createMoonTexture%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20s%20%3D%2032%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%3Ds%3B%20c.height%3Ds%3B%0A%20%20%20%20%20%20%20%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Gray%20base%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23888888%22%3B%20%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28s/2%2C%20s/2%2C%20s/2%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Dark%20Gray%20spots%20%28Islands%20style%29%0A%20%20%20%20%20%20%20%20const%20pixelSize%20%3D%204%3B%0A%20%20%20%20%20%20%20%20const%20rSq%20%3D%20%28s/2%29*%28s/2%29%3B%0A%20%20%20%20%20%20%20%20const%20seed%20%3D%20Math.random%28%29*100%3B%0A%20%20%20%20%20%20%20%20const%20hasThird%20%3D%20true%3B%20//%20Always%20try%203rd%20color%20logic%20as%20per%20update%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20s%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20s%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20s/2%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20s/2%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n%20%3D%20smoothNoise%28x/s%20*%204%2C%20y/s%20*%204%2C%20seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20%22%23888888%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%2030%25%20dark%20gray%20islands%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28n%20%3E%200.6%29%20col%20%3D%20%22%23555555%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%2050%25%20chance%20for%203rd%20color%20islands%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.5%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n2%20%3D%20smoothNoise%28x/s%20*%205%20+%2010%2C%20y/s%20*%205%20+%2010%2C%20seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Occupy%205-40%25%20territory%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28n2%20%3E%200.55%20%26%26%20n2%20%3C%200.95%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201/3%20overlap%20logic%20%28simplified%3A%20overlap%20if%20n2%20is%20high%20enough%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.33%20%7C%7C%20n%20%3E%200.7%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20%22%23444444%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28s/2%2C%20s/2%2C%20s/2%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%3D2%3B%20ctx.strokeStyle%3D%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20this.moonTexture%20%3D%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20createStarTexture%28type%29%20%7B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20Math.max%288%2C%2016%20*%20type.scale%29%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%0A%20%20%20%20%20%20%20%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%20const%20cx%20%3D%20size/2%2C%20cy%20%3D%20size/2%2C%20r%20%3D%20size/2%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20type.color%3B%20if%28type.glow%29%20%7B%20ctx.shadowBlur%20%3D%205%3B%20ctx.shadowColor%20%3D%20type.color%3B%20%7D%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%28cx%2C%20cy%20-%20r%29%3B%20ctx.quadraticCurveTo%28cx%2C%20cy%2C%20cx%20+%20r%2C%20cy%29%3B%20ctx.quadraticCurveTo%28cx%2C%20cy%2C%20cx%2C%20cy%20+%20r%29%3B%20ctx.quadraticCurveTo%28cx%2C%20cy%2C%20cx%20-%20r%2C%20cy%29%3B%20ctx.quadraticCurveTo%28cx%2C%20cy%2C%20cx%2C%20cy%20-%20r%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20createNoiseTexture%28size%2C%20seed%29%20%7B%0A%20%20%20%20%20%20%20%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20const%20id%20%3D%20ctx.createImageData%28size%2C%20size%29%3B%0A%20%20%20%20%20%20%20%20for%20%28let%20i%3D0%3B%20i%3Cid.data.length%3B%20i+%3D4%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.5%29%20%7B%20id.data%5Bi%5D%20%3D%20255%3B%20id.data%5Bi+1%5D%20%3D%20255%3B%20id.data%5Bi+2%5D%20%3D%20255%3B%20id.data%5Bi+3%5D%20%3D%20150%3B%20%7D%20else%20%7B%20id.data%5Bi+3%5D%20%3D%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20ctx.putImageData%28id%2C%200%2C%200%29%3B%20return%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20getPlanetTexture%28conf%2C%20radius%2C%20seed%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21Number.isFinite%28radius%29%20%7C%7C%20radius%20%3C%201%29%20radius%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20Math.ceil%28radius%20*%202%29%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%20const%20cx%20%3D%20size/2%2C%20cy%20%3D%20size/2%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28conf.type%20%3D%3D%3D%20%27florant%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pixelSize%20%3D%20Math.max%282%2C%20Math.floor%28radius%20/%2015%29%29%3B%20const%20rSq%20%3D%20radius%20*%20radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n%20%3D%20smoothNoise%28x/size%20*%204%2C%20y/size%20*%204%2C%20seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20%22%23228B22%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28n%20%3E%200.6%29%20col%20%3D%20%22%2332CD32%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28n%20%3C%200.3%29%20col%20%3D%20%22%23006400%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.05%29%20col%20%3D%20Math.random%28%29%20%3C%200.5%20%3F%20%22%23FF69B4%22%20%3A%20%22%23FFD700%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28conf.type%20%3D%3D%3D%20%27probe%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pixelSize%20%3D%20Math.max%282%2C%20Math.floor%28radius%20/%2015%29%29%3B%20const%20rSq%20%3D%20radius%20*%20radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.sqrt%28dx*dx%20+%20dy*dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28d%20%3E%20radius%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20%22%23D2B48C%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3E%20radius%20*%200.6%20%26%26%20d%20%3C%20radius%20*%200.75%29%20col%20%3D%20%22%2300BFFF%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3C%20radius%20*%200.15%29%20col%20%3D%20%22%2300BFFF%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20noiseVal%20%3D%20Math.floor%28Math.random%28%29%20*%2020%29%20-%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%20ctx.fillStyle%20%3D%20adjustColor%28col%2C%20noiseVal%29%3B%20%7D%20catch%28e%29%20%7B%20ctx.fillStyle%20%3D%20col%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28conf.countryType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20colors%20%3D%20conf.colors%20%7C%7C%20%5B%27%23fff%27%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.clip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28conf.countryType%20%3D%3D%3D%20%27stripes_h%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20h%20%3D%20size%20/%20colors.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20colors.forEach%28%28col%2C%20i%29%20%3D%3E%20%7B%20ctx.fillStyle%20%3D%20col%3B%20ctx.fillRect%280%2C%20i*h%2C%20size%2C%20h%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27stripes_v%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20w%20%3D%20size%20/%20colors.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20colors.forEach%28%28col%2C%20i%29%20%3D%3E%20%7B%20ctx.fillStyle%20%3D%20col%3B%20ctx.fillRect%28i*w%2C%200%2C%20w%2C%20size%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27bicolor_h%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize%2Csize/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B1%5D%3B%20ctx.fillRect%280%2Csize/2%2Csize%2Csize/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27bicolor_v%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize/2%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B1%5D%3B%20ctx.fillRect%28size/2%2C0%2Csize/2%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27canada%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize/4%2Csize%29%3B%20ctx.fillRect%28size*0.75%2C0%2Csize/4%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B1%5D%3B%20ctx.fillRect%28size/4%2C0%2Csize/2%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B2%5D%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius*0.3%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27china%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B1%5D%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%20-%20radius*0.4%2C%20cy%20-%20radius*0.4%2C%20radius*0.15%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27usa%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C13%3B%20i++%29%20%7B%20ctx.fillStyle%20%3D%20%28i%252%3D%3D%3D0%29%3Fcolors%5B1%5D%3Acolors%5B0%5D%3B%20ctx.fillRect%280%2C%20i*%28size/13%29%2C%20size%2C%20size/13%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B2%5D%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius*0.4%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27brazil%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B1%5D%3B%20ctx.beginPath%28%29%3B%20ctx.moveTo%28cx%2C%200%29%3B%20ctx.lineTo%28size%2C%20cy%29%3B%20ctx.lineTo%28cx%2C%20size%29%3B%20ctx.lineTo%280%2C%20cy%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B2%5D%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius*0.35%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27spanish_empire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23fff%27%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%27%23f00%27%3B%20ctx.lineWidth%20%3D%20radius*0.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%28radius*0.4%2C%20radius*0.4%29%3B%20ctx.lineTo%28size-radius*0.4%2C%20size-radius*0.4%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%28size-radius*0.4%2C%20radius*0.4%29%3B%20ctx.lineTo%28radius*0.4%2C%20size-radius*0.4%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27ussr%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23f00%27%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23ff0%27%3B%20ctx.font%20%3D%20%60bold%20%24%7Bradius%7Dpx%20serif%60%3B%20ctx.textAlign%3D%27center%27%3B%20ctx.textBaseline%3D%27middle%27%3B%20ctx.fillText%28%27%u262D%27%2C%20cx%2C%20cy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27russian_empire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20curCols%20%3D%20conf.reState%20%3F%20%5B%27%23fff%27%2C%20%27%2300f%27%2C%20%27%23f00%27%5D%20%3A%20%5B%27%23000%27%2C%20%27%23ff0%27%2C%20%27%23fff%27%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20h%20%3D%20size%20/%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20curCols.forEach%28%28col%2C%20i%29%20%3D%3E%20%7B%20ctx.fillStyle%20%3D%20col%3B%20ctx.fillRect%280%2C%20i*h%2C%20size%2C%20h%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27mongol_empire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%231a237e%27%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23ff0%27%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius*0.5%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28conf.countryType%20%3D%3D%3D%20%27british_empire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%23012169%27%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%27%23fff%27%3B%20ctx.lineWidth%20%3D%20radius*0.3%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%280%2C0%29%3B%20ctx.lineTo%28size%2Csize%29%3B%20ctx.moveTo%28size%2C0%29%3B%20ctx.lineTo%280%2Csize%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%28cx%2C0%29%3B%20ctx.lineTo%28cx%2Csize%29%3B%20ctx.moveTo%280%2Ccy%29%3B%20ctx.lineTo%28size%2Ccy%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%27%23c8102e%27%3B%20ctx.lineWidth%20%3D%20radius*0.15%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%280%2C0%29%3B%20ctx.lineTo%28size%2Csize%29%3B%20ctx.moveTo%28size%2C0%29%3B%20ctx.lineTo%280%2Csize%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.moveTo%28cx%2C0%29%3B%20ctx.lineTo%28cx%2Csize%29%3B%20ctx.moveTo%280%2Ccy%29%3B%20ctx.lineTo%28size%2Ccy%29%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20colors%5B0%5D%3B%20ctx.fillRect%280%2C0%2Csize%2Csize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20pixelSize%20%3D%20Math.max%282%2C%20Math.floor%28radius%20/%2015%29%29%3B%20const%20rSq%20%3D%20radius%20*%20radius%3B%0A%20%20%20%20%20%20%20%20const%20c1%20%3D%20hexToRgb%28conf.color%29%3B%20const%20c2%20%3D%20hexToRgb%28conf.detail%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23FF0000%22%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n%20%3D%20smoothNoise%28x/size%20*%204%2C%20y/size%20*%204%2C%20seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28n%20%3E%200.5%29%20%7B%20ctx.fillStyle%20%3D%20%22%2300FF00%22%3B%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20stripH%20%3D%20radius%20*%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23FFFFFF%22%3B%20ctx.fillRect%280%2C%20cy%20-%20stripH/6%2C%20size%2C%20stripH/3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%2300FF00%22%3B%20ctx.fillRect%280%2C%20cy%20-%20stripH/2%2C%20size%2C%20stripH/3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23FF0000%22%3B%20ctx.fillRect%280%2C%20cy%20+%20stripH/6%2C%20size%2C%20stripH/3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.globalCompositeOperation%20%3D%20%27destination-in%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.globalCompositeOperation%20%3D%20%27source-over%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20Texture%20generation%20loop%0A%20%20%20%20%20%20%20%20const%20use3rdColor%20%3D%20%28conf.type%20%3D%3D%3D%202%29%20%26%26%20%28Math.random%28%29%20%3C%200.5%29%3B%20//%2050%25%20chance%20for%203rd%20color%20islands%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20conf.color%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28conf.type%20%3D%3D%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ny%20%3D%20%28y%20/%20size%29%20*%2010%20+%20seed%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.sin%28ny%29%20%3E%200.2%29%20col%20%3D%20conf.detail%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28Math.sin%28ny%20*%202.5%29%20%3E%200.8%29%20col%20%3D%20lerpColor%28c1%2C%20c2%2C%200.5%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28conf.type%20%3D%3D%3D%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Rocky/Island%20Type%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n%20%3D%20smoothNoise%28x/size%20*%205%2C%20y/size%20*%205%2C%20seed%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28n%20%3E%200.55%29%20col%20%3D%20conf.detail%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28use3rdColor%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20n2%20%3D%20smoothNoise%28x/size%20*%205%20+%2010%2C%20y/size%20*%205%20+%2010%2C%20seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Occupy%205-40%25%20territory%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28n2%20%3E%200.55%20%26%26%20n2%20%3C%200.95%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201/3%20overlap%20chance%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.33%20%7C%7C%20n%20%3E%200.7%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Just%20vary%20the%20color%20slightly%20to%20represent%203rd%20color%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%20col%20%3D%20adjustColor%28conf.detail%2C%20-30%29%3B%20%7D%20catch%28e%29%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28conf.type%20%3D%3D%3D%203%20%7C%7C%20conf.type%20%3D%3D%3D%20%27ton618%27%20%7C%7C%20conf.type%20%3D%3D%3D%20%27phoenix%27%20%7C%7C%20conf.type%20%3D%3D%3D%20%27starKing%27%20%7C%7C%20conf.type%20%3D%3D%3D%20%27florant%27%20%7C%7C%20conf.type%20%3D%3D%3D%20%27hunter%27%29%20%7B%20let%20n%20%3D%20noise%28x/10%2C%20y/10%2C%20seed%29%3B%20let%20f%20%3D%200.8%20+%20n%20*%200.4%3B%20col%20%3D%20rgbToHex%28c1.r*f%2C%20c1.g*f%2C%20c1.b*f%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20noiseVal%20%3D%20Math.floor%28Math.random%28%29%20*%2030%29%20-%2015%3B%20try%20%7B%20ctx.fillStyle%20%3D%20adjustColor%28col%2C%20noiseVal%29%3B%20%7D%20catch%28e%29%20%7B%20ctx.fillStyle%20%3D%20col%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28conf.type%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20stripeColor%20%3D%20%28conf.id%20%3D%3D%3D%20%27jupiter%27%29%20%3F%20%27%23FFFFFF%27%20%3A%20adjustColor%28conf.color%2C%2040%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20secondaryAlpha%20%3D%20%28conf.id%20%3D%3D%3D%20%27jupiter%27%29%20%3F%200.4%20%3A%20%280.5%20+%20Math.random%28%29*0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20thinPixelSize%20%3D%20Math.max%281%2C%20pixelSize/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ny%20%3D%20%28y%20/%20size%29%20*%2020%20+%20seed%20+%202.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.sin%28ny%29%20%3E%200.9%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20thinPixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20thinPixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20thinPixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20hexToRgbaStr%28stripeColor%2C%20secondaryAlpha%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20thinPixelSize%2C%20thinPixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.lineWidth%20%3D%203%3B%20ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.3%29%22%3B%20ctx.stroke%28%29%3B%20return%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20getProjectileTexture%28color%2C%20radius%2C%20seed%2C%20typeStr%29%20%7B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20Math.ceil%28radius%20*%202%29%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%20const%20cx%20%3D%20size/2%2C%20cy%20%3D%20size/2%2C%20rSq%20%3D%20radius%20*%20radius%3B%0A%20%20%20%20%20%20%20%20if%20%28typeStr%20%3D%3D%3D%20%27tts16a%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23FF0000%22%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%20Math.PI%2C%200%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%2300FF00%22%3B%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22%23FFFFFF%22%3B%20ctx.fillRect%280%2C%20cy%20-%20radius*0.1%2C%20size%2C%20radius*0.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.globalCompositeOperation%20%3D%20%27destination-in%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeStr%20%3D%3D%3D%20%27star%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.shadowBlur%20%3D%205%3B%20ctx.shadowColor%20%3D%20color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C5%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.lineTo%28cx%20+%20Math.cos%28%2818+i*72%29/180*Math.PI%29*radius%2C%20cy%20+%20Math.sin%28%2818+i*72%29/180*Math.PI%29*radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.lineTo%28cx%20+%20Math.cos%28%2854+i*72%29/180*Math.PI%29*%28radius/2%29%2C%20cy%20+%20Math.sin%28%2854+i*72%29/180*Math.PI%29*%28radius/2%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.closePath%28%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20pixelSize%20%3D%20Math.max%282%2C%20Math.floor%28radius%20/%206%29%29%3B%20%0A%20%20%20%20%20%20%20%20for%28let%20y%20%3D%200%3B%20y%20%3C%20size%3B%20y%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20x%20%3D%200%3B%20x%20%3C%20size%3B%20x%20+%3D%20pixelSize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20x%20-%20cx%20+%20pixelSize/2%2C%20dy%20%3D%20y%20-%20cy%20+%20pixelSize/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dx*dx%20+%20dy*dy%20%3E%20rSq%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20noiseVal%20%3D%20Math.floor%28Math.random%28%29%20*%2040%29%20-%2020%3B%20try%20%7B%20ctx.fillStyle%20%3D%20adjustColor%28color%2C%20noiseVal%29%3B%20%7D%20catch%28e%29%20%7B%20ctx.fillStyle%20%3D%20color%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%28x%2C%20y%2C%20pixelSize%2C%20pixelSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20getShieldTexture%28radius%29%20%7B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20Math.ceil%28radius%20*%202.3%29%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20const%20cx%3Dsize/2%2C%20cy%3Dsize/2%2C%20rSq%3Dradius*radius%3B%0A%20%20%20%20%20%20%20%20//%20Base%20semi-transparent%20circle%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%22rgba%28255%2C%20255%2C%20255%2C%200.1%29%22%3B%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28cx%2C%20cy%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20getShadingOverlay%28radius%29%20%7B%0A%20%20%20%20%20%20%20%20const%20size%20%3D%20Math.ceil%28radius%20*%202%29%3B%20const%20c%20%3D%20document.createElement%28%27canvas%27%29%3B%20c.width%20%3D%20size%3B%20c.height%20%3D%20size%3B%20const%20ctx%20%3D%20c.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20let%20grd%20%3D%20ctx.createLinearGradient%28size%2C%200%2C%200%2C%20size%29%3B%20grd.addColorStop%280%2C%20%22rgba%28255%2C255%2C255%2C0.2%29%22%29%3B%20grd.addColorStop%280.4%2C%20%22rgba%280%2C0%2C0%2C0%29%22%29%3B%20grd.addColorStop%281%2C%20%22rgba%280%2C0%2C0%2C0.6%29%22%29%3B%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28size/2%2C%20size/2%2C%20radius%2C%200%2C%20Math.PI*2%29%3B%20ctx.fillStyle%20%3D%20grd%3B%20ctx.fill%28%29%3B%20return%20c%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0Aclass%20FloatingText%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20text%2C%20color%2C%20size%20%3D%2024%29%20%7B%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.text%20%3D%20text%3B%20this.color%20%3D%20color%3B%20this.life%20%3D%201.0%3B%20this.vy%20%3D%20-50%3B%20this.size%20%3D%20size%3B%20%7D%0A%20%20%20%20update%28dt%29%20%7B%20this.x%20+%3D%20this.vy%20*%20dt%20*%200.2%3B%20this.y%20+%3D%20this.vy%20*%20dt%3B%20this.life%20-%3D%20dt%3B%20%7D%0A%7D%0A%0Aclass%20Explosion%20%7B%0A%20%20%20%20constructor%28x%2C%20y%2C%20color%29%20%7B%0A%20%20%20%20%20%20%20%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.color%20%3D%20color%3B%0A%20%20%20%20%20%20%20%20this.life%20%3D%200.5%3B%20this.particles%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C15%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20a%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20s%20%3D%20100%20+%20Math.random%28%29%20*%20200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.particles.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vx%3A%20Math.cos%28a%29*s%2C%20vy%3A%20Math.sin%28a%29*s%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3A%204%20+%20Math.random%28%29*6%2C%20life%3A%201.0%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20update%28dt%29%20%7B%0A%20%20%20%20%20%20%20%20this.life%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20this.particles.forEach%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p.x%20%3D%20%28p.x%20%7C%7C%200%29%20+%20p.vx%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p.y%20%3D%20%28p.y%20%7C%7C%200%29%20+%20p.vy%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p.r%20*%3D%200.95%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20p.vx%20*%3D%200.95%3B%20p.vy%20*%3D%200.95%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20draw%28ctx%29%20%7B%0A%20%20%20%20%20%20%20%20ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20ctx.translate%28this.x%2C%20this.y%29%3B%0A%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20this.color%3B%0A%20%20%20%20%20%20%20%20this.particles.forEach%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.globalAlpha%20%3D%20p.r/10%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28p.x%2C%20p.y%2C%20p.r%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Game%20%7B%0A%20%20%20%20constructor%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.canvas%20%3D%20document.getElementById%28%27gameCanvas%27%29%3B%20this.ctx%20%3D%20this.canvas.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20this.miniCanvas%20%3D%20document.getElementById%28%27minimapCanvas%27%29%3B%20this.miniCtx%20%3D%20this.miniCanvas.getContext%28%272d%27%29%3B%0A%20%20%20%20%20%20%20%20AssetManager.init%28%29%3B%0A%20%20%20%20%20%20%20%20this.active%20%3D%20false%3B%20this.paused%20%3D%20false%3B%20this.isMobile%20%3D%20false%3B%20this.difficulty%20%3D%201%3B%20%0A%20%20%20%20%20%20%20%20this.cam%20%3D%20%7B%20x%3A%200%2C%20y%3A%200%2C%20z%3A%202.25%20%7D%3B%0A%20%20%20%20%20%20%20%20this.entities%20%3D%20%5B%5D%3B%20this.stars%20%3D%20%5B%5D%3B%20this.items%20%3D%20%5B%5D%3B%20this.snowballs%20%3D%20%5B%5D%3B%20this.floatingTexts%20%3D%20%5B%5D%3B%20this.explosions%20%3D%20%5B%5D%3B%20this.player%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20this.mouse%20%3D%20%7B%20x%3A%200%2C%20y%3A%200%2C%20down%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%20%20this.joystick%20%3D%20%7B%20dx%3A%200%2C%20dy%3A%200%2C%20active%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%20%20this.aimJoy%20%3D%20%7B%20dx%3A%200%2C%20dy%3A%200%2C%20active%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%20%20this.isSprinting%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20CONFIG.mapSize%3B%0A%20%20%20%20%20%20%20%20this.lastTime%20%3D%200%3B%20this.starSpawnTimer%20%3D%200%3B%20this.fpsTimer%20%3D%200%3B%20this.bossStage%20%3D%201%3B%20this.bossTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.gameTime%20%3D%200%3B%20this.botRespawnTimer%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20this.gameOverSequence%20%3D%20false%3B%20this.gameOverTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.mod%20%3D%20%7B%20botScore%3A%201%2C%20bossScore%3A%201%2C%20botCount%3A%2040%2C%20mapSize%3A%20true%2C%20immunity%3A%200%2C%20playerScore%3A%201.0%2C%20playerDmg%3A%201.0%2C%20customMapSize%3A%205700%2C%20passiveScorePlayer%3A%200%2C%20passiveScoreBot%3A%200%2C%20vacuumMult%3A%201.0%2C%20ruleImmunity%3A%20false%2C%20weaponDmg%3A%201.0%2C%20starRate%3A%20100%20%7D%3B%0A%20%20%20%20%20%20%20%20this.modeSettings%20%3D%20%7B%20secondChance%3A%20true%2C%20bossRush%3A%20false%2C%20pseudoMulti%3A%20false%2C%20disableEvents%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%20%20this.arenaMode%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20this.arenaEventTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.currentArenaEvent%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20this.zoneDamageMultiplier%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.pseudoMultiTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.nextBossPos%20%3D%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%0A%20%20%20%20%20%20%20%20this.survivalTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.randomIntroTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.zombieSplitTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.waveCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.waveTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.sessionCoins%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.spentSessionCoins%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.lastSessionCoinTime%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.sessionEarnedCoins%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Loadout%20data%0A%20%20%20%20%20%20%20%20this.loadout%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20bulletType%3A%20%27frozen%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20buffedWeapons%3A%20%5B%5D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20this.resize%28%29%3B%20window.addEventListener%28%27resize%27%2C%20%28%29%20%3D%3E%20this.resize%28%29%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27mousemove%27%2C%20e%20%3D%3E%20%7B%20if%28%21this.isMobile%29%20%7B%20this.mouse.x%20%3D%20e.clientX%20-%20window.innerWidth%20/%202%3B%20this.mouse.y%20%3D%20e.clientY%20-%20window.innerHeight%20/%202%3B%20%7D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27mousedown%27%2C%20%28e%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21this.isMobile%20%26%26%20e.button%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.mouse.down%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.player%20%26%26%20%21this.paused%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.player.lightStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.fireLightStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.player.blueStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.fireBlueStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.setSprinting%28true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27mouseup%27%2C%20%28e%29%20%3D%3E%20%7B%20if%28%21this.isMobile%20%26%26%20e.button%20%3D%3D%3D%200%29%20%7B%20this.mouse.down%20%3D%20false%3B%20this.setSprinting%28false%29%3B%20%7D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27contextmenu%27%2C%20e%20%3D%3E%20e.preventDefault%28%29%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27keydown%27%2C%20e%20%3D%3E%20%7B%20if%28e.code%20%3D%3D%3D%20%27Space%27%29%20this.activateItem%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20this.initJoystick%28%27joystick%27%2C%20%27knob%27%2C%20this.joystick%29%3B%0A%20%20%20%20%20%20%20%20this.initJoystick%28%27aimJoystick%27%2C%20%27aimKnob%27%2C%20this.aimJoy%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20this.menuLoop%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20setSprinting%28val%29%20%7B%20this.isSprinting%20%3D%20val%3B%20%7D%0A%20%20%20%20initJoystick%28areaId%2C%20knobId%2C%20joyObj%2C%20isAim%20%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20const%20area%20%3D%20document.getElementById%28areaId%29%2C%20knob%20%3D%20document.getElementById%28knobId%29%3B%0A%20%20%20%20%20%20%20%20const%20handleMove%20%3D%20%28cx%2C%20cy%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rect%20%3D%20area.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20cx%20-%20%28rect.left%20+%20rect.width/2%29%2C%20dy%20%3D%20cy%20-%20%28rect.top%20+%20rect.height/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20Math.hypot%28dx%2C%20dy%29%2C%20max%20%3D%20rect.width/2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3E%20max%29%20%7B%20dx%20*%3D%20max/dist%3B%20dy%20*%3D%20max/dist%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20knob.style.transform%20%3D%20%60translate%28calc%28-50%25%20+%20%24%7Bdx%7Dpx%29%2C%20calc%28-50%25%20+%20%24%7Bdy%7Dpx%29%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20joyObj.dx%20%3D%20dx/max%3B%20joyObj.dy%20%3D%20dy/max%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20reset%20%3D%20%28%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isAim%20%26%26%20joyObj.active%20%26%26%20%28Math.abs%28joyObj.dx%29%20%3E%200.2%20%7C%7C%20Math.abs%28joyObj.dy%29%20%3E%200.2%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.player%29%20this.player.fireSnowball%28joyObj.dx%20*%201000%2C%20joyObj.dy%20*%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20knob.style.transform%20%3D%20%60translate%28-50%25%2C%20-50%25%29%60%3B%20joyObj.dx%3D0%3B%20joyObj.dy%3D0%3B%20joyObj.active%3Dfalse%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isAim%29%20knob.classList.remove%28%27auto-aim%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20area.addEventListener%28%27touchstart%27%2C%20e%20%3D%3E%20%7B%20joyObj.active%3Dtrue%3B%20handleMove%28e.touches%5B0%5D.clientX%2C%20e.touches%5B0%5D.clientY%29%3B%20e.preventDefault%28%29%3B%20%7D%2C%20%7Bpassive%3Afalse%7D%29%3B%0A%20%20%20%20%20%20%20%20area.addEventListener%28%27touchmove%27%2C%20e%20%3D%3E%20%7B%20if%28joyObj.active%29%20handleMove%28e.touches%5B0%5D.clientX%2C%20e.touches%5B0%5D.clientY%29%3B%20e.preventDefault%28%29%3B%20%7D%2C%20%7Bpassive%3Afalse%7D%29%3B%0A%20%20%20%20%20%20%20%20area.addEventListener%28%27touchend%27%2C%20e%20%3D%3E%20%7B%20reset%28%29%3B%20e.preventDefault%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20area.addEventListener%28%27mousedown%27%2C%20e%20%3D%3E%20%7B%20joyObj.active%3Dtrue%3B%20handleMove%28e.clientX%2C%20e.clientY%29%3B%20e.preventDefault%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27mousemove%27%2C%20e%20%3D%3E%20%7B%20if%28joyObj.active%29%20handleMove%28e.clientX%2C%20e.clientY%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27mouseup%27%2C%20e%20%3D%3E%20%7B%20if%28joyObj.active%29%20%7B%20reset%28%29%3B%20%7D%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20resize%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20const%20dpr%20%3D%20window.devicePixelRatio%20%7C%7C%201%3B%0A%20%20%20%20%20%20%20%20this.canvas.width%20%3D%20window.innerWidth%20*%20dpr%3B%20%0A%20%20%20%20%20%20%20%20this.canvas.height%20%3D%20window.innerHeight%20*%20dpr%3B%20%0A%20%20%20%20%20%20%20%20this.canvas.style.width%20%3D%20window.innerWidth%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20this.canvas.style.height%20%3D%20window.innerHeight%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20this.ctx.resetTransform%28%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.scale%28dpr%2C%20dpr%29%3B%0A%20%20%20%20%20%20%20%20this.miniCanvas.width%20%3D%20150%3B%20%0A%20%20%20%20%20%20%20%20this.miniCanvas.height%20%3D%20150%3B%20%0A%20%20%20%20%7D%0A%0A%20%20%20%20start%28isMobile%2C%20difficulty%29%20%7B%0A%20%20%20%20%20%20%20%20this.isMobile%20%3D%20isMobile%3B%0A%20%20%20%20%20%20%20%20this.difficulty%20%3D%20difficulty%3B%0A%20%20%20%20%20%20%20%20this.arenaMode%20%3D%20ui.tempArenaMode%20%7C%7C%20null%3B%20%0A%20%20%20%20%20%20%20%20ui.tempArenaMode%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20this.paused%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.sessionCoins%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.spentSessionCoins%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.lastSessionCoinTime%20%3D%200%3B%0A%20%20%20%20%20%20%20%20this.sessionEarnedCoins%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20ui.loadHudSettings%28%29%3B%20%0A%20%20%20%20%20%20%20%20document.getElementById%28%27modeScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27difficultyScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27mainMenu%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27modifierScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27loadoutScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27ui-layer%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27bossHud%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27gameOverScreen%27%29.className%20%3D%20%27%27%3B%20%0A%20%20%20%20%20%20%20%20document.getElementById%28%27gameOverScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27frozenHud%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27pauseMenu%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27survivalTimer%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27inGameShopScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27pvpTimerDisplay%27%29.style.display%20%3D%20%27block%27%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.isMobile%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.classList.add%28%27mobile-layout%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27mobile-controls%27%29.style.display%20%3D%20%27block%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27pc-inventory%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27invToggle%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27joystick%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelector%28%27.mob-wep-toggle%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27abilityGroup%27%29.classList.add%28%27hidden-mobile%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27aimJoystick%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.classList.remove%28%27mobile-layout%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27mobile-controls%27%29.style.display%20%3D%20%27none%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27invToggle%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27pc-inventory%27%29.style.display%20%3D%20%27none%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27joystick%27%29.style.display%20%3D%20%27none%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelector%28%27.mob-wep-toggle%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27abilityGroup%27%29.classList.remove%28%27hidden-mobile%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27aimJoystick%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Update%20Blue%20Strip%20button%20look%20is%20default%20%28Barrage%29%0A%20%20%20%20%20%20%20%20const%20bBtn%20%3D%20document.getElementById%28%27btnBlueStrip%27%29%3B%0A%20%20%20%20%20%20%20%20bBtn.innerText%20%3D%20%27%uD83D%uDC8E%27%3B%20bBtn.style.borderColor%20%3D%20%27%2300BFFF%27%3B%0A%20%20%20%20%20%20%20%20bBtn.className%20%3D%20%27ab-btn%20interactive%27%3B%20//%20Reset%20special%20classes%0A%0A%20%20%20%20%20%20%20%20this.active%20%3D%20true%3B%20this.gameOverSequence%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20this.entities%20%3D%20%5B%5D%3B%20this.stars%20%3D%20%5B%5D%3B%20this.items%20%3D%20%5B%5D%3B%20this.snowballs%20%3D%20%5B%5D%3B%20this.floatingTexts%20%3D%20%5B%5D%3B%20this.explosions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20this.mod.mapSize%20%3F%20CONFIG.mapSize%20%3A%20this.mod.customMapSize%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27duel%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27mini%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27arena%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20CONFIG.mapSize%20*%201.5%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20CONFIG.mapSize%20/%203%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27survival_random%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20%3D%2015%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%203000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27survivalTimer%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.randomIntroTimer%20%3D%205.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20500%20+%20Math.random%28%29%20*%209500%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.currentMaxBots%20%3D%203%20+%20Math.floor%28Math.random%28%29*97%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.mod.botScore%20%3D%201.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.mod.bossScore%20%3D%200.33%20+%20Math.random%28%29%20*%202.67%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%202000%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20CONFIG.mapSize%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20%3D%20180%3B%20document.getElementById%28%27survivalTimer%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20CONFIG.mapSize%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.waveCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.waveTimer%20%3D%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20%3D%20180%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27survivalTimer%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.bossStage%20%3D%201%3B%20%0A%20%20%20%20%20%20%20%20this.zoneDamageMultiplier%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20this.zoneTimer%20%3D%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%3F%2030%20%3A%2010%3B%20%0A%20%20%20%20%20%20%20%20this.arenaEventTimer%20%3D%2015%20+%20Math.random%28%29*15%3B%0A%20%20%20%20%20%20%20%20this.currentArenaEvent%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27arenaEventDisplay%27%29.style.display%20%3D%20%27none%27%3B%0A%0A%20%20%20%20%20%20%20%20let%20bossTimeBase%20%3D%2030%3B%0A%20%20%20%20%20%20%20%20if%28this.difficulty%3D%3D%3D0%29%20bossTimeBase%20/%3D%203%3B%20%0A%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D1%29%20bossTimeBase%20/%3D%202%3B%0A%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D3%29%20bossTimeBase%20*%3D%201.25%3B%0A%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D4%29%20bossTimeBase%20*%3D%201.75%3B%0A%20%20%20%20%20%20%20%20if%28this.modeSettings.bossRush%29%20bossTimeBase%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27royal%27%29%20this.zoneRadius%20%3D%20CONFIG.mapSize%20*%201.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27mini%27%29%20%7B%20this.currentMaxBots%20%3D%200%3B%20bossTimeBase%20%3D%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27duel%27%29%20%7B%20this.currentMaxBots%20%3D%201%3B%20bossTimeBase%20%3D%2030%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27arena%27%29%20%7B%20this.currentMaxBots%20%3D%209%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27royal%27%29%20%7B%20this.currentMaxBots%20%3D%2099%3B%20bossTimeBase%20%3D%2030%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%7B%20this.currentMaxBots%20%3D%2019%3B%20bossTimeBase%20%3D%2060%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27survival_random%27%29%20%7B%20this.currentMaxBots%20%3D%2040%3B%20bossTimeBase%20%3D%2045%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20%7B%20this.currentMaxBots%20%3D%201%3B%20bossTimeBase%20%3D%20999999%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%20this.currentMaxBots%20%3D%205%3B%20bossTimeBase%20%3D%20999999%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%29%20%7B%20this.currentMaxBots%20%3D%2024%3B%20bossTimeBase%20%3D%20999999%3B%20this.zombieSplitTimer%20%3D%2060%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27all_vs_one%27%29%20%7B%20this.currentMaxBots%20%3D%2040%3B%20bossTimeBase%20%3D%2040%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%20this.currentMaxBots%20%3D%2039%3B%20bossTimeBase%20%3D%2030%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%20this.currentMaxBots%20%3D%209%3B%20bossTimeBase%20%3D%20999999%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.arenaMode%20%21%3D%3D%20%27random_start%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.currentMaxBots%20%3D%20Math.floor%28this.mod.botCount%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.bossTimer%20%3D%20bossTimeBase%3B%0A%20%20%20%20%20%20%20%20this.nextBossPos%20%3D%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%3F%20%7Bx%3A0%2C%20y%3A0%7D%20%3A%20%7Bx%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius%2C%20y%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.activeBoss%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20this.spinCooldown%20%3D%200%3B%20this.starSpawnTimer%20%3D%200%3B%20this.matchSpeedFactor%20%3D%200.95%20+%20Math.random%28%29%20*%200.1%3B%20%0A%20%20%20%20%20%20%20%20this.gameTime%20%3D%200%3B%20this.botRespawnTimer%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20let%20pData%20%3D%20PLANETS.find%28p%20%3D%3E%20p.id%20%3D%3D%3D%20ui.data.planet%29%3B%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20c%20%3D%20COUNTRIES%5BMath.floor%28Math.random%28%29*COUNTRIES.length%29%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pData%20%3D%20%7B%20...pData%2C%20id%3A%20%27custom%27%2C%20name%3A%20c.name%2C%20score%3A%20Math.max%2849%2C%20c.score%29%2C%20countryType%3A%20c.type%2C%20colors%3A%20c.colors%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.player%20%3D%20new%20Entity%280%2C%200%2C%20pData%2C%20true%2C%20ui.data.name%20%7C%7C%20%22Player%22%2C%20ui.data.color%29%3B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20this.player.score%20%3D%20pData.score%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isRed%20%3D%20Math.random%28%29%20%3C%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.team%20%3D%20isRed%20%3F%20%27red%27%20%3A%20%27blue%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.nameColorOverride%20%3D%20isRed%20%3F%20%27%23ff4444%27%20%3A%20%27%234444ff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.x%20%3D%20isRed%20%3F%20-this.zoneRadius/2%20%3A%20this.zoneRadius/2%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.x%20%3D%200%3B%20this.player.y%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20enemy%20%3D%20new%20Entity%28500%2C%20500%2C%20PLANETS%5BMath.floor%28Math.random%28%29*PLANETS.length%29%5D%2C%20false%2C%20%22The%20Wall%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20enemy.score%20%3D%2020000%3B%20enemy.radius%20*%3D%201.5%3B%20enemy.isAgilityBoss%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20enemy.activeEffects.magnet%20%3D%2099999%3B%20enemy.magnetRadiusMult%20%3D%201.2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.push%28enemy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.currentMaxBots%20%3D%201%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isPlayerBig%20%3D%20Math.random%28%29%20%3C%200.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isPlayerBig%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.score%20%3D%202000%3B%20this.player.isBigBoss%20%3D%20true%3B%20ui.notify%28%22%u0412%u042B%20%u0411%u041E%u0421%u0421%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.isSurvivor%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.nameColorOverride%20%3D%20%27%230f0%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.team%20%3D%20%27blue%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.isSurvivor%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.x%20%3D%20200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20core%20%3D%20new%20Entity%280%2C0%2C%20PLANETS.find%28x%3D%3Ex.id%3D%3D%3D%27earth%27%29%2C%20false%2C%20%22CORE%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20core.score%20%3D%2010000%3B%20core.isCentralCore%20%3D%20true%3B%20core.team%20%3D%20%27blue%27%3B%20core.radius%20*%3D%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.push%28core%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.entities.push%28this.player%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%21%3D%3D%20%27agility%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%275vs1%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Cthis.currentMaxBots%3B%20i++%29%20this.spawnBot%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C5%3B%20i++%29%20this.spawnBot%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C9%3B%20i++%29%20this.spawnBot%28%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Star%20Rate%20Modifier%0A%20%20%20%20%20%20%20%20let%20sCount%20%3D%20Math.floor%28CONFIG.maxStars%20*%20%28this.mod.starRate%20/%20100%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%29%20sCount%20%3D%20500%20+%20Math.random%28%29*19500%3B%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%26%26%20this.arenaMode%20%21%3D%3D%20%27royal%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27random_start%27%29%20sCount%20%3D%20Math.floor%28sCount%20/%201.5%29%3B%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20sCount%20%3D%20Math.floor%28sCount%20*%201.2%29%3B%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20sCount%20%3D%20200%3B%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20sCount%20%3D%20500%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CsCount%3B%20i++%29%20this.spawnStarGlobal%28%29%3B%20%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CCONFIG.itemCount%3B%20i++%29%20this.spawnItem%28%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.lastTime%20%3D%20performance.now%28%29%3B%0A%20%20%20%20%20%20%20%20requestAnimationFrame%28t%20%3D%3E%20this.loop%28t%29%29%3B%0A%20%20%20%20%20%20%20%20ui.updateInventoryDisplay%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20useWave%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.useWave%28%29%3B%20%7D%0A%20%20%20%20useMoon%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.spawnMoon%28%29%3B%20%7D%0A%20%20%20%20useGreatImpact%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.useGreatImpact%28%29%3B%20%7D%0A%20%20%20%20useRay%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.useRay%28%29%3B%20%7D%0A%20%20%20%20useGravityManeuver%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.useGravityManeuver%28%29%3B%20%7D%0A%20%20%20%20useShield%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.activateShield%28%29%3B%20%7D%0A%20%20%20%20useIceSword%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.activateIceSword%28%29%3B%20%7D%0A%20%20%20%20useBlueBullet%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.fireBlueBullet%28%29%3B%20%7D%0A%20%20%20%20useVampire%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.fireVampire%28%29%3B%20%7D%0A%20%20%20%20useCleanse%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.cleanse%28%29%3B%20%7D%0A%20%20%20%20toggleLightStrip%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.toggleLightStrip%28%29%3B%20%7D%0A%20%20%20%20toggleBlueStrip%28%29%20%7B%20if%28this.active%20%26%26%20this.player%20%26%26%20%21this.paused%29%20this.player.toggleBlueStrip%28%29%3B%20%7D%0A%20%20%20%20%0A%20%20%20%20spawnBot%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20return%3B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%20%26%26%20this.entities.length%20%3E%206%29%20return%3B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%20%26%26%20this.entities.filter%28e%3D%3Ee.team%3D%3D%3D%27blue%27%29.length%20%3E%3D%2011%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20const%20isAnomaly%20%3D%20%28%21this.arenaMode%20%7C%7C%20%5B%27arena%27%2C%27royal%27%2C%27team%27%5D.includes%28this.arenaMode%29%29%20%26%26%20Math.random%28%29%20%3C%200.05%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20isRocky%20%3D%20Math.random%28%29%20%3C%200.6%3B%0A%20%20%20%20%20%20%20%20let%20type%20%3D%20isRocky%20%3F%20%28Math.random%28%29%3C0.2%3F1%3A%28Math.random%28%29%3C0.7%3F2%3A4%29%29%20%3A%20%28Math.random%28%29%3C0.5%3F1%3A3%29%3B%0A%20%20%20%20%20%20%20%20let%20c1%2C%20c2%2C%20name%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28isAnomaly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ac%20%3D%20%5B%27%23FFA500%27%2C%20%27%23FF69B4%27%2C%20%27%238A2BE2%27%5D%5BMath.floor%28Math.random%28%29*3%29%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c1%20%3D%20ac%3B%20c2%20%3D%20%27%23fff%27%3B%20name%20%3D%20%22%u0410%u043D%u043E%u043C%u0430%u043B%u0438%u044F%22%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20c1%20%3D%20randomColor%28%29%3B%20c2%20%3D%20randomColor%28%29%3B%20name%20%3D%20BOT_NAMES%5BMath.floor%28Math.random%28%29*BOT_NAMES.length%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20conf%20%3D%20%7B%20color%3A%20c1%2C%20detail%3A%20c2%2C%20type%3A%20type%2C%20hasRing%3A%20%28Math.random%28%29%20%3C%200.33%29%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20usedNames%20%3D%20this.entities.map%28e%20%3D%3E%20e.name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20avail%20%3D%20COUNTRIES.filter%28c%20%3D%3E%20%21usedNames.includes%28c.name%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28avail.length%20%3D%3D%3D%200%29%20avail%20%3D%20COUNTRIES%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20c%20%3D%20avail%5BMath.floor%28Math.random%28%29%20*%20avail.length%29%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20conf%20%3D%20%7B%20...conf%2C%20countryType%3A%20c.type%2C%20colors%3A%20c.colors%2C%20id%3A%20%27custom%27%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20c.name%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20e%20%3D%20new%20Entity%28%28Math.random%28%29-0.5%29*this.zoneRadius*1.5%2C%20%28Math.random%28%29-0.5%29*this.zoneRadius*1.5%2C%20conf%2C%20false%2C%20name%29%3B%0A%20%20%20%20%20%20%20%20if%28%21this.arenaMode%29%20e.score%20*%3D%20this.mod.botScore%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cData%20%3D%20COUNTRIES.find%28c%20%3D%3E%20c.name%20%3D%3D%3D%20name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28cData%29%20e.score%20%3D%20Math.max%2849%2C%20cData.score%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28isAnomaly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.isAnomalyBot%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.score%20%3D%20%2850%20+%20Math.random%28%29*100%29%20*%2015%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.nameColorOverride%20%3D%20%27%23EE82EE%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20e.magnetRadiusMult%20%3D%201.5%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isRed%20%3D%20Math.random%28%29%20%3C%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.team%20%3D%20isRed%20%3F%20%27red%27%20%3A%20%27blue%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.nameColorOverride%20%3D%20isRed%20%3F%20%27%23ff4444%27%20%3A%20%27%234444ff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.zoneTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20%3D%20isRed%20%3F%20-%28Math.random%28%29*this.zoneRadius/2%20+%20100%29%20%3A%20%28Math.random%28%29*this.zoneRadius/2%20+%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20existingBig%20%3D%20this.entities.find%28ent%20%3D%3E%20ent.isBigBoss%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.player.isBigBoss%20%26%26%20%21existingBig%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.isBigBoss%20%3D%20true%3B%20e.score%20%3D%202000%3B%20e.name%20%3D%20%22BOSS%22%3B%20e.activeEffects.speed%20%3D%209999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20%3D%200%3B%20e.y%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20big%20%3D%20this.entities.find%28ent%20%3D%3E%20ent.isBigBoss%29%20%7C%7C%20this.player%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20%3D%20big.x%20+%20Math.cos%28ang%29%20*%20%28big.radius%20+%20600%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.y%20%3D%20big.y%20+%20Math.sin%28ang%29%20*%20%28big.radius%20+%20600%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20zombies%20%3D%20this.entities.filter%28z%20%3D%3E%20z.isZombie%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28zombies%20%3C%205%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.makeZombie%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.isSurvivor%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.nameColorOverride%20%3D%20%27%230f0%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.team%20%3D%20%27blue%27%3B%20e.nameColorOverride%20%3D%20%27%2300f%27%3B%20e.isSurvivor%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28Math.hypot%28e.x%2C%20e.y%29%20%3E%20this.zoneRadius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.atan2%28e.y%2C%20e.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20%3D%20Math.cos%28ang%29*this.zoneRadius*0.9%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20e.y%20%3D%20Math.sin%28ang%29*this.zoneRadius*0.9%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20this.entities.push%28e%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20spawnSaveLifeWave%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.waveCount++%3B%0A%20%20%20%20%20%20%20%20ui.notify%28%22%u0412%u041E%u041B%u041D%u0410%20%22%20+%20this.waveCount%20+%20%22%21%22%29%3B%0A%20%20%20%20%20%20%20%20const%20count%20%3D%20Math.floor%285%20*%20Math.pow%281.25%2C%20this.waveCount-1%29%29%3B%0A%20%20%20%20%20%20%20%20const%20hp%20%3D%20300%20*%20Math.pow%281.25%2C%20this.waveCount-1%29%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Ccount%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20angle%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dist%20%3D%20this.zoneRadius%20*%200.9%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20e%20%3D%20new%20Entity%28Math.cos%28angle%29*dist%2C%20Math.sin%28angle%29*dist%2C%20%7Bcolor%3A%27%23111%27%2C%20detail%3A%27%23333%27%2C%20type%3A1%7D%2C%20false%2C%20%22Invader%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.score%20%3D%20hp%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.team%20%3D%20%27red%27%3B%20e.isInvader%20%3D%20true%3B%20e.nameColorOverride%20%3D%20%27%23f00%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.entities.push%28e%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20spawnBoss%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27agility%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27zombie%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20let%20stage%20%3D%20Math.min%28this.bossStage%2C%2013%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cbBosses%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%22Spanish%20Empire%22%2C%20score%3A20000%2C%20type%3A%27spanish_empire%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%22Soviet%20Union%22%2C%20score%3A22300%2C%20type%3A%27ussr%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%22Russian%20Empire%22%2C%20score%3A22800%2C%20type%3A%27russian_empire%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%22Mongol%20Empire%22%2C%20score%3A33000%2C%20type%3A%27mongol_empire%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bname%3A%22British%20Empire%22%2C%20score%3A36000%2C%20type%3A%27british_empire%27%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bossIdx%20%3D%20%28this.bossStage%20-%201%29%20%25%20cbBosses.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bInfo%20%3D%20cbBosses%5BbossIdx%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20boss%20%3D%20new%20Entity%28this.nextBossPos.x%2C%20this.nextBossPos.y%2C%20%7Bid%3A%27custom%27%2C%20countryType%3AbInfo.type%2C%20color%3A%27%23fff%27%2C%20detail%3A%27%23fff%27%2C%20type%3A1%7D%2C%20false%2C%20bInfo.name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20boss.score%20%3D%20bInfo.score%3B%20boss.isBoss%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20boss.bossAtkColor%20%3D%20%27%23f00%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20boss.atmosphereColor%20%3D%20%27rgba%28255%2C0%2C0%2C0.5%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28bInfo.type%20%3D%3D%3D%20%27russian_empire%27%29%20boss.isRussianEmpire%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.entities.push%28boss%29%3B%20this.activeBoss%20%3D%20boss%3B%20ui.notify%28%22%u26A0%uFE0F%20%22%20+%20bInfo.name%20+%20%22%20%u041F%u041E%u042F%u0412%u0418%u041B%u0421%u042F%21%20%u26A0%uFE0F%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20let%20bData%20%3D%20BOSS_DATA%5Bstage%20-%201%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20bossBaseHP%20%3D%20%5B365%2C%20500%2C%20750%2C%201000%2C%201350%2C%201650%2C%201800%2C%2015250%2C%2019500%2C%2025000%2C%2030000%2C%2035000%2C%2040000%5D%3B%0A%20%20%20%20%20%20%20%20let%20baseScore%20%3D%20bossBaseHP%5Bstage-1%5D%20%7C%7C%202500%3B%0A%0A%20%20%20%20%20%20%20%20let%20players%20%3D%20this.entities.filter%28e%20%3D%3E%20%21e.isBoss%29%3B%0A%20%20%20%20%20%20%20%20players.sort%28%28a%2Cb%29%20%3D%3E%20b.score%20-%20a.score%29%3B%0A%20%20%20%20%20%20%20%20let%20top3%20%3D%20players.slice%280%2C%203%29%3B%0A%20%20%20%20%20%20%20%20if%20%28top3.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20avg%20%3D%20top3.reduce%28%28s%2C%20e%29%20%3D%3E%20s%20+%20e.score%2C%200%29%20/%20top3.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28avg%20%3C%20baseScore%20*%200.5%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20baseScore%20%3D%20avg%20*%201.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28baseScore%20%3C%202000%29%20baseScore%20%3D%202000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%200%29%20baseScore%20*%3D%200.33%3B%20%0A%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%201%29%20baseScore%20*%3D%200.5%3B%20%0A%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%203%29%20baseScore%20*%3D%202.0%3B%20%0A%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%204%29%20baseScore%20*%3D%203.0%3B%20%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%29%20baseScore%20*%3D%20this.mod.bossScore%3B%0A%20%20%20%20%20%20%20%20else%20if%28%21this.arenaMode%29%20baseScore%20*%3D%20this.mod.bossScore%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28bData.type%20%3D%3D%3D%20%27hunter%27%20%26%26%20this.player%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20baseScore%20%3D%20Math.max%28baseScore%2C%20this.player.score%20*%201.0%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20boss%20%3D%20new%20Entity%28this.nextBossPos.x%2C%20this.nextBossPos.y%2C%20PLANETS.find%28x%3D%3Ex.id%3D%3D%3D%27sun%27%29%7C%7CPLANETS%5B8%5D%2C%20false%2C%20bData.name%29%3B%0A%20%20%20%20%20%20%20%20boss.score%20%3D%20baseScore%3B%20boss.isBoss%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20boss.atmosphereColor%20%3D%20hexToRgbaStr%28bData.color%2C%200.6%29%3B%20boss.conf%20%3D%20%7B%20...boss.conf%2C%20color%3A%20bData.color%2C%20type%3A%20bData.type%20%3D%3D%3D%20%27ton618%27%20%7C%7C%20bData.type%20%3D%3D%3D%20%27phoenix%27%20%7C%7C%20bData.type%20%3D%3D%3D%20%27starKing%27%20%7C%7C%20bData.type%20%3D%3D%3D%20%27florant%27%20%7C%7C%20bData.type%20%3D%3D%3D%20%27hunter%27%20%3F%20bData.type%20%3A%203%20%7D%3B%20%0A%20%20%20%20%20%20%20%20if%28bData.type%20%3D%3D%3D%20%27probe%27%29%20boss.conf.type%20%3D%20%27probe%27%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20boss.texture%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20boss.bossAtkColor%20%3D%20bData.atkColor%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%206%29%20boss.isSpectral%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%207%29%20boss.isAnomaly%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%208%29%20boss.isTON618%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%209%29%20boss.isPhoenix%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%2010%29%20boss.isProbe%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%2011%29%20boss.isStarKing%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%2012%29%20boss.isFlorant%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20if%28stage%20%3D%3D%3D%2013%29%20boss.isHunter%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28stage%20%3D%3D%3D%205%29%20boss.radius%20*%3D%202%3B%20%0A%0A%20%20%20%20%20%20%20%20boss.waveCD%20%3D%2010%3B%20%0A%20%20%20%20%20%20%20%20boss.bossState%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.entities.push%28boss%29%3B%20this.activeBoss%20%3D%20boss%3B%20ui.notify%28%22%u26A0%uFE0F%20%22%20+%20bData.name%20+%20%22%20%u041F%u041E%u042F%u0412%u0418%u041B%u0421%u042F%21%20%u26A0%uFE0F%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20spawnStarGlobal%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20r%20%3D%20Math.sqrt%28Math.random%28%29%29%20*%20this.zoneRadius%20*%200.95%2C%20th%20%3D%20Math.random%28%29*2*Math.PI%3B%0A%20%20%20%20%20%20%20%20this.createStarAt%28r*Math.cos%28th%29%2C%20r*Math.sin%28th%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20spawnStarsAroundPlanets%28%29%20%7B%0A%20%20%20%20%20%20%20%20let%20sCount%20%3D%20Math.floor%28CONFIG.maxStars%20*%20%28this.mod.starRate/100%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%29%20return%3B%20%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%26%26%20this.arenaMode%20%21%3D%3D%20%27royal%27%29%20sCount%20%3D%20Math.floor%28sCount%20/%201.5%29%3B%0A%20%20%20%20%20%20%20%20if%28this.stars.length%20%3E%3D%20sCount%29%20return%3B%0A%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.alive%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20count%20%3D%205%20+%20Math.floor%28Math.random%28%29%20*%2010%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Ccount%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dist%20%3D%20e.radius%20*%202%20+%20Math.random%28%29%20*%20e.radius%20*%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.createStarAt%28e.x%20+%20Math.cos%28ang%29%20*%20dist%2C%20e.y%20+%20Math.sin%28ang%29%20*%20dist%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20createStarAt%28x%2C%20y%29%20%7B%0A%20%20%20%20%20%20%20%20if%28Math.hypot%28x%2Cy%29%20%3E%20this.zoneRadius%29%20return%3B%0A%20%20%20%20%20%20%20%20let%20ti%3D0%2C%20rnd%3DMath.random%28%29%2C%20acc%3D0%3B%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CSTARS_TYPES.length%3B%20i++%29%20%7B%20acc%20+%3D%20STARS_TYPES%5Bi%5D.chance%3B%20if%28rnd%3C%3Dacc%29%20%7B%20ti%3Di%3B%20break%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20this.stars.push%28%7B%20x%3A%20x%2C%20y%3A%20y%2C%20tIdx%3A%20ti%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20explodeEntity%28e%29%20%7B%0A%20%20%20%20%20%20%20%20let%20count%20%3D%2010%20+%20Math.floor%28Math.random%28%29%20*%2021%29%3B%0A%20%20%20%20%20%20%20%20let%20totalValue%20%3D%20e.score%20*%200.6%3B%0A%20%20%20%20%20%20%20%20let%20valuePerStar%20%3D%20totalValue%20/%20count%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20count%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20r%20%3D%20Math.random%28%29%20*%20e.radius%20*%201.2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sx%20%3D%20e.x%20+%20Math.cos%28ang%29%20*%20r%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sy%20%3D%20e.y%20+%20Math.sin%28ang%29%20*%20r%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20typeIdx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28valuePerStar%20%3E%2015%29%20typeIdx%20%3D%208%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28valuePerStar%20%3E%2010%29%20typeIdx%20%3D%207%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28valuePerStar%20%3E%207%29%20typeIdx%20%3D%206%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28valuePerStar%20%3E%205%29%20typeIdx%20%3D%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28valuePerStar%20%3E%203%29%20typeIdx%20%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28valuePerStar%20%3E%201%29%20typeIdx%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.3%29%20typeIdx%20%3D%20Math.max%280%2C%20Math.min%288%2C%20typeIdx%20+%20%28Math.random%28%29%20%3E%200.5%20%3F%201%20%3A%20-1%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.stars.push%28%7B%20x%3A%20sx%2C%20y%3A%20sy%2C%20tIdx%3A%20typeIdx%2C%20specificValue%3A%20valuePerStar%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.stars.length%20%3E%2035000%29%20this.stars.splice%280%2C%20this.stars.length%20-%2035000%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20spawnDeathStars%28e%29%20%7B%0A%20%20%20%20%20%20%20%20let%20pct%20%3D%200.60%20+%20Math.random%28%29%20*%200.25%3B%20%0A%20%20%20%20%20%20%20%20if%20%28e.isBoss%29%20pct%20%3D%200.85%20+%20Math.random%28%29%20*%200.07%3B%20%0A%20%20%20%20%20%20%20%20if%20%28e.isAnomalyBot%29%20pct%20%3D%200.32%20+%20Math.random%28%29%20*%200.13%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20totalValue%20%3D%20e.score%20*%20pct%3B%0A%20%20%20%20%20%20%20%20let%20count%20%3D%20Math.min%2830%2C%20Math.max%285%2C%20Math.floor%28totalValue%20/%2010%29%29%29%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20valuePerStar%20%3D%20totalValue%20/%20count%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20spawnRad%20%3D%20e.radius%20*%201.1%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20count%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.random%28%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20r%20%3D%20Math.random%28%29%20*%20spawnRad%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sx%20%3D%20e.x%20+%20Math.cos%28ang%29%20*%20r%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20sy%20%3D%20e.y%20+%20Math.sin%28ang%29%20*%20r%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20bestIdx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20k%3DSTARS_TYPES.length-1%3B%20k%3E%3D0%3B%20k--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28STARS_TYPES%5Bk%5D.score%20%3C%3D%20valuePerStar%29%20%7B%20bestIdx%20%3D%20k%3B%20break%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.2%29%20bestIdx%20%3D%20Math.max%280%2C%20Math.min%28STARS_TYPES.length-1%2C%20bestIdx%20+%20%28Math.random%28%29%3E0.5%3F1%3A-1%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.stars.push%28%7B%20x%3A%20sx%2C%20y%3A%20sy%2C%20tIdx%3A%20bestIdx%2C%20specificValue%3A%20valuePerStar%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20spawnItem%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20types%20%3D%20Object.keys%28ITEMS_TYPES%29%3B%0A%20%20%20%20%20%20%20%20this.items.push%28%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius*0.9%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius*0.9%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20types%5BMath.floor%28Math.random%28%29*types.length%29%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20vx%3A%200%2C%20vy%3A%200%20%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20activateItem%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20if%28this.active%20%26%26%20this.player%29%20%7B%0A%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%7D%0A%20%20%20%20handleMobileBtn%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%28%21this.player%20%7C%7C%20this.paused%29%20return%3B%0A%20%20%20%20%20%20%20%20ui.toggleInventory%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20applySpinResult%28type%29%20%7B%20if%28this.player%29%20%7B%20this.player.pickupItem%28type%29%3B%20this.spinCooldown%20%3D%2030%3B%20%7D%20%7D%0A%20%20%20%20%0A%20%20%20%20showFloatingText%28x%2C%20y%2C%20msg%2C%20color%2C%20size%29%20%7B%0A%20%20%20%20%20%20%20%20this.floatingTexts.push%28new%20FloatingText%28x%2C%20y%2C%20msg%2C%20color%2C%20size%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20addSessionCoins%28amount%29%20%7B%0A%20%20%20%20%20%20%20%20this.sessionCoins%20+%3D%20amount%3B%0A%20%20%20%20%20%20%20%20this.sessionEarnedCoins%20+%3D%20amount%3B%0A%20%20%20%20%20%20%20%20this.updateSessionCoinsUI%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20updateSessionCoinsUI%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27coinsVal%27%29%3B%0A%20%20%20%20%20%20%20%20const%20el2%20%3D%20document.getElementById%28%27sessionCoinsDisp%27%29%3B%0A%20%20%20%20%20%20%20%20if%28el%29%20el.innerText%20%3D%20this.sessionCoins%3B%0A%20%20%20%20%20%20%20%20if%28el2%29%20el2.innerText%20%3D%20this.sessionCoins%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20loop%28timestamp%29%20%7B%0A%20%20%20%20%20%20%20%20if%28%21this.active%29%20return%3B%0A%20%20%20%20%20%20%20%20if%20%28this.paused%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.lastTime%20%3D%20timestamp%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame%28t%20%3D%3E%20this.loop%28t%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20const%20delta%20%3D%20timestamp%20-%20this.lastTime%3B%0A%20%20%20%20%20%20%20%20const%20dt%20%3D%20Math.min%28delta%20/%201000%2C%200.1%29%3B%20%0A%20%20%20%20%20%20%20%20this.lastTime%20%3D%20timestamp%3B%0A%20%20%20%20%20%20%20%20this.fpsTimer%20+%3D%20dt%3B%20if%20%28this.fpsTimer%20%3E%3D%200.3%29%20%7B%20ui.updateFPS%28Math.round%281000%20/%20delta%29%29%3B%20this.fpsTimer%20%3D%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.gameTime%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20nextCoinTime%20%3D%20Math.floor%28this.gameTime%20/%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nextCoinTime%20%3E%20this.lastSessionCoinTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.addSessionCoins%285%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.lastSessionCoinTime%20%3D%20nextCoinTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.update%28dt%29%3B%0A%20%20%20%20%20%20%20%20this.draw%28%29%3B%0A%20%20%20%20%20%20%20%20this.drawMinimap%28%29%3B%0A%20%20%20%20%20%20%20%20requestAnimationFrame%28t%20%3D%3E%20this.loop%28t%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20update%28dt%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28this.gameOverSequence%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.gameOverTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.cam.z%20*%3D%200.995%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20goScr%20%3D%20document.getElementById%28%27gameOverScreen%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20goScr.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.gameOverTimer%20%3E%202.0%29%20%7B%20goScr.classList.add%28%27active%27%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.gameOverTimer%20%3E%204.0%20%26%26%20%21this.paused%29%20%7B%20this.gameOver%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20e.update%28this%2C%20dt%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.gameTime%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20if%20%28Math.floor%28this.gameTime%29%20%25%2030%20%3D%3D%3D%200%20%26%26%20Math.floor%28this.gameTime%20-%20dt%29%20%25%2030%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.zoneDamageMultiplier%20*%3D%201.25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.starSpawnTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20if%20%28this.starSpawnTimer%20%3E%3D%2040.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.spawnStarsAroundPlanets%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.starSpawnTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20currentBotCount%20%3D%20this.entities.filter%28e%20%3D%3E%20%21e.isPlayer%20%26%26%20%21e.isBoss%29.length%3B%0A%20%20%20%20%20%20%20%20if%20%28currentBotCount%20%3C%20this.currentMaxBots%20%26%26%20this.arenaMode%20%21%3D%3D%20%27zombie%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.botRespawnTimer%20%3C%3D%200%29%20this.botRespawnTimer%20%3D%202%20+%20Math.random%28%29%20*%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.botRespawnTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.botRespawnTimer%20%3C%3D%200%29%20%7B%20this.spawnBot%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.modeSettings.pseudoMulti%20%26%26%20%21this.arenaMode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.pseudoMultiTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.pseudoMultiTimer%20%3E%203%20+%20Math.random%28%29*12%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.spawnBot%28%29%3B%20this.pseudoMultiTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27survival_random%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20timerDiv%20%3D%20document.getElementById%28%27survivalTimer%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28timerDiv%29%20timerDiv.innerText%20%3D%20%22%u0421%u043C%u0435%u043D%u0430%3A%20%22%20+%20Math.ceil%28this.survivalTimer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.survivalTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.zoneRadius%20%3D%20500%20+%20Math.random%28%29%20*%209500%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0422%u0415%u041B%u0415%u041F%u041E%u0420%u0422%u0410%u0426%u0418%u042F%20%u041A%u0410%u0420%u0422%u042B%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.hypot%28this.player.x%2C%20this.player.y%29%20%3E%20this.zoneRadius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.atan2%28this.player.y%2C%20this.player.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.x%20%3D%20Math.cos%28ang%29%20*%20%28this.zoneRadius%20-%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.player.y%20%3D%20Math.sin%28ang%29%20*%20%28this.zoneRadius%20-%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.stars%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sCount%20%3D%20500%20+%20Math.random%28%29%20*%203000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CsCount%3B%20i++%29%20this.spawnStarGlobal%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21e.isPlayer%20%26%26%20%21e.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.score%20%3D%2050%20+%20Math.random%28%29%20*%202000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20%3D%2010%20+%20Math.random%28%29%20*%2015%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20timerDiv%20%3D%20document.getElementById%28%27survivalTimer%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28timerDiv%29%20timerDiv.innerText%20%3D%20%22%u0412%u044B%u0436%u0438%u0442%u044C%3A%20%22%20+%20Math.ceil%28this.survivalTimer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.survivalTimer%20%3C%3D%200%29%20%7B%20ui.notify%28%22%u0412%u042B%20%u0412%u042B%u0418%u0413%u0420%u0410%u041B%u0418%21%22%29%3B%20this.gameOver%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bigBoss%20%3D%20this.entities.find%28e%20%3D%3E%20e.isBigBoss%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21bigBoss%29%20%7B%20ui.notify%28%22%u0411%u041E%u0421%u0421%20%u041F%u041E%u0412%u0415%u0420%u0416%u0415%u041D%21%22%29%3B%20this.gameOver%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.respawnPending%20%26%26%20e.respawnTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.respawnTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.respawnTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.alive%20%3D%20true%3B%20e.score%20%3D%2050%3B%20e.respawnPending%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20big%20%3D%20this.entities.find%28ent%3D%3Eent.isBigBoss%29%20%7C%7C%20this.player%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.random%28%29*Math.PI*2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20%3D%20big.x%20+%20Math.cos%28ang%29*600%3B%20e.y%20%3D%20big.y%20+%20Math.sin%28ang%29*600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0411%u043E%u0442%20%u0432%u043E%u0437%u0440%u043E%u0434%u0438%u043B%u0441%u044F%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.zombieSplitTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.zombieSplitTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.zombieSplitTimer%20%3D%2060%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20newZombies%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isZombie%20%26%26%20e.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20clone%20%3D%20new%20Entity%28e.x%20+%2010%2C%20e.y%20+%2010%2C%20e.conf%2C%20false%2C%20e.name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clone.makeZombie%28%29%3B%20clone.score%20%3D%20e.score%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newZombies.push%28clone%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newZombies.forEach%28z%20%3D%3E%20this.entities.push%28z%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0417%u041E%u041C%u0411%u0418%20%u0420%u0410%u0417%u041C%u041D%u041E%u0416%u0410%u042E%u0422%u0421%u042F%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.survivalTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timerDiv%20%3D%20document.getElementById%28%27survivalTimer%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%28timerDiv%29%20timerDiv.innerText%20%3D%20%22%u0417%u0430%u0449%u0438%u0442%u0430%3A%20%22%20+%20Math.ceil%28this.survivalTimer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.survivalTimer%20%3C%3D%200%29%20%7B%20ui.notify%28%22%u0417%u0415%u041C%u041B%u042F%20%u0421%u041F%u0410%u0421%u0415%u041D%u0410%21%22%29%3B%20this.gameOver%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.waveTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.waveTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.spawnSaveLifeWave%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.waveTimer%20%3D%2010%20+%20this.waveCount%20*%205%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20core%20%3D%20this.entities.find%28e%20%3D%3E%20e.isCentralCore%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21core%29%20%7B%20ui.notify%28%22%u042F%u0414%u0420%u041E%20%u0423%u041D%u0418%u0427%u0422%u041E%u0416%u0415%u041D%u041E%21%22%29%3B%20this.gameOverSequence%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%20%26%26%20this.randomIntroTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.randomIntroTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.randomIntroTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u041F%u0430%u0440%u0430%u043C%u0435%u0442%u0440%u044B%20%u0441%u043A%u0440%u044B%u0442%u044B%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%26%26%20%21this.modeSettings.disableEvents%20%26%26%20this.arenaMode%20%21%3D%3D%20%275vs1%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27zombie%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.arenaEventTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaEventTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.handleArenaEvents%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.arenaEventTimer%20%3D%2015%20+%20Math.random%28%29*15%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaEventTimer%20%3C%3D%205%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20disp%20%3D%20document.getElementById%28%27arenaEventDisplay%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disp.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disp.innerText%20%3D%20%60%u0414%u043E%20%u043D%u043E%u0432%u043E%u0433%u043E%20%u0441%u043E%u0431%u044B%u0442%u0438%u044F%3A%20%24%7BMath.ceil%28this.arenaEventTimer%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27arenaEventDisplay%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27duel%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.floor%28this.gameTime%29%20%3E%20Math.floor%28this.gameTime-dt%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20add%20%3D%2050%20+%20Math.floor%28this.gameTime%29*5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%20if%28%21e.isBoss%29%20e.addScore%28add%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.zoneTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.zoneTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.x%20%3E%20-50%20%26%26%20e.x%20%3C%2050%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.x%20%3C%200%29%20e.x%20%3D%20-60%3B%20else%20e.x%20%3D%2060%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.vx%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%28%21this.activeBoss%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.bossTimer%20-%3D%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.bossTimer%20%3C%3D%2010%20%26%26%20this.bossTimer%20+%20dt%20%3E%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.nextBossPos%20%3D%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%3F%20%7Bx%3A0%2C%20y%3A0%7D%20%3A%20%7B%20x%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius*0.8%2C%20y%3A%20%28Math.random%28%29-0.5%29*this.zoneRadius*0.8%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.bossTimer%20%3C%3D%200%29%20this.spawnBoss%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%28%21this.activeBoss.alive%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.addSessionCoins%2845%20+%20Math.floor%28Math.random%28%29*30%29%29%3B%20//%2045-75%20coins%20for%20boss%0A%20%20%20%20%20%20%20%20%20%20%20%20this.activeBoss%20%3D%20null%3B%20this.bossStage++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20bossTimeBase%20%3D%2030%20*%20this.bossStage%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.difficulty%3D%3D%3D0%29%20bossTimeBase%20/%3D%203%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D1%29%20bossTimeBase%20/%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D3%29%20bossTimeBase%20*%3D%201.25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%3D%3D%3D4%29%20bossTimeBase%20*%3D%201.75%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.modeSettings.bossRush%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20interval%20%3D%2015%20+%20%28this.bossStage%20-%202%29%20*%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bossTimeBase%20%3D%20interval%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27mini%27%29%20bossTimeBase%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27royal%27%29%20bossTimeBase%20%3D%2030%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20bossTimeBase%20%3D%2060%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27agility%27%29%20bossTimeBase%20%3D%20999999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20bossTimeBase%20%3D%20999999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%29%20bossTimeBase%20%3D%20999999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20bossTimeBase%20%3D%20999999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27all_vs_one%27%29%20bossTimeBase%20%3D%2040%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20bossTimeBase%20%3D%2030%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.bossTimer%20%3D%20%28this.bossStage%20%3E%2013%20%3F%2099999%20%3A%20bossTimeBase%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28this.zoneRadius%20%3E%20500%20%26%26%20this.arenaMode%20%21%3D%3D%20%27survival_random%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27random_start%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%275vs1%27%20%26%26%20this.arenaMode%20%21%3D%3D%20%27team%27%29%20this.zoneRadius%20-%3D%20%28CONFIG.mapSize%20/%20600%29%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.entities.sort%28%28a%2Cb%29%20%3D%3E%20a.radius%20-%20b.radius%29%3B%0A%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%20e.inRing%20%3D%20false%3B%20e.update%28this%2C%20dt%29%3B%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Cthis.entities.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20let%20e%20%3D%20this.entities%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21e.isPlayer%20%26%26%20Math.abs%28e.vx%29%20%3C%200.1%20%26%26%20Math.abs%28e.vy%29%20%3C%200.1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.vx%20%3D%20%28Math.random%28%29-0.5%29%3B%20e.vy%20%3D%20%28Math.random%28%29-0.5%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%28let%20i%20%3D%20this.snowballs.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20s%20%3D%20this.snowballs%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20s.life%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28s.life%20%3C%3D%200%29%20%7B%20this.snowballs.splice%28i%2C%201%29%3B%20continue%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner%20%26%26%20Math.hypot%28s.x%20-%20s.owner.x%2C%20s.y%20-%20s.owner.y%29%20%3E%20this.zoneRadius%20*%201.5%29%20%7B%20this.snowballs.splice%28i%2C%201%29%3B%20continue%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28s.type%20%3D%3D%3D%20%27homing%27%20%7C%7C%20s.type%20%3D%3D%3D%20%27blueBullet%27%20%7C%7C%20s.type%20%3D%3D%3D%20%27vampire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.target%20%26%26%20s.target.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20angle%20%3D%20Math.atan2%28s.target.y%20-%20s.y%2C%20s.target.x%20-%20s.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20curAngle%20%3D%20Math.atan2%28s.vy%2C%20s.vx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20diff%20%3D%20angle%20-%20curAngle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28diff%20%3E%20Math.PI%29%20diff%20-%3D%20Math.PI*2%3B%20while%20%28diff%20%3C%20-Math.PI%29%20diff%20+%3D%20Math.PI*2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20turnRate%20%3D%20%28s.type%20%3D%3D%3D%20%27blueBullet%27%29%20%3F%20%2820*Math.PI/180%29/5%20%3A%20%28s.owner%20%26%26%20%5B%27earth%27%2C%27mars%27%2C%27venus%27%2C%27jupiter%27%5D.includes%28s.owner.conf.id%29%20%3F%20%2810*Math.PI/180%29/5%20%3A%20%285*Math.PI/180%29/5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.type%20%3D%3D%3D%20%27jupiter%27%29%20turnRate%20%3D%20%2815*Math.PI/180%29/5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20curAngle%20+%3D%20Math.sign%28diff%29%20*%20Math.min%28Math.abs%28diff%29%2C%20turnRate%20*%20dt%20*%2020%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20spd%20%3D%20Math.hypot%28s.vx%2C%20s.vy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s.vx%20%3D%20Math.cos%28curAngle%29%20*%20spd%3B%20s.vy%20%3D%20Math.sin%28curAngle%29%20*%20spd%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20s.x%20+%3D%20s.vx%20*%20dt%3B%20s.y%20+%3D%20s.vy%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28s.x%2C%20s.y%29%20%3E%20this.zoneRadius%29%20%7B%20this.snowballs.splice%28i%2C%201%29%3B%20continue%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%20%3D%3D%3D%20s.owner%20%7C%7C%20%21e.alive%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20s.owner%20%26%26%20s.owner.team%20%3D%3D%3D%20e.team%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28s.owner%20%26%26%20s.owner.isPlayer%20%26%26%20e.isCentralCore%29%20%7C%7C%20%28e.isPlayer%20%26%26%20s.owner%20%26%26%20s.owner.isCentralCore%29%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%20%26%26%20s.owner%20%26%26%20s.owner.isSurvivor%20%26%26%20e.isSurvivor%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28e.x%20-%20s.x%2C%20e.y%20-%20s.y%29%20%3C%20e.radius%20+%20s.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20heal%20%3D%20s.damage%20*%200.6%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.addScore%28heal%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.snowballs.splice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.isBigBoss%20%26%26%20e.isBigBoss%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21s.owner.isBigBoss%20%26%26%20%21e.isBigBoss%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner%20%26%26%20s.owner.isTentacle%20%26%26%20e.isFlorant%29%20continue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28e.x%20-%20s.x%2C%20e.y%20-%20s.y%29%20%3C%20e.radius%20+%20s.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hit%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20attackerScore%20%3D%20s.owner%20%3F%20s.owner.score%20%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.shieldHp%20-%3D%20%28attackerScore%20*%200.01%29%20*%20%28dt%20/%200.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.life%20%3E%200.4%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s.vx%20*%3D%20-1%3B%20s.vy%20*%3D%20-1%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s.owner%20%3D%20e%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hit%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.snowballs.splice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%28hit%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27starProjectile%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28s.damage%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28s.isBossShot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20e.score%20*%20%28this.difficulty%3D%3D%3D0%20%3F%200.05%20%3A%200.15%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isPlayer%29%20game.showFloatingText%28e.x%2C%20e.y%20-%20e.radius%2C%20%22-%22%20+%20Math.floor%28dmg%29%2C%20%22red%22%2C%20e.radius%20*%200.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20%28s.owner.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.snowball%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmgPerc%20%3D%200.05%20+%20%28lvl%20*%200.01%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.activeEffects%20%26%26%20s.owner.activeEffects.grow%20%3E%200%29%20dmgPerc%20*%3D%201.2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20e.score%20*%20dmgPerc%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.type%20%3D%3D%3D%20%27strip%27%29%20%7B%20dmg%20%3D%20s.damage%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.isPlayer%29%20dmg%20*%3D%20game.mod.playerDmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.owner.isPlayer%20%7C%7C%20s.owner.isBot%29%20dmg%20*%3D%20game.mod.weaponDmg%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Weapon%20Loadout%20Buff%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27snowball%27%29%20%26%26%20s.type%20%21%3D%3D%20%27strip%27%20%26%26%20s.type%20%21%3D%3D%20%27blueBullet%27%29%20dmg%20*%3D%201.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27ray%27%29%20%26%26%20s.type%20%3D%3D%3D%20%27strip%27%20%26%26%20%21s.isTTS%29%20dmg%20*%3D%201.1%3B%20//%20Strip%20from%20Ray%20ability%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27blueBullet%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20baseDmg%20%3D%20dmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bonus%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner%20%26%26%20s.owner.score%20%3E%202000%29%20%7B%20bonus%20%3D%20Math.min%2850%2C%20%28s.owner.score%20-%202000%29%20/%2060%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmg%20%3D%20baseDmg%20+%20bonus%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27explosive%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20explDmg%20%3D%20e.score%20/%2011%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28explDmg%20%3C%2050%29%20explDmg%20%3D%2050%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28explDmg%20%3E%202750%29%20explDmg%20%3D%202750%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmg%20%3D%20explDmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.explosions.push%28new%20Explosion%28s.x%2C%20s.y%2C%20%27%23FF4500%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27poison%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.applyPoisonEffect%28s.owner%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmg%20%3D%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isBoss%20%26%26%20s.owner.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%200%29%20dmg%20*%3D%202.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%20%3D%3D%3D%201%29%20dmg%20*%3D%201.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%201.%20ANOMALY%20DAMAGE%20BUFF%20%28x10%20relative%20to%20original%20x5%20%3D%20x50%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isAnomalyBot%20%26%26%20s.owner.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmg%20*%3D%2050.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28s.type%20%3D%3D%3D%20%27vampire%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.vampireDot%20%3D%20%7B%20total%3A%20s.damageSnapshot%20%7C%7C%20%28s.damage*10%29%2C%20timer%3A%203.0%2C%20tickAccumulator%3A%200%2C%20owner%3A%20s.owner%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27blueBullet%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20New%20Push%20Logic%3A%20Push%20distance%20equal%20to%20Shooter%20Diameter%20%282x%20Radius%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20We%20apply%20an%20impulse%20velocity.%20V%20%3D%20D%20/%20T.%20Let%27s%20aim%20for%200.5s%20push.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20V%20%3D%20%28OwnerRadius%20*%202%29%20/%200.5%20%3D%20OwnerRadius%20*%204.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner%20%26%26%20s.owner.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pushDist%20%3D%20s.owner.radius%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pushTime%20%3D%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pushVel%20%3D%20pushDist%20/%20pushTime%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%20%3D%20e.x%20-%20s.owner.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dy%20%3D%20e.y%20-%20s.owner.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dist%20%3D%20Math.hypot%28dx%2C%20dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3E%200.1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.vx%20+%3D%20%28dx/dist%29%20*%20pushVel%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.vy%20+%3D%20%28dy/dist%29%20*%20pushVel%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28s.type%20%3D%3D%3D%20%27frozenBullet%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.applyFrozenEffect%28s.color%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28s.type%20%3D%3D%3D%20%27poison%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20handled%20above%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.owner.conf%20%26%26%20%5B%27uranus%27%2C%20%27neptune%27%2C%20%27jupiter%27%5D.includes%28s.owner.conf.id%29%29%20e.applyFrozenEffect%28s.color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.snowballs.splice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%28let%20i%3Dthis.floatingTexts.length-1%3B%20i%3E%3D0%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.floatingTexts%5Bi%5D.update%28dt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.floatingTexts%5Bi%5D.life%20%3C%3D%200%29%20this.floatingTexts.splice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%28let%20i%3Dthis.explosions.length-1%3B%20i%3E%3D0%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.explosions%5Bi%5D.update%28dt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.explosions%5Bi%5D.life%20%3C%3D%200%29%20this.explosions.splice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28e.x%2C%20e.y%29%20%3E%20this.zoneRadius%20+%20200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20%28e.score%20*%200.2%20*%20this.zoneDamageMultiplier%29%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%2C%20true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isPlayer%20%26%26%20Math.random%28%29%20%3C%200.05%29%20ui.notify%28%22%u0423%u0420%u041E%u041D%20%u041E%u0422%20%u0417%u041E%u041D%u042B%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.score%20%3C%2020%29%20e.kill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20if%28this.spinCooldown%20%3E%200%29%20%7B%20this.spinCooldown%20-%3D%20dt%3B%20ui.updateSpinCooldown%28this.spinCooldown%2C%2030%29%3B%20%7D%0A%20%20%20%20%20%20%20%20if%28%21this.player.alive%20%26%26%20%21this.gameOverSequence%29%20this.player.kill%28%29%3B%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.entities%20%3D%20this.entities.filter%28e%20%3D%3E%20e.alive%29%3B%0A%0A%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Cthis.entities.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20a%20%3D%20this.entities%5Bi%5D%3B%20a.isEating%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Collision%20Damage%20Accumulator%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21a.colDmgAccumulator%29%20a.colDmgAccumulator%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20j%3Di+1%3B%20j%3Cthis.entities.length%3B%20j++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20b%20%3D%20this.entities%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dist%20%3D%20Math.hypot%28a.x%20-%20b.x%2C%20a.y%20-%20b.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20a.team%20%3D%3D%3D%20b.team%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%20%26%26%20a.isSurvivor%20%26%26%20b.isSurvivor%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%20%26%26%20a.team%20%3D%3D%3D%20b.team%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28a.isPlayer%20%26%26%20b.isCentralCore%29%20%7C%7C%20%28b.isPlayer%20%26%26%20a.isCentralCore%29%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28a.isTentacle%20%26%26%20b.isFlorant%29%20%7C%7C%20%28b.isTentacle%20%26%26%20a.isFlorant%29%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isTentacle%20%26%26%20b.isTentacle%20%26%26%20a.owner%20%3D%3D%3D%20b.owner%29%20continue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27zombie%27%20%26%26%20a.isZombie%20%21%3D%3D%20b.isZombie%20%26%26%20dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20zombie%20%3D%20a.isZombie%20%3F%20a%20%3A%20b%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20survivor%20%3D%20a.isZombie%20%3F%20b%20%3A%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20survivor.makeZombie%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isBigBoss%20%26%26%20b.isBigBoss%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21a.isBigBoss%20%26%26%20%21b.isBigBoss%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isTentacle%20%26%26%20dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%20b.takeDamage%28b.score%20*%200.2%20*%20dt%29%3B%20continue%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isTentacle%20%26%26%20dist%20%3C%20b.radius%20+%20a.radius%29%20%7B%20a.takeDamage%28a.score%20*%200.2%20*%20dt%29%3B%20continue%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28a.conf.hasRing%20%26%26%20dist%20%3C%20a.radius*2.5%20%26%26%20dist%20%3E%20a.radius%29%20%7B%20let%20dmg%20%3D%20b.score*0.01*dt%3B%20b.takeDamage%28dmg%29%3B%20b.inRing%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28b.conf.hasRing%20%26%26%20dist%20%3C%20b.radius*2.5%20%26%26%20dist%20%3E%20b.radius%29%20%7B%20let%20dmg%20%3D%20a.score*0.01*dt%3B%20a.takeDamage%28dmg%29%3B%20a.inRing%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28a.isAnomalyBot%20%26%26%20dist%20%3C%20a.radius%20*%203%29%20%7B%20if%20%28dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%20b.takeDamage%28b.score%20*%200.1%20*%20dt%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28b.isAnomalyBot%20%26%26%20dist%20%3C%20b.radius%20*%203%29%20%7B%20if%20%28dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%20a.takeDamage%28a.score%20*%200.1%20*%20dt%29%3B%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%28a.isSpectral%20%7C%7C%20a.isAnomaly%20%7C%7C%20a.isTON618%20%7C%7C%20a.isPhoenix%29%20%26%26%20dist%20%3C%20a.radius%20*%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20factor%20%3D%200.04%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isAnomaly%29%20factor%20%3D%200.04%20*%2025%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isTON618%29%20%7B%20factor%20%3D%200.20%3B%20b.slowTimer%20%3D%200.5%20*%200.75%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isPhoenix%29%20%7B%20factor%20%3D%200.30%3B%20b.slowTimer%20%3D%200.5%20*%200.75%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20b.score%20*%20factor%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isTON618%20%26%26%20b.isPlayer%20%26%26%20b.score%20%3C%20a.score%29%20%7B%20b.takeDamage%28b.score%20*%200.5%20*%20dt%29%3B%20%7D%20else%20%7B%20b.takeDamage%28dmg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%28b.isSpectral%20%7C%7C%20b.isAnomaly%20%7C%7C%20b.isTON618%20%7C%7C%20b.isPhoenix%29%20%26%26%20dist%20%3C%20b.radius%20*%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20factor%20%3D%200.04%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isAnomaly%29%20factor%20%3D%200.04%20*%2025%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isTON618%29%20%7B%20factor%20%3D%200.20%3B%20a.slowTimer%20%3D%200.5%20*%200.75%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isPhoenix%29%20%7B%20factor%20%3D%200.30%3B%20a.slowTimer%20%3D%200.5%20*%200.75%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20a.score%20*%20factor%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isTON618%20%26%26%20a.isPlayer%20%26%26%20a.score%20%3C%20b.score%29%20%7B%20a.takeDamage%28a.score%20*%200.5%20*%20dt%29%3B%20%7D%20else%20%7B%20a.takeDamage%28dmg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isProbe%20%26%26%20dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%20b.takeDamage%28b.score%20*%200.15%20*%20dt%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isProbe%20%26%26%20dist%20%3C%20a.radius%20+%20b.radius%29%20%7B%20a.takeDamage%28a.score%20*%200.15%20*%20dt%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isFlorant%20%26%26%20a.florantShields%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.florantShields.forEach%28sh%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sx%20%3D%20a.x%20+%20Math.cos%28sh.angle%29*sh.dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sy%20%3D%20a.y%20+%20Math.sin%28sh.angle%29*sh.dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28b.x-sx%2C%20b.y-sy%29%20%3C%20sh.radius%20+%20b.radius%29%20%7B%20b.takeDamage%28b.score%20*%200.05%20*%20dt%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isFlorant%20%26%26%20b.florantShields%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.florantShields.forEach%28sh%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sx%20%3D%20b.x%20+%20Math.cos%28sh.angle%29*sh.dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sy%20%3D%20b.y%20+%20Math.sin%28sh.angle%29*sh.dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28a.x-sx%2C%20a.y-sy%29%20%3C%20sh.radius%20+%20a.radius%29%20%7B%20a.takeDamage%28a.score%20*%200.05%20*%20dt%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28a.shieldActive%20%26%26%20dist%20%3C%20a.radius*1.15%20+%20b.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pushFactor%20%3D%205.0%20+%20%28%28ui.data.upgrades%3F.shield%20%7C%7C%200%29%20*%200.1%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.buffedWeapons.includes%28%27shield%27%29%20%26%26%20a.isPlayer%29%20pushFactor%20*%3D%201.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nx%20%3D%20%28b.x-a.x%29/dist%2C%20ny%20%3D%20%28b.y-a.y%29/dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.vx%20+%3D%20nx%20*%20pushFactor%20*%2010%3B%20b.vy%20+%3D%20ny%20*%20pushFactor%20*%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.x%20+%3D%20nx%20*%205%3B%20b.y%20+%3D%20ny%20*%205%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.takeDamage%28b.score*0.01*dt%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20%28b.score%20*%200.1%20*%20dt%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.shieldHp%20-%3D%20dmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28b.shieldActive%20%26%26%20dist%20%3C%20b.radius*1.15%20+%20a.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pushFactor%20%3D%205.0%20+%20%28%28ui.data.upgrades%3F.shield%20%7C%7C%200%29%20*%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.buffedWeapons.includes%28%27shield%27%29%20%26%26%20b.isPlayer%29%20pushFactor%20*%3D%201.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nx%20%3D%20%28a.x-b.x%29/dist%2C%20ny%20%3D%20%28a.y-b.y%29/dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.vx%20+%3D%20nx%20*%20pushFactor%20*%2010%3B%20a.vy%20+%3D%20ny%20*%20pushFactor%20*%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.x%20+%3D%20nx%20*%205%3B%20a.y%20+%3D%20ny%20*%205%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.takeDamage%28a.score*0.01*dt%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20%28a.score%20*%200.1%20*%20dt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.shieldHp%20-%3D%20dmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dist%20%3C%20a.radius%20+%20b.radius%20%26%26%20%21a.isProbe%20%26%26%20%21b.isProbe%20%26%26%20%21a.isStarKing%20%26%26%20%21b.isStarKing%20%26%26%20%21a.isFlorant%20%26%26%20%21b.isFlorant%20%26%26%20%21a.isHunter%20%26%26%20%21a.isTentacle%20%26%26%20%21b.isTentacle%20%26%26%20%21a.shieldActive%20%26%26%20%21b.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21a.colDmgTimer%29%20a.colDmgTimer%20%3D%200%3B%20a.colDmgTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21b.colDmgTimer%29%20b.colDmgTimer%20%3D%200%3B%20b.colDmgTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20collisionDmgRate%20%3D%200.025%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmgToB%20%3D%20a.score%20*%20collisionDmgRate%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmgToA%20%3D%20b.score%20*%20collisionDmgRate%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a.isPlayer%20%26%26%20game.mod.ruleImmunity%29%20dmgToA%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28b.isPlayer%20%26%26%20game.mod.ruleImmunity%29%20dmgToB%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.takeDamage%28dmgToA%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.takeDamage%28dmgToB%2C%20true%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.gameTime%20%3C%2010.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nx%20%3D%20%28a.x%20-%20b.x%29/dist%2C%20ny%20%3D%20%28a.y%20-%20b.y%29/dist%2C%20pen%20%3D%20%28a.radius+b.radius%29-dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.x%20+%3D%20nx*pen*0.5%3B%20a.y%20+%3D%20ny*pen*0.5%3B%20b.x%20-%3D%20nx*pen*0.5%3B%20b.y%20-%3D%20ny*pen*0.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.abs%28a.score%20-%20b.score%29%20%3C%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nx%20%3D%20%28a.x%20-%20b.x%29/dist%2C%20ny%20%3D%20%28a.y%20-%20b.y%29/dist%2C%20pen%20%3D%20%28a.radius+b.radius%29-dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.x%20+%3D%20nx*pen*0.5%3B%20a.y%20+%3D%20ny*pen*0.5%3B%20b.x%20-%3D%20nx*pen*0.5%3B%20b.y%20-%3D%20ny*pen*0.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20predator%20%3D%20a.mass%20%3E%20b.mass%20%3F%20a%20%3A%20b%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20prey%20%3D%20a.mass%20%3E%20b.mass%20%3F%20b%20%3A%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28predator.isTON618%20%7C%7C%20predator.isAnomalyBot%29%20%26%26%20prey.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nx%20%3D%20%28a.x%20-%20b.x%29/dist%2C%20ny%20%3D%20%28a.y%20-%20b.y%29/dist%2C%20pen%20%3D%20%28a.radius+b.radius%29-dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prey.x%20-%3D%20nx*pen*0.1%3B%20prey.y%20-%3D%20ny*pen*0.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.mod.immunity%20%3E%3D%20100%20%26%26%20prey.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predator.isEating%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20eatRate%20%3D%20%28dist%20%3C%20predator.radius%29%20%3F%204%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20timeToEat%20%3D%20%28prey.conf.type%20%3D%3D%3D%202%20%7C%7C%20prey.conf.type%20%3D%3D%3D%204%29%20%3F%201.25%20%3A%20%28prey.conf.id%20%3D%3D%3D%20%27sun%27%20%3F%202.0%20%3A%201.75%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predator.eatingProgress%20+%3D%20dt%20*%20eatRate%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prey.showBar%20%3D%20true%3B%20prey.barValue%20%3D%20predator.eatingProgress%20/%20timeToEat%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28predator.eatingProgress%20%3E%3D%20timeToEat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prey.kill%28%29%3B%20predator.eatingProgress%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.explodeEntity%28prey%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.spawnDeathStars%28prey%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28predator.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0423%u0411%u0418%u0422%20%22%20+%20prey.name%20+%20%22%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.addSessionCoins%2820%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20let%20starMod%20%3D%201%3B%0A%20%20%20%20%20%20%20%20if%20%28this.player%20%26%26%20this.player.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.difficulty%20%3D%3D%3D%200%29%20starMod%20%3D%202.5%3B%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%20%3D%3D%3D%201%29%20starMod%20%3D%201.75%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.difficulty%20%3D%3D%3D%204%29%20starMod%20%3D%200.85%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27mini%27%29%20starMod%20*%3D%202.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20starMod%20*%3D%20game.mod.playerScore%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%28let%20i%3Dthis.stars.length-1%3B%20i%3E%3D0%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20s%20%3D%20this.stars%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20eaten%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isProbe%20%7C%7C%20e.isStarKing%20%7C%7C%20e.isFlorant%20%7C%7C%20e.isHunter%20%7C%7C%20e.isTentacle%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isCentralCore%29%20continue%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.abs%28e.x%20-%20s.x%29%20%3E%20e.radius%20+%20200%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28e.x%20-%20s.x%2C%20e.y%20-%20s.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pullRad%20%3D%20%28e.radius%20*%203%20*%200.8%29%20*%20%28e.activeEffects%20%26%26%20e.activeEffects.magnet%20%3E%200%20%3F%202.0%20%3A%201.0%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pullRad%20*%3D%20game.mod.vacuumMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isAnomalyBot%29%20pullRad%20%3D%20e.radius%20*%201.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSgrA%29%20pullRad%20*%3D%201.68%3B%20//%20+68%25%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.magnetRadiusMult%29%20pullRad%20*%3D%20e.magnetRadiusMult%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27mini%27%20%7C%7C%20game.arenaMode%20%3D%3D%3D%20%27duel%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isPlayer%20%26%26%20game.mod.ruleImmunity%29%20%7B%7D%20else%20pullRad%20%3D%20e.radius%20*%201.1%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%28e.isBoss%20%26%26%20e.isAnomaly%29%20pullRad%20*%3D%204%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28e.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27mini%27%20%7C%7C%20game.arenaMode%20%3D%3D%3D%20%27duel%27%29%20pullRad%20%3D%20e.radius%20*%201.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20pullRad%20*%3D%202%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28d%20%3C%20pullRad%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pullSpeed%20%3D%200.15%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSgrA%29%20pullSpeed%20%3D%200.20%3B%20//%20Slower%20stars%20but%20longer%20reach%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.isPlayer%20%26%26%20%21e.isBoss%29%20pullSpeed%20/%3D%201.5%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s.x%20+%3D%20%28e.x%20-%20s.x%29%20*%20pullSpeed%3B%20s.y%20+%3D%20%28e.y%20-%20s.y%29%20*%20pullSpeed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28d%20%3C%20e.radius%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20typeVal%20%3D%20s.specificValue%20%3F%20s.specificValue%20%3A%20STARS_TYPES%5Bs.tIdx%5D.score%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typeVal%20*%3D%20starMod%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.conf.id%20%3D%3D%3D%20%27earth%27%20%26%26%20Math.random%28%29%3C0.15%29%20typeVal%20*%3D%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.activeEffects%20%26%26%20e.activeEffects.bonus%20%3E%200%29%20typeVal%20*%3D%201.3%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isAnomalyBot%29%20typeVal%20*%3D%202.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isAgilityBoss%29%20typeVal%20*%3D%200.1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.addScore%28typeVal%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eaten%20%3D%20true%3B%20break%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28eaten%29%20%7B%20this.stars.splice%28i%2C1%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%28let%20i%3Dthis.items.length-1%3B%20i%3E%3D0%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20it%20%3D%20this.items%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20picked%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.alive%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isBoss%20%7C%7C%20e.isTentacle%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28e.x%20-%20it.x%2C%20e.y%20-%20it.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3C%20e.radius%20+%20300%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20it.vx%20%3D%20%28e.x%20-%20it.x%29%20*%200.05%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20it.vy%20%3D%20%28e.y%20-%20it.y%29%20*%200.05%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20it.x%20+%3D%20it.vx%3B%20it.y%20+%3D%20it.vy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3C%20e.radius%20+%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.pickupItem%28it.type%29%29%20%7B%20picked%20%3D%20true%3B%20break%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28picked%29%20this.items.splice%28i%2C1%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this.cam.x%20%3D%20this.player.x%3B%0A%20%20%20%20%20%20%20%20this.cam.y%20%3D%20this.player.y%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20baseZoom%20%3D%202.25%3B%0A%20%20%20%20%20%20%20%20if%28this.isMobile%29%20%7B%20baseZoom%20%3D%200.8%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20safeScoreCam%20%3D%20Math.max%280%2C%20this.player.score%29%3B%0A%20%20%20%20%20%20%20%20let%20tz%20%3D%20baseZoom%20/%20%281%20+%20Math.pow%28safeScoreCam%2C%200.45%29%20*%200.06%29%3B%0A%20%20%20%20%20%20%20%20this.cam.z%20+%3D%20%28tz%20-%20this.cam.z%29%20*%200.1%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.activeBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20arrow%20%3D%20document.getElementById%28%27bossArrow%27%29%3B%20arrow.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dx%20%3D%20this.activeBoss.x%20-%20this.player.x%2C%20dy%20%3D%20this.activeBoss.y%20-%20this.player.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28dy%2C%20dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20Math.hypot%28dx%2C%20dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3E%20%28window.innerHeight%20/%20this.cam.z%29/2%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20edgeDist%20%3D%20Math.min%28window.innerWidth%2C%20window.innerHeight%29%20*%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.left%20%3D%20%28window.innerWidth/2%20+%20Math.cos%28angle%29*edgeDist%29%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.top%20%3D%20%28window.innerHeight/2%20+%20Math.sin%28angle%29*edgeDist%29%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transform%20%3D%20%60translate%28-50%25%2C%20-50%25%29%20rotate%28%24%7Bangle%7Drad%29%60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20arrow.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.bossTimer%20%3C%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20arrow%20%3D%20document.getElementById%28%27bossArrow%27%29%3B%20arrow.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dx%20%3D%20this.nextBossPos.x%20-%20this.player.x%2C%20dy%20%3D%20this.nextBossPos.y%20-%20this.player.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28dy%2C%20dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20Math.hypot%28dx%2C%20dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3E%20%28window.innerHeight%20/%20this.cam.z%29/2%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20edgeDist%20%3D%20Math.min%28window.innerWidth%2C%20window.innerHeight%29%20*%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.left%20%3D%20%28window.innerWidth/2%20+%20Math.cos%28angle%29*edgeDist%29%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.top%20%3D%20%28window.innerHeight/2%20+%20Math.sin%28angle%29*edgeDist%29%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transform%20%3D%20%60translate%28-50%25%2C%20-50%25%29%20rotate%28%24%7Bangle%7Drad%29%60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20arrow.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20document.getElementById%28%27bossArrow%27%29.style.display%20%3D%20%27none%27%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.player%20%26%26%20this.aimJoy.active%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20knob%20%3D%20document.getElementById%28%27aimKnob%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20mag%20%3D%20Math.hypot%28this.aimJoy.dx%2C%20this.aimJoy.dy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mag%20%3E%200.05%20%26%26%20mag%20%3C%200.25%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20knob.classList.add%28%27auto-aim%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.random%28%29%20%3C%200.1%29%20this.player.autoFire%28game%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20knob.classList.remove%28%27auto-aim%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%28%21this.isMobile%20%26%26%20this.active%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20let%20mx%20%3D%20this.mouse.x%20+%20this.cam.x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20let%20my%20%3D%20this.mouse.y%20+%20this.cam.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20this.hoverEntity%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.alive%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28e.x%20-%20mx%2C%20e.y%20-%20my%29%20%3C%20e.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.hoverEntity%20%3D%20e%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20ui.updateHUD%28this.player%2C%20this.entities%2C%20this.bossTimer%2C%20this.activeBoss%2C%20this.zoneTimer%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20handleArenaEvents%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20events%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u0421%u043C%u0435%u0440%u0442%u044C%2050%25%20%u043F%u043B%u0430%u043D%u0435%u0442%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bots%20%3D%20this.entities.filter%28e%20%3D%3E%20%21e.isPlayer%20%26%26%20%21e.isBoss%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CMath.floor%28bots.length/2%29%3B%20i++%29%20bots%5Bi%5D.kill%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22x2%20%u041E%u0447%u043A%u043E%u0432%20%u0422%u041E%u041F-5%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20top%20%3D%20%5B...this.entities%5D.sort%28%28a%2Cb%29%3D%3Eb.score-a.score%29.slice%280%2C5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top.forEach%28e%20%3D%3E%20e.score%20*%3D%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u0421%u043C%u0435%u0440%u0442%u044C%20%u0441%u043B%u0443%u0447%u0430%u0439%u043D%u043E%u0439%20%u043F%u043B%u0430%u043D%u0435%u0442%u044B%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bots%20%3D%20this.entities.filter%28e%20%3D%3E%20%21e.isPlayer%20%26%26%20%21e.isBoss%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28bots.length%3E0%29%20bots%5BMath.floor%28Math.random%28%29*bots.length%29%5D.kill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u0411%u043E%u043D%u0443%u0441%201500%20%u043E%u0447%u043A%u043E%u0432%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.entities.length%3E0%29%20this.entities%5BMath.floor%28Math.random%28%29*this.entities.length%29%5D.addScore%281500%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u041F%u0435%u0440%u0435%u0437%u0430%u0440%u044F%u0434%u043A%u0430%21%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%20e.waveCD%20%3D%200%3B%20e.shieldCD%20%3D%200%3B%20e.rayCD%20%3D%200%3B%20e.gravityManeuverCD%20%3D%200%3B%20e.blueStripCD%20%3D%200%3B%20e.cleanseCD%20%3D%200%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u0411%u043E%u0441%u0441%20%u0442%u0435%u0440%u044F%u0435%u0442%2030%25%20HP%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.activeBoss%29%20this.activeBoss.score%20*%3D%200.7%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%20t%3A%20%22%u0421%u043C%u0435%u0440%u0442%u044C%20%u0440%u0430%u043D%u0434%u043E%u043C%u043D%u043E%u0433%u043E%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bots%20%3D%20this.entities.filter%28e%20%3D%3E%20%21e.isBoss%20%26%26%20%21e.isPlayer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28bots.length%20%3E%200%29%20bots%5BMath.floor%28Math.random%28%29*bots.length%29%5D.kill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%0A%20%20%20%20%20%20%20%20%5D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27mini%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27royal%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20events.push%28%7Bt%3A%20%22+10%25%20%u041E%u0447%u043A%u043E%u0432%2050%25%20%u0438%u0433%u0440%u043E%u043A%u043E%u0432%22%2C%20f%3A%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%20if%28Math.random%28%29%3C0.5%29%20e.score%20*%3D%201.1%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20ev%20%3D%20events%5BMath.floor%28Math.random%28%29*events.length%29%5D%3B%0A%20%20%20%20%20%20%20%20this.currentArenaEvent%20%3D%20ev.t%3B%0A%20%20%20%20%20%20%20%20ev.f%28%29%3B%0A%20%20%20%20%20%20%20%20ui.notify%28%22%u0421%u041E%u0411%u042B%u0422%u0418%u0415%3A%20%22%20+%20ev.t%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20disp%20%3D%20document.getElementById%28%27arenaEventDisplay%27%29%3B%0A%20%20%20%20%20%20%20%20disp.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20disp.innerText%20%3D%20%22%u0421%u041E%u0411%u042B%u0422%u0418%u0415%3A%20%22%20+%20ev.t%3B%0A%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20disp.style.display%20%3D%20%27none%27%3B%20%7D%2C%205000%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20draw%28%29%20%7B%0A%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%27%23050a10%27%3B%20this.ctx.fillRect%280%2C0%2Cthis.canvas.width/window.devicePixelRatio%2Cthis.canvas.height/window.devicePixelRatio%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.translate%28window.innerWidth/2%2C%20window.innerHeight/2%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.scale%28this.cam.z%2C%20this.cam.z%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.translate%28-this.cam.x%2C%20-this.cam.y%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Cthis.zoneRadius%2C0%2CMath.PI*2%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.lineWidth%3D100%3B%20this.ctx.strokeStyle%3D%22rgba%28173%2C216%2C230%2C0.1%29%22%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Cthis.zoneRadius%2C0%2CMath.PI*2%29%3B%0A%20%20%20%20%20%20%20%20this.ctx.lineWidth%3D5%3B%20this.ctx.strokeStyle%3D%22rgba%28173%2C216%2C230%2C0.8%29%22%3B%20this.ctx.stroke%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20this.zoneTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.moveTo%280%2C%20-this.zoneRadius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%280%2C%20this.zoneRadius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22white%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B20%2C%2020%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20vw%20%3D%20window.innerWidth/this.cam.z%2C%20vh%20%3D%20window.innerHeight/this.cam.z%3B%0A%20%20%20%20%20%20%20%20const%20vl%3Dthis.cam.x-vw/2-100%2C%20vr%3Dthis.cam.x+vw/2+100%2C%20vt%3Dthis.cam.y-vh/2-100%2C%20vb%3Dthis.cam.y+vh/2+100%3B%0A%0A%20%20%20%20%20%20%20%20for%28let%20s%20of%20this.stars%29%20%7B%20if%28s.x%3Evl%20%26%26%20s.x%3Cvr%20%26%26%20s.y%3Evt%20%26%26%20s.y%3Cvb%29%20this.ctx.drawImage%28AssetManager.starCanvases%5Bs.tIdx%5D%2C%20s.x-10%2C%20s.y-10%29%3B%20%7D%0A%20%20%20%20%20%20%20%20for%28let%20it%20of%20this.items%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28it.x%3Evl%20%26%26%20it.x%3Cvr%20%26%26%20it.y%3Evt%20%26%26%20it.y%3Cvb%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20c%20%3D%20ITEMS_TYPES%5Bit.type%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%3Dc.color%3B%20this.ctx.shadowBlur%3D10%3B%20this.ctx.shadowColor%3Dc.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%28it.x%2C%20it.y%2C%2015%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%3D0%3B%20this.ctx.fillStyle%3D%22%23000%22%3B%20this.ctx.font%3D%2216px%20sans-serif%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.textAlign%3D%22center%22%3B%20this.ctx.fillText%28c.icon%2C%20it.x%2C%20it.y+6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28%21this.activeBoss%20%26%26%20this.bossTimer%20%3C%3D%207%20%26%26%20this.bossTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20nextBossR%20%3D%20CONFIG.baseSize%20*%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20waveR%20%3D%20%28this.bossTimer%20/%207%29%20*%20%28nextBossR%20*%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.arc%28this.nextBossPos.x%2C%20this.nextBossPos.y%2C%20waveR%2C%200%2C%20Math.PI*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22rgba%28255%2C%200%2C%200%2C%200.5%29%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%2020%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.explosions.forEach%28exp%20%3D%3E%20exp.draw%28this.ctx%29%29%3B%0A%0A%20%20%20%20%20%20%20%20for%28let%20s%20of%20this.snowballs%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28s.x%2C%20s.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28Math.atan2%28s.vy%2C%20s.vx%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20pulse%20%3D%200.1%20+%20Math.abs%28Math.sin%28Date.now%28%29/200%29%29*0.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60rgba%28255%2C255%2C255%2C%24%7Bpulse%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2C%20s.radius%20*%201.1%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28s.type%20%3D%3D%3D%20%27strip%27%20%7C%7C%20s.type%20%3D%3D%3D%20%27sword%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27strip%27%20%26%26%20s.isTTS%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20grad%20%3D%20this.ctx.createLinearGradient%280%2C%20-s.wid/2%2C%200%2C%20s.wid/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20grad.addColorStop%280%2C%20%27%2300FF00%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20grad.addColorStop%280.5%2C%20%27%23FFFFFF%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20grad.addColorStop%281%2C%20%27%23FF0000%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20grad%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20s.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillRect%28-s.len/2%2C%20-s.wid/2%2C%20s.len%2C%20s.wid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tName%20%3D%20%27normal%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.isTTS%29%20tName%20%3D%20%27tts16a%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.type%20%3D%3D%3D%20%27starProjectile%27%29%20tName%20%3D%20%27star%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21s.texture%29%20s.texture%20%3D%20AssetManager.getProjectileTexture%28s.color%2C%20s.radius%2C%200%2C%20tName%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28s.texture%2C%20-s.radius%2C%20-s.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.activeBoss%20%26%26%20this.activeBoss.isSpectral%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.activeBoss.bossState%20%3D%3D%3D%202%20%26%26%20this.activeBoss.bossAttackType%20%3D%3D%3D%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.activeBoss.spectralRays%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.activeBoss.spectralRays.forEach%28ray%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ex%20%3D%20this.activeBoss.x%20+%20Math.cos%28this.activeBoss.angle%20+%20ray.angle%29%20*%20ray.len%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ey%20%3D%20this.activeBoss.y%20+%20Math.sin%28this.activeBoss.angle%20+%20ray.angle%29%20*%20ray.len%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%20Date.now%28%29/100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60hsl%28%24%7B%28t%20*%2050%29%25360%7D%2C%20100%25%2C%2050%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Cthis.activeBoss.radius%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.activeBoss%20%26%26%20%28this.activeBoss.bossState%20%3D%3D%3D%201%20%7C%7C%20this.activeBoss.bossState%20%3D%3D%3D%202%29%20%26%26%20this.activeBoss.bossAttackType%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20b%20%3D%20this.activeBoss%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rayLen%20%3D%20b.radius%20*%2020%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ex%20%3D%20b.x%20+%20Math.cos%28b.bossTargetAngle%29%20*%20rayLen%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ey%20%3D%20b.y%20+%20Math.sin%28b.bossTargetAngle%29%20*%20rayLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28b.x%2C%20b.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28b.bossState%20%3D%3D%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20b.radius/4%3B%20this.ctx.strokeStyle%20%3D%20hexToRgbaStr%28b.bossAtkColor%2C%200.5%29%3B%20this.ctx.setLineDash%28%5B20%2C%2020%5D%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20b.radius/2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20b.bossAtkColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B%5D%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28b.x%2C%20b.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20b.radius/8%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22white%22%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.rayState%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20rayLen%20%3D%20e.radius%20*%20%28e.conf.id%20%3D%3D%3D%20%27mercury%27%20%3F%2015%20%3A%2015%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ex%20%3D%20e.x%20+%20Math.cos%28e.rayAngle%29%20*%20rayLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ey%20%3D%20e.y%20+%20Math.sin%28e.rayAngle%29%20*%20rayLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20mainColor%20%3D%20%22yellow%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.conf.id%20%3D%3D%3D%20%27sirius%27%20%7C%7C%20e.isPhoenix%29%20mainColor%20%3D%20%27%2300BFFF%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.conf.id%20%3D%3D%3D%20%27betelgeuse%27%29%20mainColor%20%3D%20%27%23ff0000%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isTON618%29%20mainColor%20%3D%20%27%23F5DEB3%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isProbe%29%20mainColor%20%3D%20%27%23FF0000%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20widthMult%20%3D%20%28e.conf.id%20%3D%3D%3D%20%27betelgeuse%27%20%7C%7C%20e.isTON618%29%20%3F%202.0%20%3A%20%28e.isPhoenix%20%7C%7C%20e.isProbe%20%3F%200.5%20%3A%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28e.x%2C%20e.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.rayState%20%3D%3D%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20%28e.radius/4%29%20*%20widthMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%28e.rayTimer%20%3C%201%20%26%26%20Math.floor%28Date.now%28%29/100%29%252%3D%3D%3D0%29%20%3F%20%22white%22%20%3A%20mainColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B15%2C%2015%5D%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20width%20%3D%20%28e.radius/4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20width%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22%23FFFFFF%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B%5D%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28e.x%2C%20e.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20width%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20gradSt%20%3D%20this.ctx.createLinearGradient%28e.x%2C%20e.y%20-%20width/2%2C%20e.x%2C%20e.y%20+%20width/2%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gradSt.addColorStop%280%2C%20%27%2300FF00%27%29%3B%20gradSt.addColorStop%280.5%2C%20%27%23FFFFFF%27%29%3B%20gradSt.addColorStop%281%2C%20%27%23FF0000%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20gradSt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20%28%28e.conf.id%20%3D%3D%3D%20%27venus%27%29%20%3F%20e.radius/6%20%3A%20e.radius/4%29%20*%20widthMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20mainColor%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B%5D%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28e.x%2C%20e.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20%28e.radius/10%29%20*%20widthMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22white%22%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isTentacle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20boss%20%3D%20e.owner%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28boss%20%26%26%20boss.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.moveTo%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%28boss.x%2C%20boss.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22%23006400%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this.activeBoss%20%26%26%20this.activeBoss.bossState%20%3D%3D%3D%202%20%26%26%20this.activeBoss.bossAttackType%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20b%20%3D%20this.activeBoss%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20b.radius%20*%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C2%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20b.bossOrbitAngle%20+%20%28i%20*%20Math.PI%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ox%20%3D%20b.x%20+%20Math.cos%28ang%29%20*%20dist%3B%20let%20oy%20%3D%20b.y%20+%20Math.sin%28ang%29%20*%20dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.translate%28ox%2C%20oy%29%3B%20this.ctx.fillStyle%20%3D%20b.bossAtkColor%3B%20this.ctx.shadowBlur%20%3D%2010%3B%20this.ctx.shadowColor%20%3D%20b.bossAtkColor%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Cb.radius*0.8%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28this.activeBoss%20%26%26%20this.activeBoss.bossState%20%3D%3D%3D%202%20%26%26%20this.activeBoss.bossAttackType%20%3D%3D%3D%2011%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20b%20%3D%20this.activeBoss%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rays%20%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20len%20%3D%20b.radius%20*%2020%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Crays%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20b.angle%20+%20i%20*%20%28Math.PI/2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ex%20%3D%20b.x%20+%20Math.cos%28ang%29%20*%20len%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ey%20%3D%20b.y%20+%20Math.sin%28ang%29%20*%20len%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.moveTo%28b.x%2C%20b.y%29%3B%20this.ctx.lineTo%28ex%2C%20ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20b.radius/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%60hsl%28%24%7B%28Date.now%28%29/5%20+%20i*90%29%25360%7D%2C%20100%25%2C%2050%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28this.player%20%26%26%20this.player.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20showLine%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dx%3D0%2C%20dy%3D0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.aimJoy.active%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20this.aimJoy.dx%3B%20dy%20%3D%20this.aimJoy.dy%3B%20showLine%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%28this.player.lightStripActive%20%7C%7C%20this.player.blueStripActive%29%20%26%26%20%21this.isMobile%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dx%20%3D%20this.mouse.x%3B%20dy%20%3D%20this.mouse.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showLine%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28showLine%20%26%26%20Math.hypot%28dx%2Cdy%29%20%3E%200.1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.moveTo%28this.player.x%2C%20this.player.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28dy%2C%20dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%28this.player.x%20+%20Math.cos%28angle%29%20*%20800%2C%20this.player.y%20+%20Math.sin%28angle%29%20*%20800%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22rgba%28255%2C255%2C255%2C0.6%29%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%203%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.setLineDash%28%5B10%2C%2010%5D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isAnomalyBot%20%26%26%20e%20%21%3D%3D%20this.player%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dist%20%3D%20Math.hypot%28e.x%20-%20this.player.x%2C%20e.y%20-%20this.player.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3C%20this.player.radius%20*%2040%20%26%26%20dist%20%3E%20%28window.innerHeight/this.cam.z%29/2%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28e.y%20-%20this.player.y%2C%20e.x%20-%20this.player.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20edgeDist%20%3D%20Math.min%28window.innerWidth%2C%20window.innerHeight%29%20*%200.35%20/%20this.cam.z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ax%20%3D%20this.player.x%20+%20Math.cos%28angle%29%20*%20edgeDist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ay%20%3D%20this.player.y%20+%20Math.sin%28angle%29%20*%20edgeDist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28ax%2C%20ay%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28angle%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20e.nameColorOverride%20%7C%7C%20%27%23FF00FF%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.moveTo%2810%2C%200%29%3B%20this.ctx.lineTo%28-10%2C%2010%29%3B%20this.ctx.lineTo%28-10%2C%20-10%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28this.player%20%26%26%20%28this.player.lightStripActive%20%7C%7C%20this.player.blueStripActive%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20colorStr%20%3D%20this.player.lightStripActive%20%3F%20%22rgba%28255%2C165%2C0%2C%22%20%3A%20%22rgba%280%2C191%2C255%2C%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20w%20%3D%20window.innerWidth%20/%20this.cam.z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20h%20%3D%20window.innerHeight%20/%20this.cam.z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cx%20%3D%20this.cam.x%2C%20cy%20%3D%20this.cam.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gSize%20%3D%2033%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20gl%20%3D%20this.ctx.createLinearGradient%28cx%20-%20w/2%2C%200%2C%20cx%20-%20w/2%20+%20gSize%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gl.addColorStop%280%2C%20colorStr+%220.6%29%22%29%3B%20gl.addColorStop%281%2C%20colorStr+%220%29%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gl%3B%20this.ctx.fillRect%28cx%20-%20w/2%2C%20cy%20-%20h/2%2C%20gSize%2C%20h%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20gr%20%3D%20this.ctx.createLinearGradient%28cx%20+%20w/2%2C%200%2C%20cx%20+%20w/2%20-%20gSize%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gr.addColorStop%280%2C%20colorStr+%220.6%29%22%29%3B%20gr.addColorStop%281%2C%20colorStr+%220%29%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gr%3B%20this.ctx.fillRect%28cx%20+%20w/2%20-%20gSize%2C%20cy%20-%20h/2%2C%20gSize%2C%20h%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20gt%20%3D%20this.ctx.createLinearGradient%280%2C%20cy%20-%20h/2%2C%200%2C%20cy%20-%20h/2%20+%20gSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gt.addColorStop%280%2C%20colorStr+%220.6%29%22%29%3B%20gt.addColorStop%281%2C%20colorStr+%220%29%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gt%3B%20this.ctx.fillRect%28cx%20-%20w/2%2C%20cy%20-%20h/2%2C%20w%2C%20gSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20gb%20%3D%20this.ctx.createLinearGradient%280%2C%20cy%20+%20h/2%2C%200%2C%20cy%20+%20h/2%20-%20gSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gb.addColorStop%280%2C%20colorStr+%220.6%29%22%29%3B%20gb.addColorStop%281%2C%20colorStr+%220%29%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gb%3B%20this.ctx.fillRect%28cx%20-%20w/2%2C%20cy%20+%20h/2%20-%20gSize%2C%20w%2C%20gSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.alive%20%26%26%20e.isPlayer%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.x+e.radius*3%20%3C%20vl%20%7C%7C%20e.x-e.radius*3%20%3E%20vr%20%7C%7C%20e.y+e.radius*3%20%3C%20vt%20%7C%7C%20e.y-e.radius*3%20%3E%20vb%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.activeEffects%20%26%26%20e.activeEffects.magnet%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20alpha%20%3D%200.2%20+%20Math.abs%28Math.sin%28Date.now%28%29/500%29%29*0.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%20alpha%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isSpectral%20%7C%7C%20e.isAnomalyBot%29%20this.ctx.fillStyle%20%3D%20%60hsl%28%24%7B%28Date.now%28%29/10%29%25360%7D%2C100%25%2C50%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20this.ctx.fillStyle%20%3D%20%22%23222%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius*%28e.magnetRadiusMult%20%7C%7C%202.0%29%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.gravityManeuverActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20e.isSpectral%20%3F%20%60hsl%28%24%7B%28Date.now%28%29/10%29%25360%7D%2C100%25%2C50%25%29%60%20%3A%20%22%2340E0D0%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pulse%20%3D%201%20+%20Math.sin%28Date.now%28%29/100%29*0.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%200.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22%238A2BE2%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius*pulse%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20k%3D0%3B%20k%3C8%3B%20k++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28Math.PI/4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.moveTo%28e.radius%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%28e.gravityManeuverRadius%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%60rgba%2864%2C%20224%2C%20208%2C%20%24%7B0.3%20*%20pulse%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20waveT%20%3D%20%28Date.now%28%29%20%25%201000%29%20/%201000%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20maxWaveR%20%3D%20e.radius%20*%206%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20curWaveR%20%3D%20maxWaveR%20*%20%281%20-%20waveT%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%200.5%20*%20waveT%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22%2340E0D0%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2C%20curWaveR%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.moons.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20m%20of%20e.moons%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28m.x%2C%20m.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.isLaser%29%20this.ctx.rotate%28Date.now%28%29/100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28m.isStar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20m.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%2010%3B%20this.ctx.shadowColor%20%3D%20m.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20r%20%3D%20m.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20k%3D0%3B%20k%3C5%3B%20k++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%28Math.cos%28%2818+k*72%29/180*Math.PI%29*r%2C%20Math.sin%28%2818+k*72%29/180*Math.PI%29*r%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineTo%28Math.cos%28%2854+k*72%29/180*Math.PI%29*%28r/2%29%2C%20Math.sin%28%2854+k*72%29/180*Math.PI%29*%28r/2%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.closePath%28%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28m.isLaser%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%22%23FF0000%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Cm.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22%23FFFF00%22%3B%20this.ctx.lineWidth%20%3D%202%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28m.atmosphere%29%20%7B%20this.ctx.shadowBlur%20%3D%20m.radius%20*%200.5%3B%20this.ctx.shadowColor%20%3D%20m.atmosphere%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21m.texture%29%20m.texture%20%3D%20AssetManager.getPlanetTexture%28m.conf%20%7C%7C%20%7Bcolor%3A%20m.color%2C%20detail%3A%20m.color%2C%20type%3A1%7D%2C%20m.radius%2C%20Math.random%28%29*100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.abs%28m.texture.width/2%20-%20m.radius%29%20%3E%202%29%20m.texture%20%3D%20AssetManager.getPlanetTexture%28m.conf%20%7C%7C%20%7Bcolor%3A%20m.color%2C%20detail%3A%20m.color%2C%20type%3A1%7D%2C%20m.radius%2C%20Math.random%28%29*100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.conf.id%20%3D%3D%3D%20%27earth%27%20%26%26%20%21m.hasMoonTex%20%26%26%20%21e.isBoss%29%20%7B%20m.texture%20%3D%20AssetManager.moonTexture%3B%20m.hasMoonTex%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28m.texture%2C%20-m.radius%2C%20-m.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.iceSwordActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28e.iceSwordAngle%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20e.isBoss%20%3F%20e.bossAtkColor%20%3A%20%27%2300BFFF%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillRect%280%2C%20-5%2C%20e.radius*6%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20w%20of%20e.waves%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20waveColor%20%3D%20%27rgba%28255%2C50%2C50%2C0.5%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bc%20%3D%20hexToRgb%28e.bossAtkColor%20%7C%7C%20%27%23ff0000%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20waveColor%20%3D%20%60rgba%28%24%7Bbc.r%7D%2C%24%7Bbc.g%7D%2C%24%7Bbc.b%7D%2C%24%7Bw.alpha%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28e.isPlayer%20%26%26%20e.conf.id%20%3D%3D%3D%20%27sun%27%29%20waveColor%20%3D%20%60rgba%28255%2C215%2C0%2C%24%7Bw.alpha%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.conf.category%20%3D%3D%3D%20%27star%27%29%20waveColor%20%3D%20hexToRgbaStr%28e.conf.color%2C%20w.alpha%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28w.isGreat%29%20waveColor%20%3D%20%60rgba%28138%2C43%2C226%2C%24%7Bw.alpha%7D%29%60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20prog%20%3D%20w.r%20/%20w.maxR%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cHex%20%3D%20%27%2300FF00%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28prog%20%3E%200.33%20%26%26%20prog%20%3C%200.66%29%20cHex%20%3D%20%27%23FFFFFF%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28prog%20%3E%3D%200.66%29%20cHex%20%3D%20%27%23FF0000%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20waveColor%20%3D%20hexToRgbaStr%28cHex%2C%20w.alpha%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSpectral%20%26%26%20e.isBoss%29%20waveColor%20%3D%20%60hsla%28%24%7B%28Date.now%28%29/5%29%25360%7D%2C%20100%25%2C%2050%25%2C%20%24%7Bw.alpha%7D%29%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20waveColor%3B%20this.ctx.lineWidth%20%3D%20e.isBoss%20%3F%2020%20%3A%2010%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%28e.x%2C%20e.y%2C%20w.r%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.stroke%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28e.conf.hasRing%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28e.angle%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.scale%281%2C%20e.ringAspect%20%7C%7C%200.3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20e.ringColor%20%7C%7C%20%27rgba%28200%2C180%2C140%2C0.5%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%20e.ringThick%20%7C%7C%20e.radius*0.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%20e.ringAlpha%20%7C%7C%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.arc%280%2C%200%2C%20e.radius*2.2%2C%200%2C%20Math.PI*2%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.extraRings%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.extraRings.forEach%28er%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.strokeStyle%20%3D%20er.color%3B%20this.ctx.lineWidth%20%3D%20e.radius%20*%20er.width%3B%20this.ctx.globalAlpha%20%3D%200.6%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.arc%280%2C%200%2C%20e.radius%20*%20er.r%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Black%20Hole%20Visuals%20%28TON%20618%2C%20Phoenix%20A%2C%20Sagittarius%20A*%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isTON618%20%7C%7C%20e.isPhoenix%20%7C%7C%20e.isSgrA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Core%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%22%23000%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20haloColor%20%3D%20%27%23F5DEB3%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isPhoenix%29%20haloColor%20%3D%20%27%2387CEEB%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSgrA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSprinting%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Pulsing%20logic%3A%20cyan%20-%3E%20blue%20-%3E%20purple%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%20%28Date.now%28%29%20/%20500%29%20%25%202%3B%20//%200%20to%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28t%20%3C%201%29%20haloColor%20%3D%20interpolateColor%28%27%2300FFFF%27%2C%20%27%230000FF%27%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20haloColor%20%3D%20interpolateColor%28%27%230000FF%27%2C%20%27%23800080%27%2C%20t-1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20haloColor%20%3D%20%27%234B0082%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20haloColor%3B%20this.ctx.lineWidth%20%3D%203%3B%20this.ctx.stroke%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Accretion%20Disk%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28Date.now%28%29%20/%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20diskColor%20%3D%20%27rgba%28245%2C222%2C179%2C0.4%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isPhoenix%29%20diskColor%20%3D%20%27rgba%28135%2C206%2C235%2C0.4%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSgrA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20c%20%3D%20hexToRgb%28haloColor%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diskColor%20%3D%20%60rgba%28%24%7Bc.r%7D%2C%24%7Bc.g%7D%2C%24%7Bc.b%7D%2C0.4%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20diskRadius%20%3D%20e.radius%20*%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20innerRadius%20%3D%20e.radius%20*%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20grad%20%3D%20this.ctx.createRadialGradient%280%2C0%2CinnerRadius%2C%200%2C0%2CdiskRadius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20grad.addColorStop%280%2C%20diskColor%29%3B%20grad.addColorStop%281%2C%20%27rgba%280%2C0%2C0%2C0%29%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20grad%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2CdiskRadius%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSpectral%20%7C%7C%20e.isAnomaly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20e.isAnomaly%20%3F%20%60rgba%280%2C0%2C0%2C0.8%29%60%20%3A%20%60hsla%28%24%7B%28Date.now%28%29/5%29%25360%7D%2C%20100%25%2C%2050%25%2C%200.7%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.arc%280%2C0%2C%20e.radius%20*%20%28e.isAnomaly%3F4%3A3%29%2C%200%2C%20Math.PI*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Normal%20Planet%20Render%20%28skip%20if%20black%20hole%20handled%20above%20to%20prevent%20overlay%20issues%29%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21e.isTON618%20%26%26%20%21e.isPhoenix%20%26%26%20%21e.isSgrA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.slowTimer%20%3E%200%29%20this.ctx.globalAlpha%20%3D%200.8%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.texture%20%7C%7C%20Math.abs%28e.textureRadius%20-%20e.radius%29%20%3E%202%20%7C%7C%20e.isRussianEmpire%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.texture%20%3D%20AssetManager.getPlanetTexture%28e.conf%2C%20e.radius%2C%20e.seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.shading%20%3D%20AssetManager.getShadingOverlay%28e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.textureRadius%20%3D%20e.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.rotate%28e.angle%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20shadowR%20%3D%20e.radius%20*%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.conf.id%20%3D%3D%3D%20%27betelgeuse%27%20%7C%7C%20%28e.isBoss%20%26%26%20e.score%20%3E%2010000%20%26%26%20e.bossAtkColor%3D%3D%3D%27%23FF0000%27%29%29%20shadowR%20%3D%20e.radius%20*%202.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%20shadowR%3B%20this.ctx.shadowColor%20%3D%20e.atmosphereColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28e.texture%2C%20-e.radius%2C%20-e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isSpectral%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.clip%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%27source-atop%27%3B%20this.ctx.globalAlpha%20%3D%200.4%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pat%20%3D%20this.ctx.createPattern%28AssetManager.rainbowPattern%2C%20%27repeat%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20pat%3B%20this.ctx.fillRect%28-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%200.7%20+%20Math.abs%28Math.sin%28Date.now%28%29/500%29%29*0.3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%27overlay%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%20%28Date.now%28%29%20*%203%29%20/%201000%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20gr%20%3D%20this.ctx.createLinearGradient%28-e.radius%2C%20-e.radius%2C%20e.radius%2C%20e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gr.addColorStop%280%2C%20%60hsla%28%24%7B%28t*50%29%25360%7D%2C100%25%2C50%25%2C0.4%29%60%29%3B%20gr.addColorStop%281%2C%20%60hsla%28%24%7B%28t*50+180%29%25360%7D%2C100%25%2C50%25%2C0.4%29%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20gr%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius*1.2%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isStarKing%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hue%20%3D%20%28Date.now%28%29/20%29%20%25%20360%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.globalCompositeOperation%20%3D%20%27source-atop%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60hsla%28%24%7Bhue%7D%2C%2080%25%2C%2060%25%2C%200.3%29%60%3B%20this.ctx.fillRect%28-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.isAnomalyBot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.globalCompositeOperation%20%3D%20%27overlay%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%20Date.now%28%29/300%3B%20let%20hue%20%3D%20%28t%20*%2050%29%20%25%20360%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60hsla%28%24%7Bhue%7D%2C%20100%25%2C%2060%25%2C%200.5%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isEating%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.clip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%27source-atop%27%3B%20this.ctx.fillStyle%20%3D%20%27rgba%28255%2C100%2C0%2C0.5%29%27%3B%20this.ctx.fillRect%28-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.eatingColorTimer%20%3D%203.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.damageTimer%20%3E%200%20%26%26%20e.frozenEffectTimer%20%3C%3D%200%20%26%26%20e.slowTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.floor%28Date.now%28%29/50%29%252%3D%3D%3D0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.clip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%27source-atop%27%3B%20this.ctx.fillStyle%20%3D%20%27rgba%28255%2C0%2C0%2C0.75%29%27%3B%20this.ctx.fillRect%28-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%200%3B%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28e.shading%2C%20-e.radius%2C%20-e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20//%20Zombie%20Overlay%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isZombie%29%20%7B%20this.ctx.fillStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.7%29%22%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.slowTimer%20%3E%200%29%20%7B%20this.ctx.fillStyle%20%3D%20%22rgba%280%2C0%2C255%2C0.3%29%22%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.frozenEffectTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.clip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20frame%20%3D%20Math.floor%28Date.now%28%29%20/%20500%29%20%25%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%200.5%3B%20this.ctx.fillStyle%20%3D%20e.frozenColor%20%7C%7C%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%22color%22%3B%20this.ctx.fillRect%28-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalCompositeOperation%20%3D%20%22source-over%22%3B%20this.ctx.drawImage%28AssetManager.noiseCanvases%5Bframe%5D%2C%20-e.radius%2C%20-e.radius%2C%20e.radius*2%2C%20e.radius*2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28e.isSprinting%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.globalCompositeOperation%20%3D%20%22lighter%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%22rgba%28255%2C255%2C255%2C0.4%29%22%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.score%20%3C%3D%2045%20%26%26%20%21e.isBoss%20%26%26%20%21e.isZombie%20%26%26%20%21e.isTentacle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20let%20pulse%20%3D%200.5%20+%20Math.sin%28Date.now%28%29/100%29*0.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60rgba%28255%2C0%2C0%2C%24%7Bpulse%7D%29%60%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2Ce.radius%2C0%2CMath.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%28e.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hpPct%20%3D%20e.shieldHp%20/%20e.maxShieldHp%3B%20if%28hpPct%20%3C%200%29%20hpPct%20%3D%200%3B%20if%28hpPct%20%3E%201%29%20hpPct%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20r%2C%20g%2C%20b%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hpPct%20%3E%200.5%29%20%7B%20let%20t%20%3D%20%28hpPct%20-%200.5%29%20*%202%3B%20r%20%3D%200%3B%20g%20%3D%20Math.floor%28255%20*%20%281-t%29%29%3B%20b%20%3D%20255%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20let%20t%20%3D%20hpPct%20*%202%3B%20r%20%3D%20Math.floor%28128%20*%20%281-t%29%29%3B%20g%20%3D%200%3B%20b%20%3D%20Math.floor%28255%20*%20t%20+%20128%20*%20%281-t%29%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.bossAtkColor%20%3D%3D%3D%20%27%23FFD700%27%29%20%7B%20r%3D255%3B%20g%3D215%3B%20b%3D0%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.bossAtkColor%20%3D%3D%3D%20%27%23FF0000%27%29%20%7B%20r%3D255%3B%20g%3D0%3B%20b%3D0%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.isSpectral%29%20%7B%20r%3D255%3B%20g%3D255%3B%20b%3D255%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20shieldColor%20%3D%20%60rgba%28%24%7Br%7D%2C%24%7Bg%7D%2C%24%7Bb%7D%2C%24%7B0.3%20+%20hpPct*0.2%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20shieldColor%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2C%20e.radius%20*%201.15%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%60rgba%28%24%7Br%7D%2C%24%7Bg%7D%2C%24%7Bb%7D%2C1%29%60%3B%20this.ctx.lineWidth%20%3D%202%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20let%20nameColor%20%3D%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isPlayer%29%20nameColor%20%3D%20e.nameColorOverride%20%7C%7C%20ui.data.color%20%7C%7C%20%27%231E90FF%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.nameColorOverride%29%20nameColor%20%3D%20e.nameColorOverride%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28%21e.isBoss%20%26%26%20e.rank%20%3C%3D%205%29%20nameColor%20%3D%20Top5Colors%5Be.rank%20-%201%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20else%20nameColor%20%3D%20e.pastelNameColor%20%7C%7C%20%27%23ffffff%27%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20nameColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.font%20%3D%20%60bold%20%24%7BMath.max%2814%2C%20e.radius*0.5%29%7Dpx%20%27Comic%20Sans%20MS%27%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.8%29%22%3B%20this.ctx.lineWidth%20%3D%203%3B%20this.ctx.textAlign%20%3D%20%22center%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeText%28e.name%2C%200%2C%20-e.radius%20-%2015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillText%28e.name%2C%200%2C%20-e.radius%20-%2015%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hpPct%20%3D%20e.shieldHp%20/%20e.maxShieldHp%3B%20if%28hpPct%20%3C%200%29%20hpPct%20%3D%200%3B%20if%28hpPct%20%3E%201%29%20hpPct%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20barW%20%3D%20e.radius%20*%202%3B%20let%20barH%20%3D%20Math.max%284%2C%20e.radius%20*%200.15%29%3B%20let%20barX%20%3D%20-e.radius%3B%20let%20barY%20%3D%20-e.radius%20-%20%28e.radius*0.5%29%20-%2020%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.6%29%22%3B%20this.ctx.fillRect%28barX%2C%20barY%2C%20barW%2C%20barH%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%60rgb%280%2C%20191%2C%20255%29%60%3B%20this.ctx.fillRect%28barX%2C%20barY%2C%20barW%20*%20hpPct%2C%20barH%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.hoverEntity%20%3D%3D%3D%20e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20%22yellow%22%3B%20this.ctx.font%20%3D%20%2214px%20monospace%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillText%28Math.floor%28e.score%29%2C%200%2C%20-e.radius%20-%2035%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%28e.showBar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%3D%22black%22%3B%20this.ctx.fillRect%28-20%2C%20-e.radius-25%2C%2040%2C%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%3D%22red%22%3B%20this.ctx.fillRect%28-19%2C%20-e.radius-24%2C%2038*e.barValue%2C%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.showBar%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.globalAlpha%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20//%20Force%20Draw%20Player%20Last%20to%20Fix%20Black%20Hole%20Invisibility%0A%20%20%20%20%20%20%20if%20%28this.player%20%26%26%20this.player.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20e%20%3D%20this.player%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.activeBoss%20%26%26%20%28this.activeBoss.isTON618%20%7C%7C%20this.activeBoss.isPhoenix%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28e.x%2C%20e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.texture%20%7C%7C%20Math.abs%28e.textureRadius%20-%20e.radius%29%20%3E%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.texture%20%3D%20AssetManager.getPlanetTexture%28e.conf%2C%20e.radius%2C%20e.seed%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.shading%20%3D%20AssetManager.getShadingOverlay%28e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.textureRadius%20%3D%20e.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%20this.ctx.rotate%28e.angle%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%20e.radius%20*%200.5%3B%20this.ctx.shadowColor%20%3D%20e.atmosphereColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28e.texture%2C%20-e.radius%2C%20-e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%200%3B%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.drawImage%28e.shading%2C%20-e.radius%2C%20-e.radius%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hpPct%20%3D%20e.shieldHp%20/%20e.maxShieldHp%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20r%3D0%2Cg%3D0%2Cb%3D255%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20shieldColor%20%3D%20%60rgba%28%24%7Br%7D%2C%24%7Bg%7D%2C%24%7Bb%7D%2C%24%7B0.3%20+%20hpPct*0.2%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20shieldColor%3B%20this.ctx.beginPath%28%29%3B%20this.ctx.arc%280%2C0%2C%20e.radius%20*%201.15%2C%200%2C%20Math.PI*2%29%3B%20this.ctx.fill%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%60rgba%28%24%7Br%7D%2C%24%7Bg%7D%2C%24%7Bb%7D%2C1%29%60%3B%20this.ctx.lineWidth%20%3D%202%3B%20this.ctx.stroke%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nameColor%20%3D%20e.nameColorOverride%20%7C%7C%20ui.data.color%20%7C%7C%20%27%231E90FF%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20nameColor%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.font%20%3D%20%60bold%20%24%7BMath.max%2814%2C%20e.radius*0.5%29%7Dpx%20%27Comic%20Sans%20MS%27%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.8%29%22%3B%20this.ctx.lineWidth%20%3D%203%3B%20this.ctx.textAlign%20%3D%20%22center%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeText%28e.name%2C%200%2C%20-e.radius%20-%2015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillText%28e.name%2C%200%2C%20-e.radius%20-%2015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20for%28let%20ft%20of%20this.floatingTexts%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.translate%28ft.x%2C%20ft.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillStyle%20%3D%20ft.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.font%20%3D%20%60bold%20%24%7Bft.size%20%7C%7C%2024%7Dpx%20monospace%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.textAlign%20%3D%20%22center%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowColor%20%3D%20%22black%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.shadowBlur%20%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.lineWidth%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeStyle%20%3D%20%22rgba%280%2C0%2C0%2C0.5%29%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.strokeText%28ft.text%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.fillText%28ft.text%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.ctx.restore%28%29%3B%0A%20%20%20%7D%0A%20%20%20drawMinimap%28%29%20%7B%0A%20%20%20%20%20%20%20const%20s%20%3D%20150%2C%20sc%20%3D%20s/CONFIG.mapSize%2C%20ctx%20%3D%20this.miniCtx%3B%0A%20%20%20%20%20%20%20ctx.clearRect%280%2C0%2Cs%2Cs%29%3B%20ctx.strokeStyle%3D%22%23444%22%3B%20ctx.strokeRect%280%2C0%2Cs%2Cs%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%0A%20%20%20%20%20%20%20ctx.strokeStyle%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20ctx.lineWidth%20%3D%201%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20baseR%20%3D%20CONFIG.mapSize%3B%0A%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27royal%27%29%20baseR%20%3D%20CONFIG.mapSize%20*%201.4%3B%0A%20%20%20%20%20%20%20else%20if%28this.arenaMode%20%3D%3D%3D%20%27duel%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27mini%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%27arena%27%20%7C%7C%20this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20baseR%20%3D%20CONFIG.mapSize%20*%201.5%3B%0A%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27survival_random%27%29%20baseR%20%3D%2010000%3B%0A%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27random_start%27%29%20baseR%20%3D%2010000%3B%0A%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%27team%27%29%20baseR%20%3D%20CONFIG.mapSize%20/%203%3B%0A%20%20%20%20%20%20%20if%28this.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20baseR%20%3D%20CONFIG.mapSize%20/%202%3B%0A%0A%20%20%20%20%20%20%20const%20sf%20%3D%2075%20/%20baseR%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20ctx.arc%28s/2%2C%20s/2%2C%20this.zoneRadius%20*%20sf%2C%200%2C%20Math.PI*2%29%3B%0A%20%20%20%20%20%20%20ctx.stroke%28%29%3B%0A%0A%20%20%20%20%20%20%20for%28let%20e%20of%20this.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20x%20%3D%20s/2%20+%20e.x*sf%2C%20y%20%3D%20s/2%20+%20e.y*sf%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28x%3C0%7C%7Cx%3Es%7C%7Cy%3C0%7C%7Cy%3Es%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isBoss%29%20%7B%20ctx.font%20%3D%20%2214px%20Arial%22%3B%20ctx.textAlign%20%3D%20%22center%22%3B%20ctx.textBaseline%3D%22middle%22%3B%20ctx.fillText%28%22%uD83C%uDF00%22%2C%20x%2C%20y%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%20%3D%3D%3D%20this.player%29%20col%20%3D%20%22%230f0%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.team%20%3D%3D%3D%20%27blue%27%29%20col%20%3D%20%27%2344f%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.team%20%3D%3D%3D%20%27red%27%29%20col%20%3D%20%27%23f44%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.rank%20%3C%3D%205%29%20col%20%3D%20Top5Colors%5Be.rank%20-%201%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isZombie%29%20col%20%3D%20%27%23000%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isSurvivor%29%20col%20%3D%20%27%230f0%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.isAnomalyBot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%20%28Date.now%28%29%20%25%201000%29%20/%201000%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20light%20%3D%2040%20+%20t%20*%2040%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20%60hsl%28280%2C%20100%25%2C%20%24%7Blight%7D%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20col%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.beginPath%28%29%3B%20ctx.arc%28x%2C%20y%2C%20%28e%3D%3D%3Dthis.player%29%3F3%3A2%2C%200%2C%20Math.PI*2%29%3B%20ctx.fill%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20menuLoop%28%29%20%7B%20if%28this.active%29%20return%3B%20this.ctx.fillStyle%3D%27%23050a10%27%3B%20this.ctx.fillRect%280%2C0%2Cthis.canvas.width/window.devicePixelRatio%2Cthis.canvas.height/window.devicePixelRatio%29%3B%20requestAnimationFrame%28%28%29%3D%3Ethis.menuLoop%28%29%29%3B%20%7D%0A%20%20%20gameOver%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.modeSettings.secondChance%20%26%26%20this.player.hasSecondChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.hasSecondChance%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.score%20*%3D%200.5%3B%20this.player.alive%20%3D%20true%3B%20this.gameOverSequence%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.x%20%3D%20%28Math.random%28%29-0.5%29*this.zoneRadius%3B%20this.player.y%20%3D%20%28Math.random%28%29-0.5%29*this.zoneRadius%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.player.damageTimer%20%3D%200%3B%20this.player.shieldHp%20%3D%20this.player.score%20/%203%3B%20this.player.maxShieldHp%20%3D%20this.player.shieldHp%3B%20this.player.shieldActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0412%u0422%u041E%u0420%u0410%u042F%20%u041F%u041E%u041F%u042B%u0422%u041A%u0410%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20this.active%20%3D%20false%3B%0A%20%20%20%20%20%20%20const%20score%20%3D%20Math.floor%28this.player.score%29%3B%0A%20%20%20%20%20%20%20const%20coins%20%3D%20Math.floor%28score%20/%205%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20const%20refund%20%3D%20Math.floor%28this.spentSessionCoins%20*%200.3%29%3B%0A%20%20%20%20%20%20%20const%20totalCoins%20%3D%20coins%20+%20refund%3B%0A%0A%20%20%20%20%20%20%20document.getElementById%28%27finalScore%27%29.innerText%20%3D%20score%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27finalCoins%27%29.innerText%20%3D%20totalCoins%20+%20%28refund%20%3E%200%20%3F%20%60%20%28+%24%7Brefund%7D%20%u0432%u043E%u0437%u0432%u0440%u0430%u0442%29%60%20%3A%20%22%22%29%3B%0A%20%20%20%20%20%20%20ui.addCoins%28totalCoins%29%3B%0A%20%20%20%20%20%20%20this.gameOverSequence%20%3D%20false%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27ui-layer%27%29.style.display%3D%27none%27%3B%0A%20%20%20%20%20%20%20this.menuLoop%28%29%3B%0A%20%20%20%7D%0A%7D%0A%0Aclass%20Entity%20%7B%0A%20%20%20constructor%28x%2C%20y%2C%20conf%2C%20isPlayer%2C%20name%2C%20colorOverride%29%20%7B%0A%20%20%20%20%20%20%20this.x%20%3D%20x%3B%20this.y%20%3D%20y%3B%20this.conf%20%3D%20conf%3B%20this.isPlayer%20%3D%20isPlayer%3B%20this.name%20%3D%20name%3B%0A%20%20%20%20%20%20%20this.score%20%3D%2050%3B%20this.radius%20%3D%20CONFIG.baseSize%3B%20this.angle%20%3D%200%3B%20this.alive%20%3D%20true%3B%0A%20%20%20%20%20%20%20this.vx%20%3D%200%3B%20this.vy%20%3D%200%3B%0A%20%20%20%20%20%20%20this.inventory%20%3D%20%7B%20type%3A%20null%2C%20count%3A%200%20%7D%3B%20%0A%20%20%20%20%20%20%20this.activeEffects%20%3D%20%7B%20speed%3A%200%2C%20magnet%3A%200%2C%20grow%3A%200%2C%20bonus%3A%200%20%7D%3B%0A%20%20%20%20%20%20%20this.effectTimer%20%3D%200%3B%20this.cooldownTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.texture%20%3D%20null%3B%20this.textureRadius%20%3D%200%3B%20this.seed%20%3D%20Math.random%28%29*1000%3B%0A%20%20%20%20%20%20%20this.eatingProgress%20%3D%200%3B%20this.isSprinting%20%3D%20false%3B%20this.boostTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.inRing%20%3D%20false%3B%20this.isBoss%20%3D%20false%3B%20this.bossState%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.slowTimer%20%3D%200%3B%20this.waves%20%3D%20%5B%5D%3B%20this.waveCD%20%3D%2010%3B%20%0A%20%20%20%20%20%20%20this.magnetRadiusMult%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.npcItemTimer%20%3D%2015%20+%20Math.random%28%29*45%3B%0A%20%20%20%20%20%20%20this.isBigBoss%20%3D%20false%3B%20%0A%0A%20%20%20%20%20%20%20let%20baseAmmo%20%3D%203%3B%0A%20%20%20%20%20%20%20let%20baseReload%20%3D%20%28conf.id%20%3D%3D%3D%20%27earth%27%20%7C%7C%20conf.id%20%3D%3D%3D%20%27sun%27%29%20%3F%2010%20%3A%2015%3B%0A%20%20%20%20%20%20%20if%20%28isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20ui.data.upgradeAmmo%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20baseAmmo%20+%3D%20lvl%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lvl%20%3D%3D%3D%201%29%20baseReload%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lvl%20%3D%3D%3D%202%29%20baseReload%20%3D%208%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lvl%20%3D%3D%3D%203%29%20baseReload%20%3D%206%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lvl%20%3D%3D%3D%204%29%20baseReload%20%3D%205%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20this.ammo%20%3D%20baseAmmo%3B%20this.maxAmmo%20%3D%20baseAmmo%3B%20%0A%20%20%20%20%20%20%20this.reloadTime%20%3D%20baseReload%3B%0A%0A%20%20%20%20%20%20%20this.reloadTimer%20%3D%200%3B%20this.fireTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.aimDelay%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.frozenEffectTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.frozenDoTTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.frozenColor%20%3D%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20this.poisonTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.poisonOwner%20%3D%20null%3B%0A%20%20%20%20%20%20%20this.poisonTick%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.burnTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.damageTimer%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.eatingColorTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.isAiming%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20this.moons%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20this.moonCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.bossAttackType%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.bossSubTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.bossTargetAngle%20%3D%200%3B%0A%20%20%20%20%20%20%20this.bossOrbitAngle%20%3D%200%3B%0A%20%20%20%20%20%20%20this.bossAtkColor%20%3D%20%27%23FF0000%27%3B%0A%20%20%20%20%20%20%20this.bossDoubleWave%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.isSpectral%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isAnomaly%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isTON618%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isPhoenix%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isSgrA%20%3D%20%28conf.id%20%3D%3D%3D%20%27sgra%27%29%3B%0A%20%20%20%20%20%20%20this.isProbe%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isStarKing%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isFlorant%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isHunter%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isAnomalyBot%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isAgilityBoss%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isTentacle%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20this.hunterState%20%3D%20%27roam%27%3B%0A%0A%20%20%20%20%20%20%20this.rayCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.rayState%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.rayTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.rayAngle%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.shieldActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.shieldHp%20%3D%200%3B%0A%20%20%20%20%20%20%20this.maxShieldHp%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.shieldCD%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.lightStripActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.lightStripTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.lightStripCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.lightStripFireTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.lightStripMaxTime%20%3D%20%28conf.id%20%3D%3D%3D%20%27venus%27%20%7C%7C%20conf.id%20%3D%3D%3D%20%27jupiter%27%20%7C%7C%20conf.id%20%3D%3D%3D%20%27saturn%27%29%20%3F%2030%20%3A%20%28%28conf.category%20%3D%3D%3D%20%27star%27%20%7C%7C%20conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%3F%2035%20%3A%2025%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.blueStripActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.blueStripTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.blueStripCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.blueStripFireTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.aiBlueStripCooldown%20%3D%2060%20+%20Math.random%28%29%20*%2060%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.blueBulletCD%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.vampireStock%20%3D%205%3B%0A%20%20%20%20%20%20%20this.vampireTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.vampireFireCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.vampireDot%20%3D%20null%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.iceSwordActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.iceSwordCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.iceSwordTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.iceSwordAngle%20%3D%200%3B%0A%20%20%20%20%20%20%20this.iceSwordSpeed%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20this.gravityManeuverActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.gravityManeuverTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.gravityManeuverCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.gravityManeuverRadius%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.cleanseCD%20%3D%200%3B%20%0A%0A%20%20%20%20%20%20%20this.dmgTextAccumulator%20%3D%200%3B%0A%20%20%20%20%20%20%20this.dmgTextTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.damageTakenTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.regenTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.decayTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.florantShields%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20this.florantSpawnTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.tentacleSpawned%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20this.rank%20%3D%20100%3B%20%0A%20%20%20%20%20%20%20this.pastelNameColor%20%3D%20PastelColors%5BMath.floor%28Math.random%28%29%20*%20PastelColors.length%29%5D%20%7C%7C%20%27%23ffffff%27%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.aiTargetX%20%3D%20this.x%3B%0A%20%20%20%20%20%20%20this.aiTargetY%20%3D%20this.y%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.sessionStats%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20protection%3A%200%2C%20resistance%3A%200%2C%20cashback%3A%200%2C%20damage%3A%200%2C%20speed%3A%200%0A%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.scoreBuffer%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.colDmgAccumulator%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.colDmgTimer%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20if%28conf.hasRing%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ringColor%20%3D%20conf.ringColor%20%7C%7C%20randomColor%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ringAngle%20%3D%20%28Math.random%28%29%20-%200.5%29%20*%20Math.PI%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ringAspect%20%3D%200.2%20+%20Math.random%28%29%20*%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ringThick%20%3D%20this.radius%20*%20%280.2%20+%20Math.random%28%29%20*%200.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.ringAlpha%20%3D%200.4%20+%20Math.random%28%29%20*%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.extraRings%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20count%20%3D%201%20+%20Math.floor%28Math.random%28%29%20*%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Ccount%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.extraRings.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%3A%201.2%20+%20Math.random%28%29%20*%200.8%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20randomColor%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%200.02%20+%20Math.random%28%29*0.05%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isFlorant%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.tentacleSpawned%20%3D%20false%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this.greatImpactCD%20%3D%200%3B%0A%20%20%20%20%20%20%20this.greatImpactState%20%3D%200%3B%20%0A%20%20%20%20%20%20%20this.greatImpactTimer%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20if%20%28isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28conf.id%20%21%3D%3D%20%27earth%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.atmosphereColor%20%3D%20hexToRgbaStr%28conf.color%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.atmosphereColor%20%3D%20hexToRgbaStr%28colorOverride%20%7C%7C%20%27%231E90FF%27%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28conf.color%29%20this.atmosphereColor%20%3D%20hexToRgbaStr%28conf.color%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20colors%20%3D%20%5B%27%23f00%27%2C%20%27%230f0%27%2C%20%27%2300f%27%2C%20%27%23ff0%27%2C%20%27%230ff%27%2C%20%27%23f0f%27%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.atmosphereColor%20%3D%20hexToRgbaStr%28colors%5BMath.floor%28Math.random%28%29%20*%20colors.length%29%5D%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28isPlayer%20%26%26%20ui.data.upgradeSecondChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20chance%20%3D%20Math.min%28300%2C%20ui.data.upgradeSecondChance%20*%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.random%28%29%20*%20100%20%3C%20chance%29%20this.hasSecondChance%20%3D%20true%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this.isZombie%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isSurvivor%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.respawnTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.respawnPending%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.isRussianEmpire%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.flagSwapTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.reState%20%3D%20false%3B%20%0A%20%20%20%7D%0A%20%20%20get%20mass%28%29%20%7B%20return%20this.score%3B%20%7D%0A%20%20%20%0A%20%20%20makeZombie%28%29%20%7B%0A%20%20%20%20%20%20%20this.isZombie%20%3D%20true%3B%20this.isSurvivor%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.nameColorOverride%20%3D%20%27%23f00%27%3B%0A%20%20%20%20%20%20%20this.conf.hasRing%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20this.radius%20%3D%20CONFIG.baseSize%20*%201.5%3B%0A%20%20%20%7D%0A%0A%20%20%20makeSurvivor%28%29%20%7B%0A%20%20%20%20%20%20%20this.isZombie%20%3D%20false%3B%20this.isSurvivor%20%3D%20true%3B%0A%20%20%20%20%20%20%20this.nameColorOverride%20%3D%20%27%230f0%27%3B%0A%20%20%20%7D%0A%0A%20%20%20addScore%28val%29%20%7B%20%0A%20%20%20%20%20%20%20if%20%28isNaN%28val%29%29%20return%3B%0A%20%20%20%20%20%20%20if%20%28this.isAnomalyBot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.scoreBuffer%20+%3D%20val%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20+%3D%20val%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22+%22%20+%20Math.floor%28val%29%2C%20%22%230f0%22%2C%20this.radius%20*%200.5%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20kill%28%29%20%7B%20%0A%20%20%20%20%20%20%20if%28this.respawnPending%29%20return%3B%0A%0A%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%275vs1%27%20%26%26%20%21this.isBigBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.respawnPending%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.respawnTimer%20%3D%205.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.alive%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20game.explodeEntity%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.spawnDeathStars%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this.alive%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20game.gameOverSequence%20%3D%20true%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%0A%20%20%20takeDamage%28amount%2C%20silent%29%20%7B%0A%20%20%20%20%20%20%20if%28game.protectionTimer%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20if%28game.gameTime%20%3C%2010%29%20return%3B%20%0A%20%20%20%20%20%20%20if%28game.mod.immunity%20%3E%3D%20100%20%26%26%20this.isPlayer%29%20return%3B%20%0A%20%20%20%20%20%20%20if%28isNaN%28amount%29%29%20return%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isAnomalyBot%29%20amount%20*%3D%2010%3B%20%0A%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20resChance%20%3D%20%28this.sessionStats.resistance%20*%2010%29%3B%20//%2010%2C%2020%2C%2030...%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20*%20100%20%3C%20resChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21silent%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22BLOCK%21%22%2C%20%22gray%22%2C%20this.radius*0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20let%20protRed%20%3D%20%28this.sessionStats.protection%20*%2010%29%20/%20100%3B%20//%2010%25%2C%2020%25...%0A%20%20%20%20%20%20%20%20%20%20%20amount%20*%3D%20%281.0%20-%20protRed%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20resist%20%3D%200%3B%0A%20%20%20%20%20%20%20if%20%28this.score%20%3E%3D%202000%29%20resist%20%3D%200.95%3B%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%3D%201000%29%20resist%20%3D%200.90%20+%20%28%28this.score%20-%201000%29/1000%29%20*%200.05%3B%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%3D%20500%29%20resist%20%3D%200.65%20+%20%28%28this.score%20-%20500%29/500%29%20*%200.25%3B%0A%20%20%20%20%20%20%20else%20resist%20%3D%20%28this.score%20/%20500%29%20*%200.65%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20amount%20*%3D%20%281.0%20-%20resist%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28amount%20%3C%3D%200.1%20%26%26%20Math.random%28%29%20%3C%200.2%29%20amount%20%3D%201%3B%0A%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20evadeChance%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27jupiter%27%29%20evadeChance%20%3D%200.05%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.id%20%3D%3D%3D%20%27betelgeuse%27%29%20evadeChance%20%3D%200.10%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.id%20%3D%3D%3D%20%27sun%27%20%7C%7C%20this.conf.id%20%3D%3D%3D%20%27sirius%27%29%20evadeChance%20%3D%200.07%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%20evadeChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21silent%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22%u0423%u041A%u041B%u041E%u041D%u0415%u041D%u0418%u0415%21%22%2C%20%22lime%22%2C%20this.radius*0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28this.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20amount%20/%3D%2010%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.score%20-%3D%20amount%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28%21silent%20%26%26%20amount%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20ox%20%3D%20%28Math.random%28%29-0.5%29%20*%20this.radius%20*%200.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20oy%20%3D%20-this.radius%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20col%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20col%20%3D%20%22darkred%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isBoss%29%20col%20%3D%20%22%23ff00ff%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20tSize%20%3D%20Math.max%2816%2C%20this.radius%20*%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.showFloatingText%28this.x%20+%20ox%2C%20this.y%20+%20oy%2C%20%22-%22%20+%20Math.floor%28amount%29%2C%20col%2C%20tSize%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20this.sessionStats.cashback%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20cbPct%20%3D%200.15%20+%20%28this.sessionStats.cashback%20*%200.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20refund%20%3D%20amount%20*%20cbPct%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.activeEffects.cashbackAmount%20%3D%20%28this.activeEffects.cashbackAmount%20%7C%7C%200%29%20+%20refund%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28isNaN%28this.score%29%29%20this.score%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.isZombie%20%26%26%20this.score%20%3C%2050%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.makeSurvivor%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0417%u041E%u041C%u0411%u0418%20%u0418%u0421%u0426%u0415%u041B%u0415%u041D%21%22%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this.damageTimer%20%3D%200.5%3B%0A%20%20%20%20%20%20%20this.damageTakenTimer%20%3D%200%3B%20%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20pickupItem%28type%29%20%7B%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20ui.addItem%28type%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.inventory.count%20%3C%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.inventory.count%20%3D%3D%3D%200%29%20this.inventory.type%20%3D%20type%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.inventory.type%20%3D%3D%3D%20type%29%20%7B%20this.inventory.count++%3B%20return%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20useItem%28type%29%20%7B%20%0A%20%20%20%20%20%20%20if%20%28%21type%20%26%26%20this.inventory.type%29%20type%20%3D%20this.inventory.type%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28%21this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.inventory.count%20%3E%200%20%26%26%20this.cooldownTimer%20%3C%3D%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.inventory.count--%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20conf%20%3D%20ITEMS_TYPES%5Bthis.inventory.type%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.activeEffects%5Bthis.inventory.type%5D%20%3D%20conf.duration%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.inventory.count%20%3D%3D%3D%200%29%20this.inventory.type%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.activeEffects%5Btype%5D%20%3E%200%29%20return%3B%20%0A%0A%20%20%20%20%20%20%20const%20conf%20%3D%20ITEMS_TYPES%5Btype%5D%3B%0A%20%20%20%20%20%20%20let%20duration%20%3D%20conf.duration%20+%20%28ui.data.upgrades%5Btype%5D%7C%7C0%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isSgrA%20%26%26%20type%20%3D%3D%3D%20%27magnet%27%29%20duration%20+%3D%205.0%3B%20//%20Sgr%20A*%20Bonus%0A%0A%20%20%20%20%20%20%20this.activeEffects%5Btype%5D%20%3D%20duration%3B%0A%20%20%20%20%20%20%20ui.notify%28ITEMS_TYPES%5Btype%5D.name+%22%21%22%29%3B%0A%20%20%20%20%20%20%20ui.updateInventoryDisplay%28%29%3B%20%0A%20%20%20%7D%0A%0A%20%20%20useWave%28isGreat%20%3D%20false%29%20%7B%20%0A%20%20%20%20%20%20%20if%28this.waveCD%20%3C%3D%200%20%7C%7C%20isGreat%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.isBoss%20%26%26%20%21isGreat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.waveCD%20%3D%20%2815%20+%20Math.random%28%29%20*%2015%29%20*%201.75%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20this.waveCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20this.waves.push%28%7B%20r%3A%200%2C%20alpha%3A%201%2C%20isGreat%3A%20isGreat%2C%20maxR%3A%200%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%7D%20%0A%20%20%20%7D%0A%20%20%20useGreatImpact%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.greatImpactCD%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.greatImpactState%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.greatImpactTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20baseCD%20%3D%20this.isPlayer%20%3F%20100%20%3A%20%28100%20+%20Math.random%28%29*130%29%20*%201.75%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20baseCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.greatImpactCD%20%3D%20baseCD%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20useRay%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.rayCD%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.rayState%20%3D%201%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.rayTimer%20%3D%20%28this.conf.id%3D%3D%3D%27earth%27%20%7C%7C%20this.conf.id%3D%3D%3D%27venus%27%20%3F%201.72%20%3A%201.5%29%20*%20%28this.conf.id%3D%3D%3D%27jupiter%27%3F1.5%3A1.0%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.conf.category%20%3D%3D%3D%20%27star%27%20%7C%7C%20this.conf.id%20%3D%3D%3D%20%27tts16a%27%20%7C%7C%20this.isPhoenix%20%7C%7C%20this.isTON618%20%7C%7C%20this.isSgrA%29%20this.rayTimer%20*%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.bossStage%20%3D%3D%3D%201%29%20this.rayTimer%20%3D%205.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20this.rayTimer%20%3D%205%20*%20Math.pow%281.1%2C%20game.bossStage%20-%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPhoenix%20%7C%7C%20this.isSgrA%29%20this.rayTimer%20%3D%202.0%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20let%20target%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20searchRad%20%3D%202000%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isBoss%29%20searchRad%20%3D%204000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20bestTarget%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20maxScore%20%3D%20-1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28game.activeBoss%20%26%26%20Math.hypot%28game.activeBoss.x-this.x%2C%20game.activeBoss.y-this.y%29%20%3C%202000%20%26%26%20%21this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20game.activeBoss%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%20%21%3D%3D%20this%20%26%26%20e.alive%20%26%26%20Math.abs%28e.x-this.x%29%20%3C%20searchRad%20%26%26%20Math.abs%28e.y-this.y%29%20%3C%20searchRad%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isBoss%20%26%26%20e.isBoss%29%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isBoss%20%26%26%20e.isProbe%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%20%3C%20searchRad%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.score%20%3E%20maxScore%29%20%7B%20maxScore%20%3D%20e.score%3B%20bestTarget%20%3D%20e%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target%20%3D%20bestTarget%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%28target%29%20this.rayAngle%20%3D%20Math.atan2%28target.y-this.y%2C%20target.x-this.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20this.rayAngle%20%3D%20this.angle%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27venus%27%29%20this.rayAngle%20+%3D%20%28Math.random%28%29-0.5%29*0.35%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20baseCD%20%3D%20this.isPlayer%20%3F%2040%20%3A%20%2840%20+%20Math.random%28%29*80%29%20*%201.75%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20baseCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.rayCD%20%3D%20baseCD%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20useGravityManeuver%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.gravityManeuverCD%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20dur%20%3D%203%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.conf.category%20%3D%3D%3D%20%27gas%27%29%20dur%20%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.conf.category%20%3D%3D%3D%20%27star%27%29%20dur%20%3D%205%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20dur%20%3D%205%20+%20game.bossStage%20*%200.5%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20dur%20%3D%203%20+%20Math.random%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20radiusMult%20%3D%201.0%3B%0A%20%20%20%20%20%20%20if%20%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20radiusMult%20%3D%201.0%20+%20%28game.bossStage%20*%200.1%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20this.gravityManeuverActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20this.gravityManeuverTimer%20%3D%20dur%3B%0A%20%20%20%20%20%20%20this.gravityManeuverRadius%20%3D%20this.radius%20*%206%20*%20radiusMult%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20ui.notify%28%22%u0413%u0420%u0410%u0412%u0418%u0422%u0410%u0426%u0418%u041E%u041D%u041D%u042B%u0419%20%u041C%u0410%u041D%u0401%u0412%u0420%21%22%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20cleanse%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.cleanseCD%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20this.cleanseCD%20%3D%2025%20*%20%28this.isPlayer%20%3F%20game.getCooldownMult%28this%29%20%3A%201%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.slowTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.frozenEffectTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.poisonTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.burnTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.vampireDot%20%3D%20null%3B%0A%20%20%20%20%20%20%20this.inRing%20%3D%20false%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20ui.notify%28%22%u041E%u0427%u0418%u0429%u0415%u041D%u0418%u0415%21%22%29%3B%0A%20%20%20%20%20%20%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%20-%2050%2C%20%22CLEANSED%22%2C%20%22lime%22%2C%20this.radius%20*%200.6%29%3B%0A%20%20%20%7D%0A%0A%20%20%20activateShield%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.shieldCD%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20this.shieldActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20sLvl%20%3D%200%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20sLvl%20%3D%20%28ui.data.abilityLevels%20%26%26%20ui.data.abilityLevels.shield%29%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20multiplier%20%3D%20Math.pow%281.25%2C%20sLvl%29%3B%0A%20%20%20%20%20%20%20this.shieldHp%20%3D%20%28this.score%20/%203%29%20*%20multiplier%3B%0A%20%20%20%20%20%20%20this.maxShieldHp%20%3D%20this.shieldHp%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20baseCD%20%3D%2025%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20baseCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20this.shieldCD%20%3D%20baseCD%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20ui.notify%28%22%u0429%u0418%u0422%21%22%29%3B%0A%20%20%20%7D%0A%20%20%20activateIceSword%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.iceSwordCD%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20this.iceSwordActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20this.iceSwordTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20this.iceSwordAngle%20%3D%20this.angle%3B%0A%20%20%20%20%20%20%20this.iceSwordSpeed%20%3D%200%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20baseCD%20%3D%2030%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20baseCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20this.iceSwordCD%20%3D%20baseCD%3B%0A%20%20%20%7D%0A%20%20%20toggleLightStrip%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.blueStripActive%29%20this.toggleBlueStrip%28%29%3B%0A%0A%20%20%20%20%20%20%20if%28this.lightStripCD%20%3E%200%20%26%26%20%21this.lightStripActive%29%20return%3B%0A%20%20%20%20%20%20%20this.lightStripActive%20%3D%20%21this.lightStripActive%3B%0A%20%20%20%20%20%20%20const%20btn%20%3D%20document.getElementById%28%27btnStrip%27%29%3B%0A%20%20%20%20%20%20%20const%20txt%20%3D%20document.getElementById%28%27lightStripText%27%29%3B%0A%20%20%20%20%20%20%20if%28this.lightStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20btn.classList.add%28%27active-mode%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20txt.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.lightStripTimer%20%3D%20this.lightStripMaxTime%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20btn.classList.remove%28%27active-mode%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20txt.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20cd%20%3D%20%28this.conf.id%20%3D%3D%3D%20%27venus%27%29%20%3F%2020%20%3A%2030%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20cd%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.lightStripCD%20%3D%20cd%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20toggleBlueStrip%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.lightStripActive%29%20this.toggleLightStrip%28%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.blueStripCD%20%3E%200%20%26%26%20%21this.blueStripActive%29%20return%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.blueStripActive%20%3D%20%21this.blueStripActive%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20btn%20%3D%20document.getElementById%28%27btnBlueStrip%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20txt%20%3D%20document.getElementById%28%27blueStripText%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.blueStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.classList.add%28%27blue-active-mode%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20txt.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.blueStripTimer%20%3D%2023.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btn.classList.remove%28%27blue-active-mode%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20txt.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cd%20%3D%2030%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20cd%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.blueStripCD%20%3D%20cd%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.blueStripActive%29%20this.blueStripTimer%20%3D%201%20+%20Math.random%28%29%20*%209%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20this.blueStripCD%20%3D%2030%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20fireLightStrip%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.lightStripFireTimer%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20lvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.yellow%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20let%20costChance%20%3D%201.0%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20costChance%20%3D%20Math.max%280%2C%201.0%20-%20%28lvl%20*%200.05%29%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%20costChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20*%3D%200.99%3B%20%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20fireRate%20%3D%20%28this.conf.id%20%3D%3D%3D%20%27venus%27%29%20%3F%200.15%20%3A%200.55%3B%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20fireRate%20*%3D%20Math.pow%280.95%2C%20lvl%29%3B%20%0A%0A%20%20%20%20%20%20%20if%20%28this.isProbe%29%20fireRate%20%3D%200.5%3B%0A%20%20%20%20%20%20%20if%20%28this.isAgilityBoss%29%20fireRate%20%3D%201.0%3B%0A%0A%20%20%20%20%20%20%20this.lightStripFireTimer%20%3D%20fireRate%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20const%20count%20%3D%20%28this.conf.id%20%3D%3D%3D%20%27mercury%27%29%20%3F%203%20%3A%201%3B%0A%20%20%20%20%20%20%20let%20angle%20%3D%200%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28game.isMobile%29%20angle%20%3D%20Math.atan2%28game.joystick.dy%2C%20game.joystick.dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20angle%20%3D%20Math.atan2%28game.mouse.y%2C%20game.mouse.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20angle%20%3D%20this.angle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isAgilityBoss%29%20angle%20%3D%20Math.atan2%28game.player.y%20-%20this.y%2C%20game.player.x%20-%20this.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isProbe%29%20%7B%20let%20target%20%3D%20game.player%3B%20if%28target%29%20angle%20%3D%20Math.atan2%28target.y%20-%20this.y%2C%20target.x%20-%20this.x%29%3B%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3Ccount%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20fireAng%20%3D%20angle%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20dmgMult%20%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20sizeMult%20%3D%201.0%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27mercury%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28i%3D%3D%3D1%29%20%7B%20fireAng%20-%3D%200.13%3B%20dmgMult%20%3D%200.75%3B%20sizeMult%20%3D%200.7%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28i%3D%3D%3D2%29%20%7B%20fireAng%20+%3D%200.13%3B%20dmgMult%20%3D%200.75%3B%20sizeMult%20%3D%200.7%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28i%3D%3D%3D0%29%20%7B%20dmgMult%20%3D%201.25%3B%20sizeMult%20%3D%201.15%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.conf.id%20%3D%3D%3D%20%27venus%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmgMult%20%3D%200.35%3B%20fireAng%20+%3D%20%28Math.random%28%29-0.5%29*0.2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.conf.category%20%3D%3D%3D%20%27star%27%20%7C%7C%20this.conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmgMult%20%3D%202.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27betelgeuse%27%29%20dmgMult%20%3D%203.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.isProbe%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dmgMult%20%3D%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20dmgMult%20*%3D%20%281%20+%20lvl%20*%200.1%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20const%20speed%20%3D%20%28this.radius%20*%202%29%20*%208%20*%20%28this.conf.id%3D%3D%3D%27venus%27%3F1.25%3A1.0%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20game.snowballs.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20this.x%20+%20Math.cos%28fireAng%29*%28this.radius+10%29%2C%20y%3A%20this.y%20+%20Math.sin%28fireAng%29*%28this.radius+10%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vx%3A%20Math.cos%28fireAng%29*speed%2C%20vy%3A%20Math.sin%28fireAng%29*speed%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radius%3A%201%2C%20color%3A%20%28this.conf.id%3D%3D%3D%27sirius%27%3F%27%2300BFFF%27%3A%28this.conf.id%3D%3D%3D%27betelgeuse%27%20%7C%7C%20this.isProbe%20%7C%7C%20this.isAgilityBoss%20%3F%27%23ff0000%27%3A%27%23ff0%27%29%29%2C%20owner%3A%20this%2C%20life%3A%203.0%2C%20type%3A%20%27strip%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20len%3A%20this.radius%20*%20sizeMult%2C%20wid%3A%20%28this.radius/8%29%20*%20sizeMult%2C%20damage%3A%20this.score%20*%200.0175%20*%20dmgMult%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTTS%3A%20%28this.conf.id%20%3D%3D%3D%20%27tts16a%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20fireBlueStrip%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.blueStripFireTimer%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20lvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.blue%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20dmg%20%3D%201%3B%0A%20%20%20%20%20%20%20let%20cost%20%3D%201%3B%0A%20%20%20%20%20%20%20let%20costChance%20%3D%200.4%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.score%20%3E%3D%201000%29%20%7B%20dmg%20%3D%2010%3B%20cost%20%3D%207%3B%20costChance%20%3D%201.0%3B%20%7D%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%3D%20500%29%20%7B%20let%20t%20%3D%20%28this.score%20-%20500%29%20/%20500%3B%20dmg%20%3D%207%20+%20t%20*%203%3B%20cost%20%3D%205%20+%20t%20*%202%3B%20costChance%20%3D%200.75%3B%20%7D%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%3D%20200%29%20%7B%20let%20t%20%3D%20%28this.score%20-%20200%29%20/%20300%3B%20dmg%20%3D%204%20+%20t%20*%203%3B%20cost%20%3D%203%20+%20t%20*%202%3B%20costChance%20%3D%200.8%3B%20%7D%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%3D%20100%29%20%7B%20let%20t%20%3D%20%28this.score%20-%20100%29%20/%20100%3B%20dmg%20%3D%202%20+%20t%20*%202%3B%20cost%20%3D%201%20+%20t%20*%202%3B%20costChance%20%3D%200.8%3B%20%7D%0A%20%20%20%20%20%20%20else%20if%20%28this.score%20%3E%2070%29%20%7B%20dmg%20%3D%201.5%3B%20cost%20%3D%201%3B%20costChance%20%3D%200.6%3B%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20dmg%20*%3D%20%281%20+%20lvl%20*%200.08%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20costChance%20*%3D%20Math.pow%280.925%2C%20lvl%29%3B%20%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%20costChance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22-%22%20+%20Math.floor%28cost%29%2C%20%22cyan%22%2C%20this.radius*0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.score%20%3C%3D%2025%20%26%26%20%21this.isBoss%20%26%26%20%21this.isPlayer%29%20this.kill%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20fireDelay%20%3D%200.23%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20fireDelay%20*%3D%20Math.pow%280.925%2C%20lvl%29%3B%20%0A%20%20%20%20%20%20%20this.blueStripFireTimer%20%3D%20fireDelay%3B%0A%0A%20%20%20%20%20%20%20let%20angle%20%3D%20this.angle%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28game.isMobile%29%20angle%20%3D%20Math.atan2%28game.joystick.dy%2C%20game.joystick.dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20angle%20%3D%20Math.atan2%28game.mouse.y%2C%20game.mouse.x%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.aiTargetX%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20angle%20%3D%20Math.atan2%28this.aiTargetY%20-%20this.y%2C%20this.aiTargetX%20-%20this.x%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20spread%20%3D%20%28Math.random%28%29%20*%202%29%20*%20%28Math.PI%20/%20180%29%3B%0A%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.5%29%20spread%20*%3D%20-1%3B%0A%20%20%20%20%20%20%20angle%20+%3D%20spread%3B%0A%0A%20%20%20%20%20%20%20let%20len%20%3D%20%28this.radius%20*%200.45%29%3B%20%0A%20%20%20%20%20%20%20let%20wid%20%3D%20%28this.radius%20/%2015%29%3B%20%0A%20%20%20%20%20%20%20let%20speed%20%3D%20%28this.radius%20*%202%29%20*%208%20*%201.75%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20game.snowballs.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20x%3A%20this.x%20+%20Math.cos%28angle%29*%28this.radius+10%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20y%3A%20this.y%20+%20Math.sin%28angle%29*%28this.radius+10%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20vx%3A%20Math.cos%28angle%29*speed%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20vy%3A%20Math.sin%28angle%29*speed%2C%0A%20%20%20%20%20%20%20%20%20%20%20radius%3A%201%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20color%3A%20%27%2300BFFF%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20owner%3A%20this%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20life%3A%202.0%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20type%3A%20%27strip%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20len%3A%20len%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20wid%3A%20wid%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20damage%3A%20dmg%2C%0A%20%20%20%20%20%20%20%20%20%20%20isTTS%3A%20false%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20fireBlueBullet%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.blueBulletCD%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20let%20baseCD%20%3D%2040%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20baseCD%20*%3D%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20this.blueBulletCD%20%3D%20baseCD%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20target%20%3D%20null%2C%20minD%3D9999%3B%0A%20%20%20%20%20%20%20let%20searchRad%20%3D%202000%3B%0A%20%20%20%20%20%20%20if%20%28this.isHunter%29%20searchRad%20%3D%204000%3B%0A%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28e%21%3D%3Dthis%20%26%26%20e.alive%20%26%26%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20searchRad%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%3DMath.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%20if%28d%3CminD%29%7BminD%3Dd%3B%20target%3De%3B%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28%21target%20%26%26%20this.isPlayer%29%20%7B%20target%20%3D%20%7Bx%3A%20this.x%20+%20Math.cos%28this.angle%29*500%2C%20y%3A%20this.y%20+%20Math.sin%28this.angle%29*500%2C%20alive%3Afalse%7D%3B%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28target%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20spd%20%3D%20%28this.radius%20*%202%29%20*%208%20*%20%28this.conf.id%3D%3D%3D%27jupiter%27%3F0.9%3A1.85%29%20*%201.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.atan2%28target.y-this.y%2C%20target.x-this.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20bType%20%3D%20%27blueBullet%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20bColor%20%3D%20%27%230ff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.bulletType%20%3D%3D%3D%20%27frozen%27%29%20%7B%20bType%20%3D%20%27frozenBullet%27%3B%20bColor%20%3D%20%27%230ff%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.bulletType%20%3D%3D%3D%20%27green%27%29%20%7B%20bType%20%3D%20%27poison%27%3B%20bColor%20%3D%20%27%2332CD32%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.bulletType%20%3D%3D%3D%20%27red%27%29%20%7B%20bType%20%3D%20%27explosive%27%3B%20bColor%20%3D%20%27%23FF4500%27%3B%20spd%20/%3D%201.5%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.bulletType%20%3D%3D%3D%20%27blue%27%29%20%7B%20bType%20%3D%20%27blueBullet%27%3B%20bColor%20%3D%20%27%2300BFFF%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20game.snowballs.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Athis.x%2C%20y%3Athis.y%2C%20vx%3AMath.cos%28ang%29*spd%2C%20vy%3AMath.sin%28ang%29*spd%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radius%3A1%2C%20color%3AbColor%2C%20owner%3Athis%2C%20life%3A%28bType%3D%3D%3D%27explosive%27%3F3.0%3A2.5%29%2C%20type%3AbType%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20len%3Athis.radius%2C%20wid%3Athis.radius/8%2C%20damage%3A0%2C%20target%3Atarget%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20fireVampire%28%29%20%7B%0A%20%20%20%20%20%20%20if%28this.vampireFireCD%20%3E%200%20%7C%7C%20this.vampireStock%20%3C%3D%200%29%20return%3B%0A%20%20%20%20%20%20%20this.vampireStock--%3B%0A%20%20%20%20%20%20%20this.vampireFireCD%20%3D%201.0%3B%0A%20%20%20%20%20%20%20let%20target%20%3D%20null%2C%20minD%3D9999%3B%0A%20%20%20%20%20%20%20let%20searchRad%20%3D%202000%3B%0A%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28e%21%3D%3Dthis%20%26%26%20e.alive%20%26%26%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20searchRad%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%3DMath.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%20if%28d%3CminD%29%7BminD%3Dd%3B%20target%3De%3B%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28%21target%20%26%26%20this.isPlayer%29%20target%20%3D%20%7Bx%3Athis.x+Math.cos%28this.angle%29*500%2C%20y%3Athis.y+Math.sin%28this.angle%29*500%2C%20alive%3Afalse%7D%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28target%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20spd%20%3D%20%28%28this.radius%20*%202%29%20*%208%20*%201.2%29%20/%201.25%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20Math.atan2%28target.y-this.y%2C%20target.x-this.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20size%20%3D%20%28this.radius/2%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20dmgSnapshot%20%3D%20this.score%20*%200.09%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28isNaN%28dmgSnapshot%29%29%20dmgSnapshot%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20game.snowballs.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Athis.x%2C%20y%3Athis.y%2C%20vx%3AMath.cos%28ang%29*spd%2C%20vy%3AMath.sin%28ang%29*spd%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radius%3Asize%2C%20color%3A%27%23f00%27%2C%20owner%3Athis%2C%20life%3A3.0%2C%20type%3A%27vampire%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20damageSnapshot%3A%20dmgSnapshot%2C%20target%3Atarget%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20fireSnowball%28dx%2C%20dy%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.ammo%20%3E%200%20%26%26%20this.fireTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.ammo--%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.fireTimer%20%3D%201.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28dy%2C%20dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20size%20%3D%20this.radius%20/%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.snowball%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20finalSize%20%3D%20size%20*%20%281%20+%20lvl%20*%200.075%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20color%20%3D%20%27%23eeeeee%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27mercury%27%29%20color%20%3D%20%27%23887766%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.id%20%3D%3D%3D%20%27venus%27%29%20color%20%3D%20%27%23ddaa00%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.id%20%3D%3D%3D%20%27earth%27%29%20color%20%3D%20%27%23ffffff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.type%20%3D%3D%3D%201%20%7C%7C%20this.conf.type%20%3D%3D%3D%203%20%7C%7C%20this.isBoss%29%20color%20%3D%20this.conf.color%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27countryballs%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%20%3D%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20const%20speed%20%3D%20%28this.radius%20*%202%29%20*%208%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20game.snowballs.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20this.x%20+%20Math.cos%28angle%29%20*%20%28this.radius%20+%2010%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20this.y%20+%20Math.sin%28angle%29%20*%20%28this.radius%20+%2010%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vx%3A%20Math.cos%28angle%29%20*%20speed%2C%20vy%3A%20Math.sin%28angle%29%20*%20speed%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20radius%3A%20finalSize%2C%20color%3A%20color%2C%20owner%3A%20this%2C%20life%3A%203.0%2C%20type%3A%20%28this.conf.id%3D%3D%3D%27earth%27%3F%27homing%27%3A%27normal%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20damage%3A%20this.score%20*%200.05%2C%20target%3A%20%28this.isPlayer%20%3F%20null%20%3A%20game.player%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isTTS%3A%20%28this.conf.id%20%3D%3D%3D%20%27tts16a%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20applyFrozenEffect%28color%2C%20hard%3Dfalse%29%20%7B%0A%20%20%20%20%20%20%20if%20%28game.mod.immunity%20%3E%3D%20100%20%26%26%20this.isPlayer%29%20return%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20cost%20%3D%20this.score%20*%200.02%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isAnomalyBot%29%20%7B%20cost%20*%3D%205.0%3B%20hard%20%3D%20true%3B%20%7D%20%0A%0A%20%20%20%20%20%20%20this.score%20-%3D%20cost%3B%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22-%22%20+%20Math.floor%28cost%29%2C%20%22red%22%2C%20this.radius*0.6%29%3B%0A%20%20%20%20%20%20%20this.slowTimer%20%3D%20hard%20%3F%205.0%20%3A%203.0%3B%20%0A%20%20%20%20%20%20%20this.frozenEffectTimer%20%3D%20hard%20%3F%205.0%20%3A%205.0%3B%20%0A%20%20%20%20%20%20%20this.frozenColor%20%3D%20color%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20ui.notify%28%22%u0417%u0410%u041C%u041E%u0420%u041E%u0417%u041A%u0410%21%22%29%3B%0A%20%20%20%7D%0A%20%20%20applyPoisonEffect%28owner%29%20%7B%0A%20%20%20%20%20%20%20if%20%28game.mod.immunity%20%3E%3D%20100%20%26%26%20this.isPlayer%29%20return%3B%0A%20%20%20%20%20%20%20this.poisonTimer%20%3D%2012.0%3B%20%0A%20%20%20%20%20%20%20this.poisonOwner%20%3D%20owner%3B%0A%20%20%20%20%20%20%20this.poisonTick%20%3D%200%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20ui.notify%28%22%u041E%u0422%u0420%u0410%u0412%u041B%u0415%u041D%u0418%u0415%21%22%29%3B%0A%20%20%20%7D%0A%20%20%20autoFire%28game%29%20%7B%0A%20%20%20%20%20%20%20if%28this.ammo%20%3E%200%20%26%26%20this.fireTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20target%20%3D%20null%3B%20let%20minD%20%3D%201200%3B%0A%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%20%3D%3D%3D%20this%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28d%20%3C%20minD%29%20%7B%20minD%20%3D%20d%3B%20target%20%3D%20e%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%28target%29%20this.fireSnowball%28target.x-this.x%2C%20target.y-this.y%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20spawnMoon%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.moonCD%20%3E%200%20%26%26%20this.conf.id%20%21%3D%3D%20%27mercury%27%29%20return%3B%0A%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27mercury%27%29%20%7B%20this.addScore%2830%29%3B%20if%28this.isPlayer%29%20ui.notify%28%22%u0423%20%u041C%u0435%u0440%u043A%u0443%u0440%u0438%u044F%20%u043D%u0435%u0442%20%u0441%u043F%u0443%u0442%u043D%u0438%u043A%u0430%21%22%29%3B%20return%3B%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.moonCD%20%3D%2020%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27venus%27%20%26%26%20this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u0423%20%u0412%u0435%u043D%u0435%u0440%u044B%20%u043D%u0435%u0442%20%u0441%u043F%u0443%u0442%u043D%u0438%u043A%u043E%u0432%21%22%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20count%20%3D%201%3B%20%0A%20%20%20%20%20%20%20let%20speed%20%3D%20%282*Math.PI%29/4.5%3B%0A%20%20%20%20%20%20%20let%20color%20%3D%20%27%23888%27%3B%0A%20%20%20%20%20%20%20let%20mRadius%20%3D%20this.radius%20*%200.3%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27sun%27%29%20count%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.moons.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20angle%3A%200%2C%20dist%3A%20this.radius%20*%203%2C%20radius%3A%20mRadius%2C%20speed%3A%20speed%2C%20color%3A%20color%2C%20revs%3A%200%2C%20maxRevs%3A%205%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20update%28game%2C%20dt%29%20%7B%0A%20%20%20%20%20%20%20if%28isNaN%28this.score%29%29%20this.score%20%3D%2050%3B%0A%0A%20%20%20%20%20%20%20//%20Passive%20Score%0A%20%20%20%20%20%20%20if%20%28game.mod.passiveScorePlayer%20%3E%200%20%26%26%20this.isPlayer%20%26%26%20this.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.addScore%28game.mod.passiveScorePlayer%20*%20dt%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28game.mod.passiveScoreBot%20%3E%200%20%26%26%20%21this.isPlayer%20%26%26%20%21this.isBoss%20%26%26%20this.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.addScore%28game.mod.passiveScoreBot%20*%20dt%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isAnomalyBot%20%26%26%20this.scoreBuffer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20maxDrain%20%3D%20100%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20drain%20%3D%20Math.min%28this.scoreBuffer%2C%20maxDrain%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20+%3D%20drain%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.scoreBuffer%20-%3D%20drain%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20this.activeEffects.cashbackAmount%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20tick%20%3D%20%28this.activeEffects.cashbackAmount%20/%2010%29%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.activeEffects.cashbackAmount%20-%3D%20tick%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.addScore%28tick%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28this.dmgTextTimer%20%3E%200%29%20this.dmgTextTimer%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20for%20%28let%20k%20in%20this.activeEffects%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28k%20%3D%3D%3D%20%27cashbackAmount%27%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.activeEffects%5Bk%5D%20%3E%200%29%20this.activeEffects%5Bk%5D%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.cooldownTimer%20%3E%200%29%20this.cooldownTimer%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.fireTimer%20%3E%200%29%20this.fireTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.ammo%20%3C%20this.maxAmmo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.reloadTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.reloadTimer%20%3E%3D%20this.reloadTime%29%20%7B%20this.ammo++%3B%20this.reloadTimer%20%3D%200%3B%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20ui.updateAmmo%28this.ammo%2C%20this.maxAmmo%2C%20this.reloadTimer%2C%20this.reloadTime%29%3B%0A%0A%20%20%20%20%20%20%20if%28this.shieldActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20sLvl%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20sLvl%20%3D%20%28ui.data.abilityLevels%20%26%26%20ui.data.abilityLevels.shield%29%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20duration%20%3D%2015%20+%20%28sLvl%20*%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20decay%20%3D%20this.maxShieldHp%20/%20duration%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.shieldHp%20-%3D%20decay%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.shieldHp%20%3C%3D%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.shieldActive%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.shieldCD%20%3E%200%29%20this.shieldCD%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%28this.lightStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.lightStripTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.lightStripTimer%20%3C%3D%200%29%20this.toggleLightStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.mouse.down%20%7C%7C%20game.aimJoy.active%20%7C%7C%20%28game.isMobile%20%26%26%20game.joystick.active%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fireLightStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.isProbe%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fireLightStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.lightStripFireTimer%20%3E%200%29%20this.lightStripFireTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%28this.lightStripCD%20%3E%200%29%20this.lightStripCD%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%28this.blueStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.blueStripTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.blueStripTimer%20%3C%3D%200%29%20this.toggleBlueStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.mouse.down%20%7C%7C%20game.aimJoy.active%20%7C%7C%20%28game.isMobile%20%26%26%20game.joystick.active%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fireBlueStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.fireBlueStrip%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28this.blueStripFireTimer%20%3E%200%29%20this.blueStripFireTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.blueStripCD%20%3E%200%29%20this.blueStripCD%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%28this.blueBulletCD%20%3E%200%29%20this.blueBulletCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%28this.vampireTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.vampireStock%20%3C%205%29%20%7B%20this.vampireStock++%3B%20this.vampireTimer%20%3D%205%3B%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20this.vampireTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%28this.vampireFireCD%20%3E%200%29%20this.vampireFireCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.vampireDot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.vampireDot.timer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.vampireDot.tickAccumulator%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.vampireDot.tickAccumulator%20%3E%3D%201.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.vampireDot.tickAccumulator%20-%3D%201.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tickDmg%20%3D%20this.vampireDot.total%20/%203.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28isNaN%28tickDmg%29%29%20tickDmg%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.takeDamage%28tickDmg%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22-%22%20+%20Math.floor%28tickDmg%29%2C%20%22darkred%22%2C%20this.radius*0.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.vampireDot.owner%20%26%26%20this.vampireDot.owner.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20heal%20%3D%20tickDmg%20*%200.6%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21isNaN%28heal%29%29%20this.vampireDot.owner.addScore%28heal%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.vampireDot.timer%20%3C%3D%200%29%20this.vampireDot%20%3D%20null%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28this.iceSwordActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.iceSwordTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.iceSwordTimer%20%3C%202.5%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.iceSwordSpeed%20%3D%20%28this.iceSwordTimer/2.5%29%20*%20%28Math.PI*9%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.iceSwordTimer%20%3C%205.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.iceSwordSpeed%20%3D%20%28Math.PI*9%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.iceSwordSpeed%20%3D%20Math.max%280%2C%20%28Math.PI*9%29%20*%20%281%20-%20%28this.iceSwordTimer%20-%205.0%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.iceSwordTimer%20%3E%205.0%29%20this.iceSwordActive%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20this.iceSwordAngle%20+%3D%20this.iceSwordSpeed%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20const%20length%20%3D%20this.radius%20*%206%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20points%20%3D%205%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%21%3D%3Dthis%20%26%26%20e.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hit%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D1%3B%20i%3C%3Dpoints%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pDist%20%3D%20%28length%20/%20points%29%20*%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20px%20%3D%20this.x%20+%20Math.cos%28this.iceSwordAngle%29*pDist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20py%20%3D%20this.y%20+%20Math.sin%28this.iceSwordAngle%29*pDist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.hypot%28e.x-px%2C%20e.y-py%29%20%3C%20e.radius%20+%2010%29%20%7B%20hit%20%3D%20true%3B%20break%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hit%29%20e.takeDamage%28e.score%20*%200.015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.iceSwordCD%20%3E%200%29%20this.iceSwordCD%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.gravityManeuverActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%21%3D%3Dthis%20%26%26%20e.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.mod.immunity%20%3E%3D%20100%20%26%26%20e.isPlayer%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dist%20%3D%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dist%20%3C%20this.gravityManeuverRadius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pullSpeed%20%3D%20%28this.radius%20*%202%20/%203%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isPhoenix%29%20pullSpeed%20%3D%20%28this.radius%20*%204%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20angle%20%3D%20Math.atan2%28this.y-e.y%2C%20this.x-e.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20+%3D%20Math.cos%28angle%29%20*%20pullSpeed%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.y%20+%3D%20Math.sin%28angle%29%20*%20pullSpeed%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.slowTimer%20%3D%200.2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.gravityManeuverTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.isPhoenix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isPlayer%29%20this.gravityManeuverCD%20%3D%2040%20*%20game.getCooldownMult%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.isTON618%29%20this.gravityManeuverCD%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20s%20%3D%20game.bossStage%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverCD%20%3D%20Math.max%285%2C%2020%20-%20s*1.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverCD%20%3D%2040%20+%20Math.random%28%29*160%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.gravityManeuverCD%20%3E%200%20%26%26%20%21this.gravityManeuverActive%29%20this.gravityManeuverCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.cleanseCD%20%3E%200%29%20this.cleanseCD%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.score%20%3C%3D%2045%20%26%26%20%21this.isBoss%20%26%26%20%21this.isZombie%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.decayTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.decayTimer%20%3E%201.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.decayTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.score%20%3C%3D%2025%29%20this.kill%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20decayMult%20%3D%201.25%3B%20%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20immLvl%20%3D%20ui.data.upgradeImmunity%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28immLvl%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20bonus%20%3D%200.05%20*%20Math.pow%281.5%2C%20immLvl%20-%201%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20decayMult%20+%3D%20bonus%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.frozenEffectTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.frozenEffectTimer%20-%3D%20dt%20*%20decayMult%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.frozenDoTTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.frozenDoTTimer%20%3E%3D%201.0%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20this.score%20*%200.01%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%20dmg%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22-%22%20+%20Math.floor%28dmg%29%2C%20%22red%22%2C%20this.radius*0.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.frozenDoTTimer%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20hud%20%3D%20document.getElementById%28%27frozenHud%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.frozenEffectTimer%20%3E%200%29%20%7B%20hud.style.display%20%3D%20%27flex%27%3B%20document.getElementById%28%27frozenTimerVal%27%29.innerText%20%3D%20this.frozenEffectTimer.toFixed%281%29%3B%20%7D%20else%20%7B%20hud.style.display%20%3D%20%27none%27%3B%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20//%20Poison%20Logic%0A%20%20%20%20%20%20%20if%20%28this.poisonTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.poisonTimer%20-%3D%20dt%20*%20decayMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.poisonTick%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.poisonTick%20%3E%3D%201.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.poisonTick%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20Math.min%28300%2C%201%20*%20%28this.score%20%3E%200%20%3F%201%20%3A%200%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%20dmg%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20game.showFloatingText%28this.x%2C%20this.y%20-%20this.radius%2C%20%22-%22%20+%20dmg%2C%20%22green%22%2C%20this.radius*0.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.burnTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.burnTimer%20-%3D%20dt%20*%20decayMult%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20this.score%20*%200.1%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%20dmg%3B%20%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28this.damageTimer%20%3E%200%29%20this.damageTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.eatingColorTimer%20%3E%200%29%20this.eatingColorTimer%20-%3D%20dt%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.moonCD%20%3E%200%29%20this.moonCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.greatImpactCD%20%3E%200%29%20this.greatImpactCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.rayCD%20%3E%200%29%20this.rayCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20if%20%28this.slowTimer%20%3E%200%29%20this.slowTimer%20-%3D%20dt%20*%20decayMult%3B%0A%0A%20%20%20%20%20%20%20if%20%28this.isRussianEmpire%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.flagSwapTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.flagSwapTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.reState%20%3D%20%21this.reState%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.flagSwapTimer%20%3D%203.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.conf.reState%20%3D%20this.reState%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.texture%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isFlorant%20%26%26%20this.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.tentacleSpawned%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3C8%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ang%20%3D%20%28i%20/%208%29%20*%20Math.PI%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tx%20%3D%20this.x%20+%20Math.cos%28ang%29%20*%20%28this.radius%20+%20300%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ty%20%3D%20this.y%20+%20Math.sin%28ang%29%20*%20%28this.radius%20+%20300%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tent%20%3D%20new%20Entity%28tx%2C%20ty%2C%20%7Bcolor%3A%27%23006400%27%2C%20detail%3A%27%2332CD32%27%2C%20type%3A1%7D%2C%20false%2C%20%22%u0429%u0443%u043F%u0430%u043B%u044C%u0446%u0435%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tent.score%20%3D%20this.score%20*%200.15%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tent.isTentacle%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tent.owner%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.entities.push%28tent%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.tentacleSpawned%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ui.notify%28%22%u041F%u041B%u0410%u041D%u0422%u0415%u0420%u0410%20%u041E%u0422%u0420%u0410%u0421%u0422%u0418%u041B%u0410%20%u0429%u0423%u041F%u0410%u041B%u042C%u0426%u0410%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20mBtn%20%3D%20document.getElementById%28%27btnMoon%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.moonCD%20%3E%200%29%20%7B%20mBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdMoon%27%29.innerText%20%3D%20Math.ceil%28this.moonCD%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20mBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdMoon%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gBtn%20%3D%20document.getElementById%28%27btnGreat%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.greatImpactCD%20%3E%200%29%20%7B%20gBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdGreat%27%29.innerText%20%3D%20Math.ceil%28this.greatImpactCD%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20gBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdGreat%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rBtn%20%3D%20document.getElementById%28%27btnRay%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.rayCD%20%3E%200%29%20%7B%20rBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdRay%27%29.innerText%20%3D%20Math.ceil%28this.rayCD%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20rBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdRay%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sBtn%20%3D%20document.getElementById%28%27btnShield%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.shieldCD%20%3E%200%29%20%7B%20sBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdShield%27%29.innerText%20%3D%20Math.ceil%28this.shieldCD%29%3B%20%7D%20else%20%7B%20sBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdShield%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20iBtn%20%3D%20document.getElementById%28%27btnIceSword%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.iceSwordCD%20%3E%200%29%20%7B%20iBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdIceSword%27%29.innerText%20%3D%20Math.ceil%28this.iceSwordCD%29%3B%20%7D%20else%20%7B%20iBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdIceSword%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bBtn%20%3D%20document.getElementById%28%27btnBlueBullet%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.blueBulletCD%20%3E%200%29%20%7B%20bBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdBlueBullet%27%29.innerText%20%3D%20Math.ceil%28this.blueBulletCD%29%3B%20%7D%20else%20%7B%20bBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdBlueBullet%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20grvBtn%20%3D%20document.getElementById%28%27btnGrav%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.gravityManeuverCD%20%3E%200%29%20%7B%20grvBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdGrav%27%29.innerText%20%3D%20Math.ceil%28this.gravityManeuverCD%29%3B%20%7D%20else%20%7B%20grvBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdGrav%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20clnBtn%20%3D%20document.getElementById%28%27btnCleanse%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.cleanseCD%20%3E%200%29%20%7B%20clnBtn.classList.add%28%27cd%27%29%3B%20document.getElementById%28%27cdCleanse%27%29.innerText%20%3D%20Math.ceil%28this.cleanseCD%29%3B%20%7D%20else%20%7B%20clnBtn.classList.remove%28%27cd%27%29%3B%20document.getElementById%28%27cdCleanse%27%29.innerText%20%3D%20%22%22%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27stockVampire%27%29.innerText%20%3D%20this.vampireStock%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20stripBtn%20%3D%20document.getElementById%28%27btnStrip%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.lightStripActive%29%20stripBtn.classList.add%28%27active-mode%27%29%3B%20else%20stripBtn.classList.remove%28%27active-mode%27%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.greatImpactState%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.greatImpactState%20%3D%3D%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.useWave%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.greatImpactState%20%3D%202%3B%20this.greatImpactTimer%20%3D%200.325%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.greatImpactState%20%3D%3D%3D%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.greatImpactTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.greatImpactTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.useWave%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.greatImpactState%20%3D%203%3B%20this.greatImpactTimer%20%3D%200.325%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28this.greatImpactState%20%3D%3D%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.greatImpactTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.greatImpactTimer%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.useWave%28true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.greatImpactState%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.rayState%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.rayTimer%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.rayState%20%3D%3D%3D%201%20%26%26%20this.rayTimer%20%3C%3D%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.rayState%20%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.rayTimer%20%3D%20%28this.conf.category%3D%3D%3D%27star%27%20%7C%7C%20this.conf.id%3D%3D%3D%27tts16a%27%20%7C%7C%20this.isPhoenix%20%7C%7C%20this.isTON618%20%7C%7C%20this.isSgrA%29%3F6.0%3A3.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.rayState%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.rayTimer%20%3C%3D%200%29%20this.rayState%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20rayLen%20%3D%20this.radius%20*%2015%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ex%20%3D%20this.x%20+%20Math.cos%28this.rayAngle%29%20*%20rayLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ey%20%3D%20this.y%20+%20Math.sin%28this.rayAngle%29%20*%20rayLen%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%20%21%3D%3D%20this%20%26%26%20e.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20e.team%20%3D%3D%3D%20this.team%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28this.isPlayer%20%26%26%20e.isCentralCore%29%20%7C%7C%20%28this.isCentralCore%20%26%26%20e.isPlayer%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.team%20%3D%3D%3D%20this.team%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20distToEnt%20%3D%20Math.hypot%28e.x%20-%20this.x%2C%20e.y%20-%20this.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28distToEnt%20%3E%20rayLen%20+%20e.radius%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20num%20%3D%20Math.abs%28%28ey%20-%20this.y%29*e.x%20-%20%28ex%20-%20this.x%29*e.y%20+%20ex*this.y%20-%20ey*this.x%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20den%20%3D%20Math.sqrt%28Math.pow%28ey%20-%20this.y%2C%202%29%20+%20Math.pow%28ex%20-%20this.x%2C%202%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28den%20%3E%200%20%26%26%20num/den%20%3C%20e.radius%20+%20this.radius/4%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20e.score%20*%200.06%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.category%20%3D%3D%3D%20%27star%27%20%7C%7C%20this.conf.id%20%3D%3D%3D%20%27tts16a%27%29%20dmg%20*%3D%202.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.conf.id%20%3D%3D%3D%20%27betelgeuse%27%29%20dmg%20*%3D%202.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isTON618%29%20dmg%20%3D%20e.score%20*%200.20%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPhoenix%20%7C%7C%20this.isSgrA%29%20dmg%20%3D%20e.score%20*%200.40%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e.shieldActive%29%20dmg%20/%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27ray%27%29%29%20dmg%20*%3D%201.1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.isSpectral%20%7C%7C%20this.isAnomaly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20range%20%3D%20this.radius%20*%20%28this.isAnomaly%20%3F%204%20%3A%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%21%3D%3Dthis%20%26%26%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20range%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20e.score%20*%200.1%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.isAnomaly%29%20dmg%20%3D%20e.score%20*%200.1%20*%2025%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%2C%20true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20for%20%28let%20i%20%3D%20this.moons.length%20-%201%3B%20i%3E%3D0%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20m%20%3D%20this.moons%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20m.angle%20+%3D%20m.speed%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28m.angle%20%3E%3D%20Math.PI%20*%202%20*%20%28m.revs%20+%201%29%29%20m.revs++%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28m.revs%20%3E%3D%20m.maxRevs%29%20%7B%20this.moons.splice%28i%2C1%29%3B%20continue%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20m.x%20%3D%20this.x%20+%20Math.cos%28m.angle%29%20*%20m.dist%3B%20m.y%20%3D%20this.y%20+%20Math.sin%28m.angle%29%20*%20m.dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28m.isLaser%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20nearest%20%3D%20null%3B%20let%20minD%20%3D%209999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%21%3D%3Dthis%20%26%26%20%21e.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28e.x-m.x%2C%20e.y-m.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%3CminD%20%26%26%20d%3C1000%29%20%7B%20minD%3Dd%3B%20nearest%3De%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nearest%20%26%26%20Math.random%28%29%3C0.1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nearest.takeDamage%28nearest.score%20*%200.05%20*%20dt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%20%21%3D%3D%20this%20%26%26%20Math.hypot%28e.x%20-%20m.x%2C%20e.y%20-%20m.y%29%20%3C%20e.radius%20+%20m.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20e.team%20%3D%3D%3D%20this.team%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27save_life%27%20%26%26%20%28%28this.isPlayer%20%26%26%20e.isCentralCore%29%20%7C%7C%20%28e.isPlayer%20%26%26%20this.isCentralCore%29%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.moon%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%203.%20Moon%20Damage%20x20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20baseDmg%20%3D%20e.score%20*%20%280.025%20+%20lvl*0.01%29%20*%20dt%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20baseDmg%20*%3D%2020%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27moon%27%29%29%20baseDmg%20*%3D%201.1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.dmgMult%29%20baseDmg%20*%3D%20m.dmgMult%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m.isStar%29%20baseDmg%20%3D%20500%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%204.%20Show%20damage%20numbers%20%28silent%20%3D%20false%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28baseDmg%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.isBoss%20%26%26%20this.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.damageTakenTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.damageTakenTimer%20%3E%203.0%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.regenTimer%20+%3D%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.regenTimer%20%3E%3D%201.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.regenTimer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.isProbe%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20regen%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20s%20%3D%20game.bossStage%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s%3D%3D%3D1%29%20regen%3D25%3B%20else%20if%28s%3D%3D%3D2%29%20regen%3D50%3B%20else%20if%28s%3D%3D%3D3%29%20regen%3D75%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28s%3D%3D%3D4%29%20regen%3D100%3B%20else%20if%28s%3D%3D%3D5%29%20regen%3D125%3B%20else%20if%28s%3D%3D%3D6%29%20regen%3D162%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28s%3D%3D%3D7%29%20regen%3D250%3B%20else%20regen%3D250%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.addScore%28regen%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isPhoenix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverTimer%20%3D%209999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.gravityManeuverRadius%20%3D%20this.radius%20*%206%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.gravityManeuverCD%20%3C%3D%200%20%26%26%20%21this.gravityManeuverActive%20%26%26%20this.bossState%20%3D%3D%3D%200%20%26%26%20%21this.isPhoenix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20hasEnemies%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21e.isBoss%20%26%26%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20this.radius*6%29%20%7B%20hasEnemies%3Dtrue%3B%20break%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hasEnemies%29%20this.useGravityManeuver%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20if%28this.waveCD%20%3E%200%29%20this.waveCD%20-%3D%20dt%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20for%20%28let%20i%20%3D%20this.waves.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20w%20%3D%20this.waves%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.wave%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28w.isGreat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20tLvl%20%3D%20%28this.isPlayer%20%3F%20%28ui.data.abilityLevels%3F.triple%20%7C%7C%200%29%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lvl%20%3D%20tLvl%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20let%20speed%20%3D%20300%20*%20%281%20+%20lvl*0.10%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20baseMaxR%20%3D%20this.radius%20*%2010.56%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20maxR%20%3D%20baseMaxR%20*%20%281%20+%20lvl*0.15%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20damageFactor%20%3D%200.05%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isBoss%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20%3D%20195%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxR%20%3D%20this.radius%20*%2023.04%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20damageFactor%20%3D%200.05%20*%20Math.pow%281.5%2C%20game.bossStage%20-%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28this.conf.category%20%3D%3D%3D%20%27star%27%20%7C%7C%20this.conf.id%20%3D%3D%3D%20%27tts16a%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxR%20*%3D%202%3B%20damageFactor%20*%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28w.isGreat%29%20%7B%20speed%20*%3D%201.55%3B%20maxR%20*%3D%201.25%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20w.maxR%20%3D%20maxR%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20w.r%20+%3D%20speed%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20w.alpha%20%3D%201%20-%20%28w.r%20/%20maxR%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28w.r%20%3E%20maxR%29%20%7B%20this.waves.splice%28i%2C%201%29%3B%20continue%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%20%21%3D%3D%20this%20%26%26%20Math.hypot%28e.x%20-%20this.x%2C%20e.y%20-%20this.y%29%20%3C%20w.r%20+%20e.radius%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27team%27%20%26%26%20e.team%20%3D%3D%3D%20this.team%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%27save_life%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28this.isPlayer%20%26%26%20e.isCentralCore%29%20%7C%7C%20%28this.isCentralCore%20%26%26%20e.isPlayer%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.team%20%3D%3D%3D%20this.team%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.arenaMode%20%3D%3D%3D%20%275vs1%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isBigBoss%20%26%26%20e.isBigBoss%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.isBigBoss%20%26%26%20%21e.isBigBoss%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.hypot%28e.x%20-%20this.x%2C%20e.y%20-%20this.y%29%20%3E%20w.r%20-%2020%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dmg%20%3D%20e.score%20*%20damageFactor%20*%20dt%20*%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28w.isGreat%29%20dmg%20*%3D%201.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27wave%27%29%20%26%26%20%21w.isGreat%29%20dmg%20*%3D%201.1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.loadout.buffedWeapons.includes%28%27great%27%29%20%26%26%20w.isGreat%29%20dmg%20*%3D%201.1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.takeDamage%28dmg%2C%20true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.slowTimer%20%3C%3D%200%29%20e.slowTimer%20%3D%205.0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%20ui.updateTimer%28this.activeEffects%29%3B%20this.isSprinting%20%3D%20game.isSprinting%3B%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20safeScore%20%3D%20Math.max%280%2C%20this.score%29%3B%0A%20%20%20%20%20%20%20let%20scale%20%3D%201%20+%20Math.sqrt%28safeScore%29%20*%200.15%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20targetR%20%3D%20CONFIG.baseSize%20*%20scale%3B%0A%20%20%20%20%20%20%20if%28this.activeEffects%20%26%26%20this.activeEffects.grow%20%3E%200%29%20targetR%20*%3D%201.4%3B%0A%20%20%20%20%20%20%20this.radius%20+%3D%20%28targetR%20-%20this.radius%29%20*%202%20*%20dt%3B%0A%0A%20%20%20%20%20%20%20let%20speed%20%3D%20%28%282500%20/%20%28Math.pow%28this.radius%2C%200.4%29%20+%205%29%29%20*%20game.matchSpeedFactor%29%3B%0A%20%20%20%20%20%20%20let%20sMod%20%3D%20%28this.activeEffects%20%26%26%20this.activeEffects.speed%20%3E%200%29%20%3F%201.15%20%3A%201%3B%20%0A%20%20%20%20%20%20%20if%20%28%21this.isPlayer%20%26%26%20this.isSprinting%29%20sMod%20*%3D%201.2%3B%0A%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27mercury%27%29%20sMod%20*%3D%201.2%3B%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27mars%27%29%20sMod%20*%3D%201.03%3B%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27jupiter%27%29%20sMod%20*%3D%200.85%3B%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27saturn%27%29%20sMod%20*%3D%200.9%3B%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27uranus%27%29%20sMod%20*%3D%200.95%3B%0A%20%20%20%20%20%20%20if%28this.conf.id%20%3D%3D%3D%20%27neptune%27%29%20sMod%20*%3D%200.97%3B%0A%20%20%20%20%20%20%20if%28this.isSgrA%29%20sMod%20*%3D%200.70%3B%20//%20-30%25%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.score%20%3E%20500%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20bonus%20%3D%20Math.min%280.40%2C%20%28this.score%20-%20500%29%20/%2029500%20*%200.40%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20sMod%20*%3D%20%281%20+%20bonus%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20sMod%20*%3D%20%281%20+%20%28this.sessionStats.speed%20*%2010%29/100%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.mod.ruleImmunity%29%20%7B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.isAgilityBoss%29%20sMod%20*%3D%200.1%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.isAnomalyBot%29%20sMod%20*%3D%200.5%3B%20%0A%0A%20%20%20%20%20%20%20if%28this.isCentralCore%29%20speed%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20speed%20*%3D%20sMod%3B%0A%0A%20%20%20%20%20%20%20if%28this.isSprinting%20%26%26%20this.score%20%3E%2020%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20boostMult%20%3D%202.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.score%3C%3D500%29%20%7B%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20accelBonus%20%3D%20Math.min%282.5%2C%20%28this.score%20-%20500%29%20/%2029500%20*%202.5%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20boostMult%20+%3D%20accelBonus%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isSgrA%29%20boostMult%20*%3D%201.28%3B%20//%20+28%25%20sprint%20speed%0A%0A%20%20%20%20%20%20%20%20%20%20%20speed%20*%3D%20boostMult%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20costFactor%20%3D%200.03%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.score%20%3E%20300%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ratio%20%3D%20Math.min%281%2C%20%28this.score%20-%20300%29%20/%2029700%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20costFactor%20%3D%200.03%20-%20%28ratio%20*%20%280.03%20-%200.002%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20cost%20%3D%20this.score%20*%20costFactor%20*%20dt%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isPlayer%20%26%26%20game.mod.ruleImmunity%29%20cost%20*%3D%200.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20this.score%20-%3D%20cost%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isSgrA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20suckRad%20%3D%20this.radius%20*%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.entities.forEach%28e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28e%20%21%3D%3D%20this%20%26%26%20e.alive%20%26%26%20Math.hypot%28e.x-this.x%2C%20e.y-this.y%29%20%3C%20suckRad%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20angle%20%3D%20Math.atan2%28this.y-e.y%2C%20this.x-e.x%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20force%20%3D%20%28this.radius%20*%201.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.x%20+%3D%20Math.cos%28angle%29%20*%20force%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.y%20+%3D%20Math.sin%28angle%29%20*%20force%20*%20dt%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.inRing%29%20speed%20*%3D%200.4%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20//%20Poison%20Slow%20Effect%0A%20%20%20%20%20%20%20if%20%28this.poisonTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20t%20%3D%2012.0%20-%20this.poisonTimer%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3C%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20slowPct%20%3D%200.40%20-%20%28t%20/%2010%29%20*%200.30%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20*%3D%20%281%20-%20slowPct%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%20%28this.frozenEffectTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this.frozenEffectTimer%20%3C%203%29%20speed%20*%3D%200.55%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20speed%20*%3D%200.35%3B%20%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20else%20if%20%28this.slowTimer%20%3E%200%29%20speed%20*%3D%200.25%3B%20%0A%0A%20%20%20%20%20%20%20if%20%28this.isBoss%20%26%26%20this.bossState%20%3D%3D%3D%202%29%20speed%20%3D%200%3B%20%0A%20%20%20%20%20%20%20if%20%28this.rayState%20%3E%200%29%20speed%20*%3D%200.62%3B%20%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28this.lightStripActive%29%20speed%20*%3D%200.25%3B%20%0A%20%20%20%20%20%20%20if%20%28this.blueStripActive%29%20speed%20*%3D%200.15%3B%20%20%0A%20%20%20%20%20%20%20this.isAiming%20%3D%20false%3B%0A%20%20%20%20%20%20%20if%20%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28game.aimJoy.active%20%7C%7C%20%28this.lightStripActive%20%26%26%20game.mouse.down%29%20%7C%7C%20%28this.blueStripActive%20%26%26%20game.mouse.down%29%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.isAiming%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this.lightStripActive%20%26%26%20%21this.blueStripActive%29%20speed%20*%3D%200.75%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20let%20dx%20%3D%200%2C%20dy%20%3D%200%3B%0A%20%20%20%20%20%20%20if%28this.isPlayer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28game.isMobile%29%20%7B%20dx%20%3D%20game.joystick.dx%3B%20dy%20%3D%20game.joystick.dy%3B%20%7D%20else%20%7B%20dx%20%3D%20game.mouse.x%3B%20dy%20%3D%20game.mouse.y%3B%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20%7B%20this.runAI%28game%2C%20dt%29%3B%20dx%20%3D%20this.vx%3B%20dy%20%3D%20this.vy%3B%20%7D%0A%20%20%20%20%20%20%20if%20%28this.isBoss%20%26%26%20this.bossState%20%3E%200%29%20%7B%20dx%20%3D%200%3B%20dy%20%3D%200%3B%20%7D%0A%0A%20%20%20%20%20%20%20if%28dx%21%3D%3D0%20%7C%7C%20dy%21%3D%3D0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20angle%20%3D%20Math.atan2%28dy%2C%20dx%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20diff%20%3D%20angle%20-%20this.angle%3B%0A%20%20%20%20%20%20%20%20%20%20%20while%20%28diff%20%3E%20Math.PI%29%20diff%20-%3D%20Math.PI*2%3B%20while%20%28diff%20%3C%20-Math.PI%29%20diff%20+%3D%20Math.PI*2%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.angle%20+%3D%20diff%20*%205%20*%20dt%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20//%202.%20Fix%20sideways%20drift%20on%20boost%20%28by%20forcing%20visual%20angle%20to%20match%20velocity%20when%20fast%29%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28this.isSprinting%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.angle%20%3D%20angle%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28speed%20%3E%205000%29%20speed%20%3D%205000%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20this.x%20+%3D%20Math.cos%28angle%29%20*%20speed%20*%20dt%20*%20%28Math.hypot%28dx%2Cdy%29%3E0.1%3F1%3A0%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.y%20+%3D%20Math.sin%28angle%29%20*%20speed%20*%20dt%20*%20%28Math.hypot%28dx%2Cdy%29%3E0.1%3F1%3A0%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28%21this.isPlayer%20%26%26%20Math.hypot%28this.x%2Cthis.y%29%20%3E%20game.zoneRadius%29%20%7B%20this.vx%20%3D%20-this.x%3B%20this.vy%20%3D%20-this.y%3B%20%7D%0A%20%20%20%7D%0A%0A%20%20%20runAI%28game%2C%20dt%29%20%7B%0A%20%20%20%20%20%20%20if%20%28this.isHunter%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20target%20%3D%20game.player%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target.alive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28Math.random%28%29%3C0.02%29%20%7B%20this.vx%20%3D%20%28Math.random%28%29-0.5%29%3B%20this.vy%20%3D%20%28Math.random%28%29-0.5%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20this.vx%20%3D%20target.x%20-%20this.x%3B%20this.vy%20%3D%20target.y%20-%20this.y%3B%0A%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28this.boostTimer%20%3E%200%29%20%7B%20this.isSprinting%20%3D%20true%3B%20this.boostTimer%20-%3D%20dt%3B%20%7D%20else%20%7B%20this.isSprinting%20%3D%20false%3B%20if%28Math.random%28%29%20%3C%200.002%29%20this.boostTimer%20%3D%201%20+%20Math.random%28%29*2%3B%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20let%20target%20%3D%20null%3B%20let%20minD%20%3D%201000%3B%0A%20%20%20%20%20%20%20for%28let%20e%20of%20game.entities%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28e%3D%3D%3Dthis%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20d%20%3D%20Math.hypot%28this.x-e.x%2C%20this.y-e.y%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28e.mass%20%3C%20this.mass%20*%200.8%20%26%26%20d%20%3C%20minD%29%20%7B%20target%20%3D%20e%3B%20minD%20%3D%20d%3B%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%28target%29%20%7B%20this.vx%20%3D%20target.x-this.x%3B%20this.vy%20%3D%20target.y-this.y%3B%20%7D%0A%20%20%20%20%20%20%20else%20%7B%20if%28Math.random%28%29%3C0.02%29%20%7B%20this.vx%20%3D%20%28Math.random%28%29-0.5%29%3B%20this.vy%20%3D%20%28Math.random%28%29-0.5%29%3B%20%7D%20%7D%0A%20%20%20%7D%0A%7D%0A%0Aclass%20UI%20%7B%0A%20%20%20constructor%28%29%20%7B%0A%20%20%20%20%20%20%20this.data%20%3D%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20coins%3A%201500%2C%20unlocked%3A%20%5B%27earth%27%5D%2C%20planet%3A%20%27earth%27%2C%20name%3A%20%27Player%27%2C%20color%3A%20%27%231E90FF%27%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20upgrades%3A%20%7B%20speed%3A%200%2C%20magnet%3A%200%2C%20grow%3A%200%2C%20bonus%3A%200%2C%20shield%3A%200%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20abilityLevels%3A%20%7B%20snowball%3A%200%2C%20wave%3A%200%2C%20moon%3A%200%2C%20yellow%3A%200%2C%20blue%3A%200%2C%20triple%3A%200%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20clicker%3A%20%7B%20level%3A%200%2C%20chanceLevel%3A%200%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20fpsSide%3A%20%27left%27%2C%20lastClaim%3A%200%2C%20joyMove%3A%20%7Bx%3A50%2Cy%3A50%2Cs%3A187.5%7D%2C%20joyAim%3A%20%7Bx%3A60%2Cy%3A60%2Cs%3A120%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20upgradeSecondChance%3A%200%2C%20upgradeAmmo%3A%200%2C%20upgradeImmunity%3A%200%2C%20upgradeCooldown%3A%200%20%0A%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20this.invCounts%20%3D%20%7B%20speed%3A%200%2C%20magnet%3A%200%2C%20grow%3A%200%2C%20bonus%3A%200%20%7D%3B%0A%20%20%20%20%20%20%20this.currentTab%20%3D%20%27planets%27%3B%0A%20%20%20%20%20%20%20this.tempMobile%20%3D%20false%3B%0A%20%20%20%20%20%20%20this.tempArenaMode%20%3D%20null%3B%0A%20%20%20%20%20%20%20this.lang%20%3D%20%27ru%27%3B%0A%20%20%20%20%20%20%20this.modChanges%20%3D%200%3B%0A%20%20%20%20%20%20%20this.tempDiff%20%3D%202%3B%20//%20Store%20difficulty%20for%20loadout%0A%20%20%20%20%20%20%20this.load%28%29%3B%20this.applyFpsSide%28%29%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27playerNameInput%27%29.addEventListener%28%27input%27%2C%20%28e%29%20%3D%3E%20%7B%20this.data.name%20%3D%20e.target.value%3B%20this.save%28%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27quoteDisplay%27%29.innerText%20%3D%20QUOTES%5BMath.floor%28Math.random%28%29*QUOTES.length%29%5D%3B%0A%20%20%20%20%20%20%20this.checkFreeCoins%28%29%3B%0A%20%20%20%20%20%20%20this.updateTexts%28%29%3B%0A%20%20%20%7D%0A%20%20%20toggleLanguage%28%29%20%7B%0A%20%20%20%20%20%20%20this.lang%20%3D%20this.lang%20%3D%3D%3D%20%27ru%27%20%3F%20%27en%27%20%3A%20%27ru%27%3B%0A%20%20%20%20%20%20%20this.updateTexts%28%29%3B%0A%20%20%20%20%20%20%20const%20btn%20%3D%20document.querySelector%28%27.lang-btn%27%29%3B%0A%20%20%20%20%20%20%20btn.innerText%20%3D%20this.lang%20%3D%3D%3D%20%27ru%27%20%3F%20%27%u0420%u0423%u0421%u0421%u041A%u0418%u0419%27%20%3A%20%27ENGLISH%27%3B%0A%20%20%20%7D%0A%20%20%20updateTexts%28%29%20%7B%0A%20%20%20%20%20%20%20const%20elems%20%3D%20document.querySelectorAll%28%27%5Bdata-lang-key%5D%27%29%3B%0A%20%20%20%20%20%20%20elems.forEach%28el%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20key%20%3D%20el.getAttribute%28%27data-lang-key%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28LANG_DATA%5Bthis.lang%5D%20%26%26%20LANG_DATA%5Bthis.lang%5D%5Bkey%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20LANG_DATA%5Bthis.lang%5D%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20ripple%28e%2C%20callback%29%20%7B%0A%20%20%20%20%20%20%20const%20btn%20%3D%20e.currentTarget%3B%20const%20circle%20%3D%20document.createElement%28%22span%22%29%3B%20const%20d%20%3D%20Math.max%28btn.clientWidth%2C%20btn.clientHeight%29%3B%0A%20%20%20%20%20%20%20circle.style.width%20%3D%20circle.style.height%20%3D%20%60%24%7Bd%7Dpx%60%3B%20circle.style.left%20%3D%20%60%24%7Be.clientX%20-%20btn.getBoundingClientRect%28%29.left%20-%20d/2%7Dpx%60%3B%20circle.style.top%20%3D%20%60%24%7Be.clientY%20-%20btn.getBoundingClientRect%28%29.top%20-%20d/2%7Dpx%60%3B%0A%20%20%20%20%20%20%20circle.classList.add%28%22ripple%22%29%3B%20const%20o%20%3D%20btn.getElementsByClassName%28%22ripple%22%29%5B0%5D%3B%20if%28o%29%20o.remove%28%29%3B%20btn.appendChild%28circle%29%3B%20setTimeout%28%28%29%20%3D%3E%20%7B%20if%28callback%29%20callback%28%29%3B%20%7D%2C%20300%29%3B%0A%20%20%20%7D%0A%20%20%20load%28%29%20%7B%20%0A%20%20%20%20%20%20%20const%20s%20%3D%20localStorage.getItem%28%27DaymixSaveV280%27%29%3B%20%0A%20%20%20%20%20%20%20if%28s%29%20this.data%20%3D%20Object.assign%28this.data%2C%20JSON.parse%28s%29%29%3B%20%0A%20%20%20%20%20%20%20if%28%21this.data.abilityLevels%29%20this.data.abilityLevels%20%3D%20%7B%20snowball%3A%200%2C%20wave%3A%200%2C%20moon%3A%200%2C%20yellow%3A%200%2C%20blue%3A%200%2C%20triple%3A%200%20%7D%3B%0A%20%20%20%20%20%20%20if%28%21this.data.clicker%29%20this.data.clicker%20%3D%20%7B%20level%3A%200%2C%20chanceLevel%3A%200%20%7D%3B%0A%20%20%20%20%20%20%20if%28typeof%20this.data.upgrades.shield%20%3D%3D%3D%20%27undefined%27%29%20this.data.upgrades.shield%20%3D%200%3B%0A%20%20%20%20%20%20%20if%28typeof%20this.data.upgradeCooldown%20%3D%3D%3D%20%27undefined%27%29%20this.data.upgradeCooldown%20%3D%200%3B%0A%20%20%20%20%20%20%20//%20Reset%20joystick%20sizes%20to%20new%20default%20if%20old%20ones%20present%0A%20%20%20%20%20%20%20if%20%28this.data.joyMove.s%20%3D%3D%3D%20150%29%20this.data.joyMove.s%20%3D%20187.5%3B%0A%20%20%20%20%20%20%20if%20%28this.data.joyAim.s%20%3D%3D%3D%20180%29%20this.data.joyAim.s%20%3D%20120%3B%0A%20%20%20%7D%0A%20%20%20save%28%29%20%7B%20localStorage.setItem%28%27DaymixSaveV280%27%2C%20JSON.stringify%28this.data%29%29%3B%20%7D%0A%20%20%20addCoins%28n%29%20%7B%20this.data.coins%20+%3D%20n%3B%20this.save%28%29%3B%20%7D%0A%20%20%20notify%28msg%29%20%7B%20const%20d%20%3D%20document.createElement%28%27div%27%29%3B%20d.className%20%3D%20%27notif-msg%27%3B%20d.innerText%20%3D%20msg%3B%20document.getElementById%28%27notif-area%27%29.appendChild%28d%29%3B%20setTimeout%28%28%29%3D%3Ed.remove%28%29%2C%201500%29%3B%20%7D%0A%20%20%20toggleFpsSide%28%29%20%7B%20this.data.fpsSide%20%3D%20this.data.fpsSide%20%3D%3D%3D%20%27right%27%20%3F%20%27left%27%20%3A%20%27right%27%3B%20this.save%28%29%3B%20this.applyFpsSide%28%29%3B%20%7D%0A%20%20%20applyFpsSide%28%29%20%7B%20const%20el%20%3D%20document.getElementById%28%27fpsCounter%27%29%2C%20btn%20%3D%20document.getElementById%28%27fpsSideBtn%27%29%3B%20if%28this.data.fpsSide%20%3D%3D%3D%20%27right%27%29%20%7B%20el.classList.add%28%27right-side%27%29%3B%20btn.innerText%20%3D%20%22Right%22%3B%20%7D%20else%20%7B%20el.classList.remove%28%27right-side%27%29%3B%20btn.innerText%20%3D%20%22Left%22%3B%20%7D%20%7D%0A%20%20%20toggleColorPicker%28%29%20%7B%20const%20p%20%3D%20document.getElementById%28%27colorPicker%27%29%3B%20p.style.display%20%3D%20p.style.display%20%3D%3D%3D%20%27flex%27%20%3F%20%27none%27%20%3A%20%27flex%27%3B%20%7D%0A%20%20%20setPlayerColor%28c%29%20%7B%20this.data.color%20%3D%20c%3B%20this.save%28%29%3B%20document.getElementById%28%27playerNameInput%27%29.style.borderColor%20%3D%20c%3B%20this.toggleColorPicker%28%29%3B%20%7D%0A%20%20%20showModeSelect%28%29%20%7B%20document.getElementById%28%27mainMenu%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27difficultyScreen%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27modeScreen%27%29.style.display%20%3D%20%27flex%27%3B%20%7D%0A%20%20%20showDifficulty%28isMob%29%20%7B%0A%20%20%20%20%20%20%20this.tempMobile%20%3D%20isMob%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27modeScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27difficultyScreen%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.diff-card%27%29.forEach%28x%3D%3Ex.classList.remove%28%27selected-diff%27%29%29%3B%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.arena-card%27%29.forEach%28x%3D%3Ex.classList.remove%28%27selected-arena%27%29%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20//%20Loadout%20Methods%0A%20%20%20showLoadout%28diff%29%20%7B%0A%20%20%20%20%20%20%20this.tempDiff%20%3D%20diff%3B%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.diff-card%27%29.forEach%28x%20%3D%3E%20x.classList.remove%28%27selected-diff%27%29%29%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27diff%27+diff%29.classList.add%28%27selected-diff%27%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27difficultyScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27loadoutScreen%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20//%20Reset%20Loadout%20UI%0A%20%20%20%20%20%20%20%20%20%20%20game.loadout.bulletType%20%3D%20%27frozen%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.loadout.buffedWeapons%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.updateLoadoutUI%28%29%3B%0A%20%20%20%20%20%20%20%7D%2C%20200%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20selectBullet%28type%29%20%7B%0A%20%20%20%20%20%20%20game.loadout.bulletType%20%3D%20type%3B%0A%20%20%20%20%20%20%20this.updateLoadoutUI%28%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20toggleWeaponBuff%28wep%29%20%7B%0A%20%20%20%20%20%20%20const%20idx%20%3D%20game.loadout.buffedWeapons.indexOf%28wep%29%3B%0A%20%20%20%20%20%20%20if%20%28idx%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20game.loadout.buffedWeapons.splice%28idx%2C%201%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28game.loadout.buffedWeapons.length%20%3C%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20game.loadout.buffedWeapons.push%28wep%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041C%u0430%u043A%u0441%u0438%u043C%u0443%u043C%203%21%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20this.updateLoadoutUI%28%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20updateLoadoutUI%28%29%20%7B%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.bullet-card%27%29.forEach%28c%20%3D%3E%20c.classList.remove%28%27selected%27%29%29%3B%0A%20%20%20%20%20%20%20const%20bCard%20%3D%20document.getElementById%28%27bullet%27%20+%20%28game.loadout.bulletType.charAt%280%29.toUpperCase%28%29%20+%20game.loadout.bulletType.slice%281%29%29%29%3B%0A%20%20%20%20%20%20%20if%28bCard%29%20bCard.classList.add%28%27selected%27%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.weapon-item%27%29.forEach%28w%20%3D%3E%20w.classList.remove%28%27selected%27%29%29%3B%0A%20%20%20%20%20%20%20game.loadout.buffedWeapons.forEach%28w%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27wep_%27+w%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28el%29%20el.classList.add%28%27selected%27%29%3B%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20startGameFromLoadout%28%29%20%7B%0A%20%20%20%20%20%20%20game.start%28this.tempMobile%2C%20this.tempDiff%29%3B%0A%20%20%20%7D%0A%0A%20%20%20setArenaMode%28mode%29%20%7B%0A%20%20%20%20%20%20%20document.querySelectorAll%28%27.arena-card%27%29.forEach%28x%20%3D%3E%20x.classList.remove%28%27selected-arena%27%29%29%3B%0A%20%20%20%20%20%20%20event.currentTarget.classList.add%28%27selected-arena%27%29%3B%0A%20%20%20%20%20%20%20this.tempArenaMode%20%3D%20mode%3B%0A%20%20%20%20%20%20%20this.showLoadout%282%29%3B%0A%20%20%20%7D%0A%20%20%20showMainMenu%28%29%20%7B%20document.getElementById%28%27modeScreen%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27difficultyScreen%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27shopScreen%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27modifierScreen%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27mainMenu%27%29.style.display%20%3D%20%27flex%27%3B%20this.checkFreeCoins%28%29%3B%20%7D%0A%20%20%20toggleSettings%28%29%20%7B%20const%20s%20%3D%20document.getElementById%28%27settings-panel%27%29%3B%20s.style.display%20%3D%20s.style.display%20%3D%3D%3D%20%27block%27%20%3F%20%27none%27%20%3A%20%27block%27%3B%20%7D%0A%20%20%20openShop%28%29%20%7B%20document.getElementById%28%27mainMenu%27%29.style.display%20%3D%20%27none%27%3B%20document.getElementById%28%27shopScreen%27%29.style.display%20%3D%20%27flex%27%3B%20this.updateShopUI%28%29%3B%20%7D%0A%20%20%20closeShop%28%29%20%7B%20this.showMainMenu%28%29%3B%20%7D%0A%20%20%20switchTab%28tab%29%20%7B%20this.currentTab%20%3D%20tab%3B%20document.querySelectorAll%28%27.tab-btn%27%29.forEach%28b%20%3D%3E%20b.classList.remove%28%27active%27%29%29%3B%20if%28document.getElementById%28%27tab%27+%28tab.charAt%280%29.toUpperCase%28%29+tab.slice%281%29%29%29%29%20document.getElementById%28%27tab%27+%28tab.charAt%280%29.toUpperCase%28%29+tab.slice%281%29%29%29.classList.add%28%27active%27%29%3B%20this.renderShopCards%28%29%3B%20%7D%0A%20%20%20updateShopUI%28%29%20%7B%20document.getElementById%28%27shopCoins%27%29.innerText%20%3D%20this.data.coins%3B%20this.renderShopCards%28%29%3B%20%7D%0A%20%20%20selectRandomPlanet%28%29%20%7B%0A%20%20%20%20%20%20%20const%20owned%20%3D%20PLANETS.filter%28p%20%3D%3E%20this.data.unlocked.includes%28p.id%29%29%3B%0A%20%20%20%20%20%20%20if%28owned.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20r%20%3D%20owned%5BMath.floor%28Math.random%28%29%20*%20owned.length%29%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.selectPlanet%28r.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u0412%u044B%u0431%u0440%u0430%u043D%u043E%3A%20%22%20+%20r.name%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20sellPlanet%28id%2C%20event%29%20%7B%0A%20%20%20%20%20%20%20event.stopPropagation%28%29%3B%0A%20%20%20%20%20%20%20const%20p%20%3D%20PLANETS.find%28x%20%3D%3E%20x.id%20%3D%3D%3D%20id%29%3B%0A%20%20%20%20%20%20%20if%20%28p%20%26%26%20this.data.unlocked.includes%28id%29%20%26%26%20this.data.planet%20%21%3D%3D%20id%20%26%26%20id%20%21%3D%3D%20%27earth%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20refund%20%3D%20Math.floor%28p.price%20*%200.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20+%3D%20refund%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.data.unlocked%20%3D%20this.data.unlocked.filter%28x%20%3D%3E%20x%20%21%3D%3D%20id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041F%u0440%u043E%u0434%u0430%u043D%u043E%3A%20%22%20+%20p.name%20+%20%22%20%28+%22%20+%20refund%20+%20%22%29%22%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041D%u0435%u043B%u044C%u0437%u044F%20%u043F%u0440%u043E%u0434%u0430%u0442%u044C%21%22%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20renderShopCards%28%29%20%7B%0A%20%20%20%20%20%20%20const%20c%20%3D%20document.getElementById%28%27cards-container%27%29%3B%20c.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20if%20%28this.currentTab%20%3D%3D%3D%20%27planets%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20PLANETS.forEach%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20unlocked%20%3D%20this.data.unlocked.includes%28p.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isSelected%20%3D%20this.data.planet%20%3D%3D%3D%20p.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.className%20%3D%20%60shop-card%20%24%7BisSelected%20%3F%20%27selected%27%20%3A%20%27%27%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20btnHTML%20%3D%20isSelected%20%3F%20%60%3Cbutton%20class%3D%22card-btn%20owned%22%3E%u0412%u042B%u0411%u0420%u0410%u041D%u041E%3C/button%3E%60%20%3A%20%28unlocked%20%3F%20%60%3Cbutton%20class%3D%22card-btn%22%20onclick%3D%22ui.selectPlanet%28%27%24%7Bp.id%7D%27%29%22%3E%u0412%u042B%u0411%u0420%u0410%u0422%u042C%3C/button%3E%60%20%3A%20%60%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyPlanet%28%27%24%7Bp.id%7D%27%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bp.price%7D%3C/button%3E%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sellHTML%20%3D%20%28unlocked%20%26%26%20%21isSelected%20%26%26%20p.id%20%21%3D%3D%20%27earth%27%29%20%3F%20%60%3Cdiv%20class%3D%22card-sell-opt%22%20style%3D%22position%3Aabsolute%3B%20top%3A10px%3B%20right%3A10px%3B%20cursor%3Apointer%3B%22%20onclick%3D%22ui.sellPlanet%28%27%24%7Bp.id%7D%27%2C%20event%29%22%3E%u22EE%3C/div%3E%60%20%3A%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%60%24%7BsellHTML%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card-title%22%3E%24%7Bp.name%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card-img-box%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card-planet-preview%22%20style%3D%22background%3A%24%7Bp.color%7D%3B%20border-color%3A%24%7Bp.detail%7D%3B%20box-shadow%3A0%200%20%24%7Bp.glow%3F15%3A0%7Dpx%20%24%7Bp.color%7D%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card-desc%22%3E%24%7Bp.desc%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BbtnHTML%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.onmouseenter%20%3D%20%28%29%20%3D%3E%20%7B%20document.getElementById%28%27fullDescArea%27%29.innerText%20%3D%20p.fullDesc%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.onmouseleave%20%3D%20%28%29%20%3D%3E%20%7B%20document.getElementById%28%27fullDescArea%27%29.innerText%20%3D%20%22%u041D%u0430%u0432%u0435%u0434%u0438%u0442%u0435%20%u043D%u0430%20%u043F%u0440%u0435%u0434%u043C%u0435%u0442%20%u0434%u043B%u044F%20%u043E%u043F%u0438%u0441%u0430%u043D%u0438%u044F%22%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.currentTab%20%3D%3D%3D%20%27upgrades%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20type%20in%20UPGRADES_DATA%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20info%20%3D%20UPGRADES_DATA%5Btype%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lvl%20%3D%20this.data.upgrades%5Btype%5D%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cost%20%3D%20Math.floor%28100%20*%20Math.pow%281.5%2C%20lvl%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.createElement%28%27div%27%29%3B%20el.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%24%7BITEMS_TYPES%5Btype%5D.name%7D%20%28%u0423%u0440.%20%24%7Blvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%24%7Binfo.icon%7D%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u042D%u0444%u0444%u0435%u043A%u0442%3A%3Cbr%3E%u0421%u0435%u043A%20+%201%3Cbr%3E%u041C%u043E%u0449%u044C%20+%20%25%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyUpgrade%28%27%24%7Btype%7D%27%2C%20%24%7Bcost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bcost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.currentTab%20%3D%3D%3D%20%27abilities%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20list%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27snowball%27%2C%20name%3A%27%u0421%u043D%u0435%u0436%u043E%u043A%27%2C%20desc%3A%27%u0423%u0440%u043E%u043D%20+1%25%2C%20%u0420%u0430%u0437%u043C%u0435%u0440%20+7.5%25%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27wave%27%2C%20name%3A%27%u0412%u043E%u043B%u043D%u0430%27%2C%20desc%3A%27%u0420%u0430%u0434%u0438%u0443%u0441%20+15%25%2C%20%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20+10%25%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27moon%27%2C%20name%3A%27%u0421%u043F%u0443%u0442%u043D%u0438%u043A%27%2C%20desc%3A%27%u0423%u0440%u043E%u043D%20+1%25%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27yellow%27%2C%20name%3A%27%u0416%u0451%u043B%u0442%u0430%u044F%20%u0430%u0442%u0430%u043A%u0430%27%2C%20desc%3A%27+5%25%20%u0421%u043A%u043E%u0440.%2C%20+10%25%20%u0423%u0440%u043E%u043D%2C%20-5%25%20%u0426%u0435%u043D%u0430%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27blue%27%2C%20name%3A%27%u0421%u0438%u043D%u044F%u044F%20%u0430%u0442%u0430%u043A%u0430%27%2C%20desc%3A%27+7.5%25%20%u0421%u043A%u043E%u0440.%2C%20+8%25%20%u0423%u0440%u043E%u043D%2C%20-7.5%25%20%u0426%u0435%u043D%u0430%27%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7Bid%3A%27triple%27%2C%20name%3A%27%u0422%u0440%u043E%u0439%u043D%u0430%u044F%20%u0432%u043E%u043B%u043D%u0430%27%2C%20desc%3A%27%u0420%u0430%u0434%u0438%u0443%u0441%20+15%25%2C%20%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20+10%25%27%7D%0A%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20list.forEach%28item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lvl%20%3D%20this.data.abilityLevels%5Bitem.id%5D%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20baseCost%20%3D%20200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.id%20%3D%3D%3D%20%27blue%27%29%20baseCost%20%3D%20300%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.id%20%3D%3D%3D%20%27wave%27%20%7C%7C%20item.id%20%3D%3D%3D%20%27triple%27%29%20baseCost%20%3D%20250%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cost%20%3D%20Math.floor%28baseCost%20*%20Math.pow%281.3%2C%20lvl%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.id%20%3D%3D%3D%20%27wave%27%20%7C%7C%20item.id%20%3D%3D%3D%20%27triple%27%29%20cost%20%3D%20Math.floor%28baseCost%20*%20Math.pow%281.5%2C%20lvl%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.id%20%3D%3D%3D%20%27snowball%27%20%7C%7C%20item.id%20%3D%3D%3D%20%27moon%27%29%20cost%20%3D%20Math.floor%28200%20*%20Math.pow%281.5%2C%20lvl%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.createElement%28%27div%27%29%3B%20el.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%24%7Bitem.name%7D%20%28%u0423%u0440.%20%24%7Blvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%u2728%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%24%7Bitem.desc%7D%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyAbility%28%27%24%7Bitem.id%7D%27%2C%20%24%7Bcost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bcost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.currentTab%20%3D%3D%3D%20%27misc%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lvl%20%3D%20this.data.upgradeSecondChance%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cost%20%3D%20Math.floor%28500%20*%20Math.pow%281.5%2C%20lvl%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.createElement%28%27div%27%29%3B%20el.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chance%20%3D%20Math.min%28300%2C%20lvl*10%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lvl%20%3C%2030%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0412%u0442%u043E%u0440%u0430%u044F%20%u043F%u043E%u043F%u044B%u0442%u043A%u0430%20%28%u0423%u0440.%20%24%7Blvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%u267B%uFE0F%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u0428%u0430%u043D%u0441%3A%20%24%7Bchance/10%7D%25%3Cbr%3E%u0421%u043E%u0445%u0440%u0430%u043D%u0438%u0442%u044C%2050%25%20%u043E%u0447%u043A%u043E%u0432%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyMisc%28%27secondChance%27%2C%20%24%7Bcost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bcost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.classList.add%28%27selected%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0412%u0442%u043E%u0440%u0430%u044F%20%u043F%u043E%u043F%u044B%u0442%u043A%u0430%20%28MAX%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%u267B%uFE0F%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u041C%u0430%u043A%u0441%u0438%u043C%u0443%u043C%3C/div%3E%3Cbutton%20class%3D%22card-btn%20owned%22%3EMAX%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sLvl%20%3D%20this.data.upgrades.shield%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sCost%20%3D%20Math.floor%28200%20*%20Math.pow%281.5%2C%20sLvl%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20elShield%20%3D%20document.createElement%28%27div%27%29%3B%20elShield.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20elShield.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0429%u0438%u0442%20%28%u0423%u0440.%20%24%7BsLvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%uD83D%uDEE1%uFE0F%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u0412%u0440%u0435%u043C%u044F%3A%20+5%u0441%3Cbr%3EHP%20x1.25%3Cbr%3E%u0422%u043E%u043B%u0447%u043E%u043A%20+0.1%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyUpgrade%28%27shield%27%2C%20%24%7BsCost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7BsCost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28elShield%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20aLvl%20%3D%20this.data.upgradeAmmo%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20aCosts%20%3D%20%5B150%2C%20250%2C%20400%2C%20675%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20el2%20%3D%20document.createElement%28%27div%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28aLvl%20%3C%204%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20aCost%20%3D%20aCosts%5BaLvl%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextAmmo%20%3D%204%20+%20aLvl%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextRel%20%3D%20%28aLvl%3D%3D%3D0%3F10%3A%28aLvl%3D%3D%3D1%3F8%3A%28aLvl%3D%3D%3D2%3F6%3A5%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el2.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el2.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0411%u043E%u0435%u0437%u0430%u043F%u0430%u0441%20%28%u0423%u0440.%20%24%7BaLvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%uD83D%uDD2B%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u0411%u043E%u0435%u0437%u0430%u043F%u0430%u0441%3A%20%24%7BnextAmmo%7D%3Cbr%3E%u041F%u0435%u0440%u0435%u0437%u0430%u0440%u044F%u0434%u043A%u0430%3A%20%24%7BnextRel%7D%u0441%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyMisc%28%27ammo%27%2C%20%24%7BaCost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7BaCost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el2.className%20%3D%20%27shop-card%20selected%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el2.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0411%u043E%u0435%u0437%u0430%u043F%u0430%u0441%20%28MAX%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%uD83D%uDD2B%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u041C%u0430%u043A%u0441%u0438%u043C%u0443%u043C%20%u0443%u043B%u0443%u0447%u0448%u0435%u043D%u0438%u0439%3C/div%3E%3Cbutton%20class%3D%22card-btn%20owned%22%3EMAX%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el2%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cLvl%20%3D%20this.data.upgradeCooldown%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cCosts%20%3D%20%5B250%2C%20325%2C%20410%2C%20600%2C%201000%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cVals%20%3D%20%5B0.92%2C%200.86%2C%200.80%2C%200.68%2C%200.50%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20el4%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28cLvl%20%3C%205%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cCost%20%3D%20cCosts%5BcLvl%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20val%20%3D%20cVals%5BcLvl%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el4.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el4.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u041F%u0435%u0440%u0435%u0437%u0430%u0440%u044F%u0434%u043A%u0430%20%28%u0423%u0440.%20%24%7BcLvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%u23F3%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u0412%u0440%u0435%u043C%u044F%3A%20x%24%7Bval%7D%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyMisc%28%27cooldown%27%2C%20%24%7BcCost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7BcCost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el4.className%20%3D%20%27shop-card%20selected%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el4.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u041F%u0435%u0440%u0435%u0437%u0430%u0440%u044F%u0434%u043A%u0430%20%28MAX%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%u23F3%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u041C%u0430%u043A%u0441%u0438%u043C%u0443%u043C%20%28x0.5%29%3C/div%3E%3Cbutton%20class%3D%22card-btn%20owned%22%3EMAX%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el4%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20iLvl%20%3D%20this.data.upgradeImmunity%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20iCost%20%3D%20Math.floor%28100%20+%20%28iLvl%20*%2050%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20el3%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20el3.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20nextBonus%20%3D%20%280.05%20*%20Math.pow%281.5%2C%20iLvl%29%29%20*%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20el3.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0418%u043C%u043C%u0443%u043D%u0438%u0442%u0435%u0442%20%28%u0423%u0440.%20%24%7BiLvl%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-img-box%22%3E%3Cdiv%20class%3D%22card-upgrade-icon%22%3E%uD83D%uDC89%3C/div%3E%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%u042D%u0444%u0444%u0435%u043A%u0442%u044B%20%u043F%u0440%u043E%u0445%u043E%u0434%u044F%u0442%3Cbr%3E%u0431%u044B%u0441%u0442%u0440%u0435%u0435%20%u043D%u0430%20%24%7BnextBonus.toFixed%281%29%7D%25%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyMisc%28%27immunity%27%2C%20%24%7BiCost%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7BiCost%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28el3%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%20%28this.currentTab%20%3D%3D%3D%20%27clicker%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20container%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20container.style.display%20%3D%20%27flex%27%3B%20container.style.flexDirection%20%3D%20%27column%27%3B%20container.style.alignItems%20%3D%20%27center%27%3B%20container.style.width%20%3D%20%27100%25%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20btn%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20btn.className%20%3D%20%27clicker-btn%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20btn.innerText%20%3D%20%27CLICK%21%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20btn.onclick%20%3D%20%28%29%20%3D%3E%20ui.doClicker%28btn%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20container.appendChild%28btn%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20row%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20row.style.display%20%3D%20%27flex%27%3B%20row.style.gap%20%3D%20%2720px%27%3B%20row.style.marginTop%20%3D%20%2730px%27%3B%20row.style.justifyContent%20%3D%20%27center%27%3B%20row.style.flexWrap%20%3D%20%27wrap%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20lvl1%20%3D%20this.data.clicker.level%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20cost1%20%3D%2050%20+%20%28lvl1%20*%2050%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20u1%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20u1.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20u1.style.height%20%3D%20%27200px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20u1.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0414%u043E%u0445%u043E%u0434%20%28%u0423%u0440.%20%24%7Blvl1%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E+1%20%u043C%u043E%u043D%u0435%u0442%u0430%20%u0437%u0430%20%u043A%u043B%u0438%u043A%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyClickerUpgrade%28%27level%27%2C%20%24%7Bcost1%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bcost1%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20row.appendChild%28u1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20lvl2%20%3D%20this.data.clicker.chanceLevel%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20cost2%20%3D%2075%20+%20%28lvl2%20*%2075%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20chanceVal%20%3D%2010%20+%20%28lvl2%20*%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20u2%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20u2.className%20%3D%20%27shop-card%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20u2.style.height%20%3D%20%27200px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20u2.innerHTML%20%3D%20%60%3Cdiv%20class%3D%22card-title%22%3E%u0428%u0430%u043D%u0441%20x2%20%28%u0423%u0440.%20%24%7Blvl2%7D%29%3C/div%3E%3Cdiv%20class%3D%22card-desc%22%3E%24%7BchanceVal%7D%25%20%u0448%u0430%u043D%u0441%20%u0443%u0434%u0432%u043E%u0435%u043D%u0438%u044F%3C/div%3E%3Cbutton%20class%3D%22card-btn%20buy%22%20onclick%3D%22ui.buyClickerUpgrade%28%27chance%27%2C%20%24%7Bcost2%7D%29%22%3E%u041A%u0423%u041F%u0418%u0422%u042C%3A%20%24%7Bcost2%7D%3C/button%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20row.appendChild%28u2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20container.appendChild%28row%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28container%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%0A%20%20%20doClicker%28btn%29%20%7B%0A%20%20%20%20%20%20%20btn.classList.remove%28%27anim%27%29%3B%0A%20%20%20%20%20%20%20void%20btn.offsetWidth%3B%20%0A%20%20%20%20%20%20%20btn.classList.add%28%27anim%27%29%3B%0A%20%20%20%20%20%20%20let%20amount%20%3D%201%20+%20%28this.data.clicker.level%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20let%20chance%20%3D%200.10%20+%20%28%28this.data.clicker.chanceLevel%20%7C%7C%200%29%20*%200.05%29%3B%0A%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%20chance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20amount%20*%3D%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%60x2%21%20+%24%7Bamount%7D%60%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20this.addCoins%28amount%29%3B%0A%20%20%20%20%20%20%20this.updateShopUI%28%29%3B%0A%20%20%20%7D%0A%0A%20%20%20buyClickerUpgrade%28type%2C%20cost%29%20%7B%0A%20%20%20%20%20%20%20if%28this.data.coins%20%3E%3D%20cost%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28type%20%3D%3D%3D%20%27level%27%29%20this.data.clicker.level%20%3D%20%28this.data.clicker.level%20%7C%7C%200%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28type%20%3D%3D%3D%20%27chance%27%29%20this.data.clicker.chanceLevel%20%3D%20%28this.data.clicker.chanceLevel%20%7C%7C%200%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20this.notify%28%22%u041D%u0435%u0434%u043E%u0441%u0442%u0430%u0442%u043E%u0447%u043D%u043E%20%u043C%u043E%u043D%u0435%u0442%21%22%29%3B%0A%20%20%20%7D%0A%0A%20%20%20scrollShop%28dir%29%20%7B%0A%20%20%20%20%20%20%20const%20c%20%3D%20document.getElementById%28%27cards-container%27%29%3B%0A%20%20%20%20%20%20%20c.scrollBy%28%7B%20left%3A%20dir%20*%20300%2C%20behavior%3A%20%27smooth%27%20%7D%29%3B%0A%20%20%20%7D%0A%0A%20%20%20buyPlanet%28id%29%20%7B%20const%20p%20%3D%20PLANETS.find%28x%20%3D%3E%20x.id%20%3D%3D%3D%20id%29%3B%20if%28this.data.coins%20%3E%3D%20p.price%29%20%7B%20this.data.coins%20-%3D%20p.price%3B%20this.data.unlocked.push%28id%29%3B%20this.notify%28%22%u041A%u0443%u043F%u043B%u0435%u043D%u043E%21%22%29%3B%20this.selectPlanet%28id%29%3B%20%7D%20else%20this.notify%28%22%u041D%u0443%u0436%u043D%u043E%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043C%u043E%u043D%u0435%u0442%21%22%29%3B%20%7D%0A%20%20%20selectPlanet%28id%29%20%7B%20this.data.planet%20%3D%20id%3B%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%20%7D%0A%20%20%20buyUpgrade%28t%2C%20cost%29%20%7B%20if%28this.data.coins%20%3E%3D%20cost%29%20%7B%20this.data.coins%20-%3D%20cost%3B%20this.data.upgrades%5Bt%5D++%3B%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%20%7D%20else%20this.notify%28%22%u041D%u0443%u0436%u043D%u043E%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043C%u043E%u043D%u0435%u0442%21%22%29%3B%20%7D%0A%20%20%20buyAbility%28t%2C%20cost%29%20%7B%20if%28this.data.coins%20%3E%3D%20cost%29%20%7B%20this.data.coins%20-%3D%20cost%3B%20this.data.abilityLevels%5Bt%5D++%3B%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%20%7D%20else%20this.notify%28%22%u041D%u0443%u0436%u043D%u043E%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043C%u043E%u043D%u0435%u0442%21%22%29%3B%20%7D%0A%20%20%20buyMisc%28t%2C%20cost%29%20%7B%0A%20%20%20%20%20%20%20if%28this.data.coins%20%3E%3D%20cost%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3D%3D%3D%20%27secondChance%27%20%26%26%20%28this.data.upgradeSecondChance%7C%7C0%29%20%3C%2030%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.upgradeSecondChance%20%3D%20%28this.data.upgradeSecondChance%7C%7C0%29+1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3D%3D%3D%20%27ammo%27%20%26%26%20%28this.data.upgradeAmmo%7C%7C0%29%20%3C%204%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.upgradeAmmo%20%3D%20%28this.data.upgradeAmmo%7C%7C0%29+1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3D%3D%3D%20%27immunity%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.upgradeImmunity%20%3D%20%28this.data.upgradeImmunity%7C%7C0%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3D%3D%3D%20%27cooldown%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.data.upgradeCooldown%20%3D%20%28this.data.upgradeCooldown%7C%7C0%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%20this.updateShopUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%20else%20this.notify%28%22%u041D%u0443%u0436%u043D%u043E%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043C%u043E%u043D%u0435%u0442%21%22%29%3B%0A%20%20%20%7D%0A%0A%20%20%20pauseGame%28%29%20%7B%0A%20%20%20%20%20%20%20if%28%21game.active%20%7C%7C%20game.gameOverSequence%29%20return%3B%0A%20%20%20%20%20%20%20game.paused%20%3D%20true%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27pauseMenu%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%7D%0A%20%20%20resumeGame%28%29%20%7B%0A%20%20%20%20%20%20%20game.paused%20%3D%20false%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27pauseMenu%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20game.lastTime%20%3D%20performance.now%28%29%3B%0A%20%20%20%20%20%20%20game.loop%28performance.now%28%29%29%3B%0A%20%20%20%7D%0A%0A%20%20%20updateHUD%28player%2C%20entities%2C%20bossTime%2C%20activeBoss%2C%20zoneTimer%29%20%7B%0A%20%20%20%20%20%20%20document.getElementById%28%27scoreVal%27%29.innerText%20%3D%20Math.floor%28player.score%29%3B%0A%20%20%20%20%20%20%20const%20tDisp%20%3D%20document.getElementById%28%27bossTimerDisplay%27%29%2C%20waveDisp%20%3D%20document.getElementById%28%27bossWaveDisplay%27%29%2C%20bLabel%20%3D%20document.getElementById%28%27bossLabel%27%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28zoneTimer%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20bLabel.innerText%20%3D%20%22%u0417%u041E%u041D%u0410%20%u0427%u0415%u0420%u0415%u0417%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20tDisp.innerText%20%3D%20Math.ceil%28zoneTimer%29.toString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20tDisp.style.color%20%3D%20%22cyan%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20waveDisp.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%20else%20if%28activeBoss%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20bLabel.innerText%20%3D%20%22%u0411%u041E%u0421%u0421%20%u0421%u0422%u0410%u0414%u0418%u042F%20%22%20+%20game.bossStage%3B%20tDisp.innerText%20%3D%20%22%u0411%u0418%u0422%u0412%u0410%21%22%3B%20tDisp.style.color%20%3D%20activeBoss.atmosphereColor%20%7C%7C%20%22red%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28activeBoss.waveCD%20%3E%200%20%26%26%20activeBoss.waveCD%20%3C%20100%29%20%7B%20waveDisp.innerText%20%3D%20%22%u0410%u0422%u0410%u041A%u0410%3A%20%22%20+%20Math.ceil%28activeBoss.waveCD%29%3B%20waveDisp.style.display%20%3D%20%27block%27%3B%20%7D%20else%20waveDisp.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20bLabel.innerText%20%3D%20%22%u0411%u041E%u0421%u0421%20%u0427%u0415%u0420%u0415%u0417%22%3B%20const%20m%20%3D%20Math.floor%28bossTime/60%29%2C%20s%20%3D%20Math.floor%28bossTime%2560%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20tDisp.innerText%20%3D%20%28bossTime%3E9999%29%3F%22--%3A--%22%3A%60%24%7Bm%7D%3A%24%7Bs.toString%28%29.padStart%282%2C%270%27%29%7D%60%3B%20tDisp.style.color%20%3D%20%22white%22%3B%20waveDisp.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20const%20pvpDisp%20%3D%20document.getElementById%28%27pvpTimerDisplay%27%29%3B%0A%20%20%20%20%20%20%20if%20%28game.gameTime%20%3C%2010%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20pvpDisp.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20pvpDisp.innerText%20%3D%20%22PVP%20%u0427%u0415%u0420%u0415%u0417%20%22%20+%20Math.ceil%2810%20-%20game.gameTime%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20pvpDisp.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20const%20sorted%20%3D%20%5B...entities%5D.sort%28%28a%2Cb%29%3D%3Eb.score-a.score%29%3B%0A%20%20%20%20%20%20%20sorted.forEach%28%28e%2C%20i%29%20%3D%3E%20%7B%20e.rank%20%3D%20i%20+%201%3B%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20let%20h%20%3D%20%27%27%3B%20sorted.slice%280%2C10%29.forEach%28%28e%2Ci%29%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20let%20color%20%3D%20%27%23fff%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28e%20%3D%3D%3D%20player%29%20color%20%3D%20%27%230f0%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28e.isBoss%29%20color%20%3D%20%28game.bossStage%3E%3D4%29%3F%27%23d0f%27%3A%27%23f00%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28i%20%3C%205%29%20color%20%3D%20Top5Colors%5Bi%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20h%20+%3D%20%60%3Cdiv%20class%3D%22lb-row%22%20style%3D%22color%3A%24%7Bcolor%7D%22%3E%24%7Bi+1%7D.%20%24%7Be.name%7D%20%3A%20%24%7BMath.floor%28e.score%29%7D%3C/div%3E%60%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27lb-content%27%29.innerHTML%20%3D%20h%3B%0A%0A%20%20%20%20%20%20%20const%20setCD%20%3D%20%28id%2C%20val%29%20%3D%3E%20%7B%20const%20el%20%3D%20document.getElementById%28id%29%3B%20if%28val%3E0%29%7B%20el.innerText%3DMath.ceil%28val%29%3B%20el.parentElement.classList.add%28%27cd%27%29%3B%20%7D%20else%20%7B%20el.innerText%3D%27%27%3B%20el.parentElement.classList.remove%28%27cd%27%29%3B%20%7D%20%7D%3B%0A%20%20%20%20%20%20%20setCD%28%27cdWave%27%2C%20player.waveCD%29%3B%0A%0A%20%20%20%20%20%20%20if%28player.lightStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27lightStripText%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27lightStripTimerVal%27%29.innerText%20%3D%20player.lightStripTimer.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27lightStripText%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20if%28player.blueStripActive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27blueStripText%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27blueStripTimerVal%27%29.innerText%20%3D%20player.blueStripTimer.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27lightStripText%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27blueStripText%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20const%20bStripBtn%20%3D%20document.getElementById%28%27btnBlueStrip%27%29%3B%0A%20%20%20%20%20%20%20if%20%28player.blueStripCD%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20bStripBtn.classList.add%28%27cd%27%29%3B%20bStripBtn.innerText%20%3D%20Math.ceil%28player.blueStripCD%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20bStripBtn.classList.remove%28%27cd%27%29%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%7D%0A%20%20%20toggleLb%28%29%20%7B%0A%20%20%20%20%20%20%20document.getElementById%28%27lbWrapper%27%29.classList.toggle%28%27lb-collapsed%27%29%3B%0A%20%20%20%7D%0A%20%20%20toggleMobileAbilities%28%29%20%7B%0A%20%20%20%20%20%20%20const%20grp%20%3D%20document.getElementById%28%27abilityGroup%27%29%3B%0A%20%20%20%20%20%20%20grp.classList.toggle%28%27hidden-mobile%27%29%3B%0A%20%20%20%7D%0A%20%20%20updateAmmo%28curr%2C%20max%2C%20reloadTimer%2C%20reloadTime%29%20%7B%0A%20%20%20%20%20%20%20for%28let%20i%3D1%3B%20i%3C%3D7%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20dot%20%3D%20document.getElementById%28%27ammo%27+i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28i%20%3C%3D%20max%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dot.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28i%20%3C%3D%20curr%29%20dot.classList.add%28%27active%27%29%3B%20else%20dot.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dot.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20const%20timerText%20%3D%20document.getElementById%28%27reloadTimerDisplay%27%29%3B%0A%20%20%20%20%20%20%20if%20%28curr%20%3C%20max%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20timerText.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20timeLeft%20%3D%20%28reloadTime%20-%20reloadTimer%29.toFixed%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20timerText.innerText%20%3D%20timeLeft%20+%20%22s%22%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20timerText.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20updateFPS%28val%29%20%7B%0A%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27fpsCounter%27%29%3B%20el.innerText%20%3D%20val%20+%20%22%20FPS%22%3B%0A%20%20%20%20%20%20%20let%20color%20%3D%20%27%2300FF00%27%3B%20if%20%28val%20%3C%2020%29%20color%20%3D%20interpolateColor%28%27%238B0000%27%2C%20%27%23FF0000%27%2C%20val%20/%2020%29%3B%20else%20if%20%28val%20%3C%2040%29%20color%20%3D%20interpolateColor%28%27%23FF0000%27%2C%20%27%23FFFF00%27%2C%20%28val%20-%2020%29%20/%2020%29%3B%20else%20if%20%28val%20%3C%2060%29%20color%20%3D%20interpolateColor%28%27%23FFFF00%27%2C%20%27%2300FF00%27%2C%20%28val%20-%2040%29%20/%2020%29%3B%20else%20if%20%28val%20%3C%20165%29%20color%20%3D%20interpolateColor%28%27%2300FF00%27%2C%20%27%23008000%27%2C%20%28val%20-%2060%29%20/%20105%29%3B%20else%20color%20%3D%20interpolateColor%28%27%23008000%27%2C%20%27%2300FFFF%27%2C%20Math.min%281%2C%20%28val%20-%20165%29%20/%2015%29%29%3B%0A%20%20%20%20%20%20%20el.style.color%20%3D%20color%3B%20el.style.borderColor%20%3D%20color%3B%0A%20%20%20%7D%0A%0A%20%20%20addItem%28type%29%20%7B%0A%20%20%20%20%20%20%20if%28this.invCounts%5Btype%5D%20%3C%2099%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.invCounts%5Btype%5D++%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.updateInventoryDisplay%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041F%u041E%u0414%u041E%u0411%u0420%u0410%u041D%u041E%3A%20%22%20+%20ITEMS_TYPES%5Btype%5D.name%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20manualUse%28type%29%20%7B%0A%20%20%20%20%20%20%20if%28game.player%20%26%26%20this.invCounts%5Btype%5D%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28game.player.activeEffects%20%26%26%20game.player.activeEffects%5Btype%5D%20%3E%200%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.invCounts%5Btype%5D--%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.player.useItem%28type%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.updateInventoryDisplay%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20updateInventoryDisplay%28%29%20%7B%0A%20%20%20%20%20%20%20%5B%27speed%27%2C%20%27magnet%27%2C%20%27grow%27%2C%20%27bonus%27%5D.forEach%28t%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27cnt_%27+t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20box%20%3D%20document.getElementById%28%27slot_%27+t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28this.invCounts%5Bt%5D%20%3E%200%20%7C%7C%20%28game.player%20%26%26%20game.player.activeEffects%5Bt%5D%20%3E%200%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.style.display%20%3D%20%27block%27%3B%20el.innerText%20%3D%20this.invCounts%5Bt%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.style.opacity%20%3D%20%271%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28game.player%20%26%26%20game.player.activeEffects%5Bt%5D%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.invCounts%5Bt%5D%20%3D%3D%3D%200%29%20el.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20if%28game.isMobile%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20mCount%20%3D%20document.getElementById%28%27mobSlotCount%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20total%20%3D%20this.invCounts.speed%20+%20this.invCounts.magnet%20+%20this.invCounts.grow%20+%20this.invCounts.bonus%3B%0A%20%20%20%20%20%20%20%20%20%20%20mCount.innerText%20%3D%20total%3B%20mCount.style.display%20%3D%20total%3E0%20%3F%20%27flex%27%3A%27none%27%3B%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%7D%0A%0A%20%20%20toggleInventory%28%29%20%7B%0A%20%20%20%20%20%20%20const%20inv%20%3D%20document.getElementById%28%27pc-inventory%27%29%3B%0A%20%20%20%20%20%20%20if%28inv.style.display%20%3D%3D%3D%20%27flex%27%29%20inv.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20else%20inv.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20this.updateInventoryDisplay%28%29%3B%0A%20%20%20%7D%0A%0A%20%20%20updateTimer%28effects%29%20%7B%0A%20%20%20%20%20%20%20%5B%27speed%27%2C%20%27magnet%27%2C%20%27grow%27%2C%20%27bonus%27%5D.forEach%28t%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20bar%20%3D%20document.getElementById%28%27time_%27+t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20box%20%3D%20document.getElementById%28%27slot_%27+t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28effects%5Bt%5D%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20conf%20%3D%20ITEMS_TYPES%5Bt%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20totalDur%20%3D%20conf.duration%20+%20%28this.data.upgrades%5Bt%5D%7C%7C0%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20pct%20%3D%20%28effects%5Bt%5D%20/%20totalDur%29%20*%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bar.style.height%20%3D%20pct%20+%20%27%25%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bar.style.height%20%3D%20%270%25%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28this.invCounts%5Bt%5D%20%3E%200%29%20box.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20updateSpinCooldown%28curr%2C%20max%29%20%7B%20const%20ov%20%3D%20document.getElementById%28%27spinCooldown%27%29%3B%20if%28curr%3E0%29%20%7B%20ov.style.display%3D%27flex%27%3B%20ov.innerText%3DMath.ceil%28curr%29%3B%20%7D%20else%20ov.style.display%3D%27none%27%3B%20%7D%0A%20%20%20showSpinOverlay%28%29%20%7B%20const%20o%20%3D%20document.getElementById%28%27spin-overlay%27%29%2C%20c%20%3D%20document.getElementById%28%27spinCards%27%29%3B%20c.innerHTML%3D%27%27%3B%20o.style.display%3D%27flex%27%3B%20%5B%27speed%27%2C%27magnet%27%2C%27grow%27%2C%27bonus%27%5D.forEach%28t%20%3D%3E%20%7B%20const%20d%20%3D%20document.createElement%28%27div%27%29%3B%20d.className%3D%27spin-card%27%3B%20d.innerHTML%3D%60%3Cdiv%20style%3D%22font-size%3A30px%22%3E%24%7BITEMS_TYPES%5Bt%5D.icon%7D%3C/div%3E%3Cdiv%3E%24%7BITEMS_TYPES%5Bt%5D.name%7D%3C/div%3E%3Cdiv%20style%3D%22font-size%3A10px%3B%20color%3A%23aaa%3B%20margin-top%3A5px%3B%22%3E%u041D%u0430%u0436%u043C%u0438%20%u0447%u0442%u043E%u0431%u044B%20%u0432%u0437%u044F%u0442%u044C%3C/div%3E%60%3B%20d.onclick%3D%28%29%3D%3E%7Bgame.applySpinResult%28t%29%3B%20ui.closeSpin%28%29%3B%7D%3B%20c.appendChild%28d%29%3B%20%7D%29%3B%20%7D%0A%20%20%20closeSpin%28%29%20%7B%20document.getElementById%28%27spin-overlay%27%29.style.display%3D%27none%27%3B%20%7D%0A%0A%20%20%20exitGame%28%29%20%7B%0A%20%20%20%20%20%20%20this.showMainMenu%28%29%3B%0A%20%20%20%20%20%20%20game.active%20%3D%20false%3B%0A%20%20%20%20%20%20%20game.paused%20%3D%20false%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27ui-layer%27%29.style.display%3D%27none%27%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27pauseMenu%27%29.style.display%3D%27none%27%3B%0A%20%20%20%20%20%20%20game.menuLoop%28%29%3B%0A%20%20%20%7D%0A%0A%20%20%20checkFreeCoins%28%29%20%7B%0A%20%20%20%20%20%20%20const%20btn%20%3D%20document.getElementById%28%27btnFreeCoins%27%29%3B%0A%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20if%20%28now%20-%20%28this.data.lastClaim%20%7C%7C%200%29%20%3E%20300000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20btn.classList.remove%28%27disabled%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20btn.innerText%20%3D%20%22%u0411%u0415%u0421%u041F%u041B%u0410%u0422%u041D%u042B%u0415%20%u041C%u041E%u041D%u0415%u0422%u042B%20%28250-1500%29%22%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20btn.classList.add%28%27disabled%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20minLeft%20%3D%20Math.ceil%28%28300000%20-%20%28now%20-%20this.data.lastClaim%29%29%20/%2060000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20btn.innerText%20%3D%20%60%u0416%u0434%u0438%20%24%7BminLeft%7D%20%u043C%u0438%u043D%60%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%0A%20%20%20claimFreeCoins%28%29%20%7B%0A%20%20%20%20%20%20%20const%20now%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20if%20%28now%20-%20%28this.data.lastClaim%20%7C%7C%200%29%20%3E%20300000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20const%20reward%20%3D%20250%20+%20Math.floor%28Math.random%28%29%20*%201251%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.addCoins%28reward%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.data.lastClaim%20%3D%20now%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%60+%24%7Breward%7D%20%u041C%u043E%u043D%u0435%u0442%21%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.checkFreeCoins%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%0A%20%20%20toggleHudEditor%28show%29%20%7B%0A%20%20%20%20%20%20%20document.getElementById%28%27hudEditorScreen%27%29.style.display%20%3D%20show%20%3F%20%27block%27%20%3A%20%27none%27%3B%0A%20%20%20%20%20%20%20if%28show%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.initEditor%28%27editMoveJoy%27%2C%20this.data.joyMove%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.initEditor%28%27editAimJoy%27%2C%20this.data.joyAim%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20initEditor%28id%2C%20data%29%20%7B%0A%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28id%29%3B%0A%20%20%20%20%20%20%20el.style.width%20%3D%20data.s%20+%20%27px%27%3B%20el.style.height%20%3D%20data.s%20+%20%27px%27%3B%0A%20%20%20%20%20%20%20el.style.left%20%3D%20%27auto%27%3B%20el.style.bottom%20%3D%20%27auto%27%3B%0A%20%20%20%20%20%20%20if%20%28id%20%3D%3D%3D%20%27editMoveJoy%27%29%20%7B%20el.style.left%20%3D%20data.x%20+%20%27px%27%3B%20el.style.bottom%20%3D%20data.y%20+%20%27px%27%3B%20%7D%0A%20%20%20%20%20%20%20else%20%7B%20el.style.right%20%3D%20data.x%20+%20%27px%27%3B%20el.style.bottom%20%3D%20data.y%20+%20%27px%27%3B%20%7D%0A%0A%20%20%20%20%20%20%20let%20isDrag%20%3D%20false%3B%0A%20%20%20%20%20%20%20const%20onDown%20%3D%20%28e%29%20%3D%3E%20%7B%20isDrag%20%3D%20true%3B%20document.getElementById%28%27editorSizeSlider%27%29.value%20%3D%20data.s%3B%20document.getElementById%28%27editorSizeSlider%27%29.oninput%20%3D%20%28ev%29%20%3D%3E%20%7B%20data.s%20%3D%20ev.target.value%3B%20el.style.width%20%3D%20data.s%20+%20%27px%27%3B%20el.style.height%20%3D%20data.s%20+%20%27px%27%3B%20%7D%3B%20%7D%3B%0A%20%20%20%20%20%20%20const%20onMove%20%3D%20%28e%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%28%21isDrag%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20cx%20%3D%20e.touches%20%3F%20e.touches%5B0%5D.clientX%20%3A%20e.clientX%3B%0A%20%20%20%20%20%20%20%20%20%20%20const%20cy%20%3D%20e.touches%20%3F%20e.touches%5B0%5D.clientY%20%3A%20e.clientY%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%28id%20%3D%3D%3D%20%27editMoveJoy%27%29%20%7B%20data.x%20%3D%20cx%20-%20data.s/2%3B%20data.y%20%3D%20window.innerHeight%20-%20cy%20-%20data.s/2%3B%20el.style.left%20%3D%20data.x+%27px%27%3B%20el.style.bottom%20%3D%20data.y+%27px%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20data.x%20%3D%20window.innerWidth%20-%20cx%20-%20data.s/2%3B%20data.y%20%3D%20window.innerHeight%20-%20cy%20-%20data.s/2%3B%20el.style.right%20%3D%20data.x+%27px%27%3B%20el.style.bottom%20%3D%20data.y+%27px%27%3B%20%7D%0A%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20const%20onUp%20%3D%20%28%29%20%3D%3E%20isDrag%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20el.onmousedown%20%3D%20onDown%3B%20window.onmousemove%20%3D%20onMove%3B%20window.onmouseup%20%3D%20onUp%3B%0A%20%20%20%20%20%20%20el.ontouchstart%20%3D%20onDown%3B%20window.ontouchmove%20%3D%20onMove%3B%20window.ontouchend%20%3D%20onUp%3B%0A%0A%20%20%20%7D%0A%20%20%20saveHudLayout%28%29%20%7B%0A%20%20%20%20%20%20%20this.save%28%29%3B%20this.loadHudSettings%28%29%3B%20this.toggleHudEditor%28false%29%3B%0A%20%20%20%7D%0A%20%20%20loadHudSettings%28%29%20%7B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--joy-size%27%2C%20this.data.joyMove.s%20+%20%27px%27%29%3B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--joy-x%27%2C%20this.data.joyMove.x%20+%20%27px%27%29%3B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--joy-y%27%2C%20this.data.joyMove.y%20+%20%27px%27%29%3B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--aim-size%27%2C%20this.data.joyAim.s%20+%20%27px%27%29%3B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--aim-x%27%2C%20this.data.joyAim.x%20+%20%27px%27%29%3B%0A%20%20%20%20%20%20%20document.documentElement.style.setProperty%28%27--aim-y%27%2C%20this.data.joyAim.y%20+%20%27px%27%29%3B%0A%20%20%20%7D%0A%0A%20%20%20showModifier%28%29%20%7B%0A%20%20%20%20%20%20%20document.getElementById%28%27mainMenu%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27modifierScreen%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20this.modChanges%20%3D%200%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27modCostDisplay%27%29.innerText%20%3D%200%3B%0A%20%20%20%7D%0A%20%20%20modUpdate%28key%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27val%27%20+%20key.charAt%280%29.toUpperCase%28%29%20+%20key.slice%281%29%29%3B%0A%20%20%20%20%20%20%20if%28el%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20%27botCount%27%20%7C%7C%20key%20%3D%3D%3D%20%27customMapSize%27%20%7C%7C%20key%20%3D%3D%3D%20%27passiveScorePlayer%27%20%7C%7C%20key%20%3D%3D%3D%20%27passiveScoreBot%27%20%7C%7C%20key%20%3D%3D%3D%20%27starRate%27%29%20el.innerText%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28key%20%3D%3D%3D%20%27immunity%27%29%20el.innerText%20%3D%20val%20+%20%22%25%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20else%20el.innerText%20%3D%20parseFloat%28val%29.toFixed%282%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20%27botScore%27%20%7C%7C%20key%20%3D%3D%3D%20%27bossScore%27%20%7C%7C%20key%20%3D%3D%3D%20%27playerScore%27%20%7C%7C%20key%20%3D%3D%3D%20%27playerDmg%27%20%7C%7C%20key%20%3D%3D%3D%20%27weaponDmg%27%20%7C%7C%20key%20%3D%3D%3D%20%27vacuumMult%27%29%20game.mod%5Bkey%5D%20%3D%20parseFloat%28val%29%3B%0A%20%20%20%20%20%20%20else%20game.mod%5Bkey%5D%20%3D%20parseInt%28val%29%3B%0A%0A%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20%27customMapSize%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20game.mod.mapSize%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20game.mod.customMapSize%20%3D%20parseInt%28val%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3E%200.9%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.modChanges++%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20//%20Modifiers%20cost%2050x%20more%0A%20%20%20%20%20%20%20document.getElementById%28%27modCostDisplay%27%29.innerText%20%3D%20Math.floor%28this.modChanges%20*%205.0%29%3B%0A%20%20%20%7D%0A%20%20%20saveModifiers%28%29%20%7B%0A%20%20%20%20%20%20%20const%20cost%20%3D%20Math.floor%28this.modChanges%20*%205.0%29%3B%0A%20%20%20%20%20%20%20if%20%28this.data.coins%20%3E%3D%20cost%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.data.coins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.save%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041C%u043E%u0434%u0438%u0444%u0438%u043A%u0430%u0442%u043E%u0440%u044B%20%u0441%u043E%u0445%u0440%u0430%u043D%u0435%u043D%u044B%21%20%28-%22%20+%20cost%20+%20%22%29%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20this.showMainMenu%28%29%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20this.notify%28%22%u041D%u0435%u0434%u043E%u0441%u0442%u0430%u0442%u043E%u0447%u043D%u043E%20%u043C%u043E%u043D%u0435%u0442%21%20%28%22%20+%20cost%20+%20%22%29%22%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20toggleGameMode%28key%29%20%7B%0A%20%20%20%20%20%20%20game.modeSettings%5Bkey%5D%20%3D%20%21game.modeSettings%5Bkey%5D%3B%0A%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28key%20%3D%3D%3D%20%27secondChance%27%20%3F%20%27chkSecondChance%27%20%3A%20%28key%3D%3D%3D%27bossRush%27%3F%27chkBossRush%27%3A%28key%3D%3D%3D%27pseudoMulti%27%3F%27chkPseudoMulti%27%3A%27chkDisableEvents%27%29%29%29%3B%0A%20%20%20%20%20%20%20if%28game.modeSettings%5Bkey%5D%29%20el.classList.add%28%27checked%27%29%3B%20else%20el.classList.remove%28%27checked%27%29%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.modChanges%20+%3D%2010%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27modCostDisplay%27%29.innerText%20%3D%20Math.floor%28this.modChanges%20*%205.0%29%3B%0A%20%20%20%7D%0A%20%20%20toggleModRuleImmunity%28%29%20%7B%0A%20%20%20%20%20%20%20game.mod.ruleImmunity%20%3D%20%21game.mod.ruleImmunity%3B%0A%20%20%20%20%20%20%20const%20el%20%3D%20document.getElementById%28%27chkRuleImmunity%27%29%3B%0A%20%20%20%20%20%20%20if%28game.mod.ruleImmunity%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20el.classList.add%28%27checked%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27valRuleImmunity%27%29.innerText%20%3D%20%22On%22%3B%0A%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20el.classList.remove%28%27checked%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27valRuleImmunity%27%29.innerText%20%3D%20%22Off%22%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20this.modChanges%20+%3D%2010%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27modCostDisplay%27%29.innerText%20%3D%20Math.floor%28this.modChanges%20*%205.0%29%3B%0A%20%20%20%7D%0A%20%20%20%0A%20%20%20openInGameShop%28%29%20%7B%0A%20%20%20%20%20%20%20if%20%28%21game.active%20%7C%7C%20game.paused%29%20return%3B%0A%20%20%20%20%20%20%20game.paused%20%3D%20true%3B%0A%20%20%20%20%20%20%20document.getElementById%28%27inGameShopScreen%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20this.renderInGameShop%28%29%3B%0A%20%20%20%7D%0A%20%20%20closeInGameShop%28%29%20%7B%0A%20%20%20%20%20%20%20document.getElementById%28%27inGameShopScreen%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20game.paused%20%3D%20false%3B%0A%20%20%20%20%20%20%20game.lastTime%20%3D%20performance.now%28%29%3B%0A%20%20%20%20%20%20%20game.loop%28performance.now%28%29%29%3B%0A%20%20%20%7D%0A%20%20%20renderInGameShop%28%29%20%7B%0A%20%20%20%20%20%20%20const%20c%20%3D%20document.getElementById%28%27igShopContent%27%29%3B%0A%20%20%20%20%20%20%20ui.updateSessionCoinsUI%28%29%3B%0A%20%20%20%20%20%20%20c.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20const%20upgrades%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%7B%20id%3A%20%27damage%27%2C%20name%3A%20%22%u0423%u0440%u043E%u043D%22%2C%20base%3A%20250%2C%20desc%3A%20%22%u0423%u0440%u043E%u043D%20+10%25%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%7B%20id%3A%20%27speed%27%2C%20name%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%22%2C%20base%3A%20250%2C%20desc%3A%20%22%u0421%u043A%u043E%u0440%u043E%u0441%u0442%u044C%20+10%25%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%7B%20id%3A%20%27cashback%27%2C%20name%3A%20%22%u0420%u0435%u0433%u0435%u043D%u0435%u0440%u0430%u0446%u0438%u044F%22%2C%20base%3A%20250%2C%20desc%3A%20%22%u041A%u044D%u0448%u0431%u044D%u043A%2020%25%20%28+5%25/%u0443%u0440%29%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%7B%20id%3A%20%27resistance%27%2C%20name%3A%20%22%u0421%u043E%u043F%u0440%u043E%u0442%u0438%u0432%u043B%u0435%u043D%u0438%u0435%22%2C%20base%3A%20250%2C%20desc%3A%20%22%u0428%u0430%u043D%u0441%20%u0431%u043B%u043E%u043A%u0430%2010%25%20%28+10%25/%u0443%u0440%29%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%7B%20id%3A%20%27protection%27%2C%20name%3A%20%22%u0417%u0430%u0449%u0438%u0442%u0430%22%2C%20base%3A%20250%2C%20desc%3A%20%22%u0421%u043D%u0438%u0436%u0435%u043D%u0438%u0435%20%u0443%u0440%u043E%u043D%u0430%2010%25%20%28+10%25/%u0443%u0440%29%22%20%7D%0A%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20upgrades.forEach%28u%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28%21game.player%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20lvl%20%3D%20game.player.sessionStats%5Bu.id%5D%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20cost%20%3D%20u.base%20+%20%28lvl%20*%2050%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20displayLvl%20%3D%20lvl%3B%0A%20%20%20%20%20%20%20%20%20%20%20let%20isMax%20%3D%20lvl%20%3E%3D%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20let%20valDesc%20%3D%20u.desc%3B%0A%20%20%20%20%20%20%20%20%20%20%20//%20Show%20current%20stats%20nicely%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28u.id%20%3D%3D%3D%20%27cashback%27%29%20valDesc%20%3D%20%60%u0412%u0435%u0440%u043D%u0435%u0442%20%24%7B20%20+%20lvl*5%7D%25%20%u0443%u0440%u043E%u043D%u0430%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28u.id%20%3D%3D%3D%20%27resistance%27%29%20valDesc%20%3D%20%60%u0428%u0430%u043D%u0441%20%u0431%u043B%u043E%u043A%u0430%20%24%7Blvl*10%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28u.id%20%3D%3D%3D%20%27protection%27%29%20valDesc%20%3D%20%60%u0423%u0440%u043E%u043D%20-%24%7Blvl*10%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%28isMax%29%20valDesc%20+%3D%20%22%20%28MAX%29%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20let%20row%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20row.className%20%3D%20%27ig-shop-row%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20row.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22flex%3A1%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-weight%3Abold%3B%20color%3A%23fff%22%3E%24%7Bu.name%7D%20%3Cspan%20style%3D%22font-size%3A12px%3B%20color%3Agold%3B%22%3E%28Lvl%20%24%7BdisplayLvl%7D%29%3C/span%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22font-size%3A11px%3B%20color%3A%23aaa%22%3E%24%7BvalDesc%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22ig-shop-btn%22%20onclick%3D%22ui.buySessionUpgrade%28%27%24%7Bu.id%7D%27%2C%20%24%7Bcost%7D%29%22%20%24%7Bgame.sessionCoins%20%3C%20cost%20%7C%7C%20isMax%20%3F%20%27disabled%27%20%3A%20%27%27%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BisMax%20%3F%20%27MAX%27%20%3A%20cost%20+%20%27%20%uD83E%uDE99%27%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20c.appendChild%28row%29%3B%0A%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%7D%0A%20%20%20buySessionUpgrade%28id%2C%20cost%29%20%7B%0A%20%20%20%20%20%20%20let%20currentLvl%20%3D%20%28game.player.sessionStats%5Bid%5D%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20if%20%28currentLvl%20%3E%3D%205%29%20return%3B%0A%0A%20%20%20%20%20%20%20if%20%28game.sessionCoins%20%3E%3D%20cost%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20game.sessionCoins%20-%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.spentSessionCoins%20+%3D%20cost%3B%0A%20%20%20%20%20%20%20%20%20%20%20game.player.sessionStats%5Bid%5D%20%3D%20currentLvl%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20if%20%28id%20%3D%3D%3D%20%27damage%27%29%20game.mod.playerDmg%20*%3D%201.10%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20this.renderInGameShop%28%29%3B%0A%20%20%20%20%20%20%20%7D%0A%20%20%20%7D%0A%0A%7D%0A%0Aconst%20game%20%3D%20new%20Game%28%29%3B%20%0Aconst%20ui%20%3D%20new%20UI%28%29%3B%0A%0Agame.getCooldownMult%20%3D%20function%28player%29%20%7B%0A%20%20%20%20let%20lvl%20%3D%20ui.data.upgradeCooldown%20%7C%7C%200%3B%0A%20%20%20%20if%20%28lvl%20%3D%3D%3D%200%29%20return%201.0%3B%0A%20%20%20%20if%20%28lvl%20%3D%3D%3D%201%29%20return%200.92%3B%0A%20%20%20%20if%20%28lvl%20%3D%3D%3D%202%29%20return%200.86%3B%0A%20%20%20%20if%20%28lvl%20%3D%3D%3D%203%29%20return%200.80%3B%0A%20%20%20%20if%20%28lvl%20%3D%3D%3D%204%29%20return%200.68%3B%0A%20%20%20%20if%20%28lvl%20%3E%3D%205%29%20return%200.50%3B%0A%20%20%20%20return%201.0%3B%0A%7D%3B%0A%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E'))</script>